(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+qE3":function(e,t,n){"use strict";var i,r="object"==typeof Reflect?Reflect:null,o=r&&"function"==typeof r.apply?r.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};i=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise(function(n,i){function r(){void 0!==o&&e.removeListener("error",o),n([].slice.call(arguments))}var o;"error"!==t&&(o=function(n){e.removeListener(t,r),i(n)},e.once("error",o)),e.once(t,r)})},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function l(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function h(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function d(e,t,n,i){var r,o,s;if(l(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=i?[n,s]:[s,n]:i?s.unshift(n):s.push(n),(r=h(e))>0&&s.length>r&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=s.length,console&&console.warn&&console.warn(a)}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},r=u.bind(i);return r.listener=n,i.wrapFn=r,r}function f(e,t,n){var i=e._events;if(void 0===i)return[];var r=i[t];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(r):g(r,r.length)}function m(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return h(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,r=this._events;if(void 0!==r)i=i&&void 0===r.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=r[e];if(void 0===c)return!1;if("function"==typeof c)o(c,this,t);else{var l=c.length,h=g(c,l);for(n=0;n<l;++n)o(h[n],this,t)}return!0},a.prototype.on=a.prototype.addListener=function(e,t){return d(this,e,t,!1)},a.prototype.prependListener=function(e,t){return d(this,e,t,!0)},a.prototype.once=function(e,t){return l(t),this.on(e,p(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,p(this,e,t)),this},a.prototype.off=a.prototype.removeListener=function(e,t){var n,i,r,o,s;if(l(t),void 0===(i=this._events))return this;if(void 0===(n=i[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(r=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,r=o;break}if(r<0)return this;0===r?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,r),1===n.length&&(i[e]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.removeAllListeners=function(e){var t,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var r,o=Object.keys(n);for(i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},a.prototype.listeners=function(e){return f(this,e,!0)},a.prototype.rawListeners=function(e){return f(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},a.prototype.listenerCount=m,a.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},"/TJp":function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(c){r=!0,o=c}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return n}}},"/pdn":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("k76L"),r=n("7h/2"),o=n("8xwj"),s=n("/rqz"),a=n("YwPy"),c=n("sSRp"),l=n("1z2d"),h=n("Gffd"),d=new r.Logger("Safari11"),u={OS:1024,MIS:1024};class p extends l.HandlerInterface{constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdRtpSender=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}static createFactory(){return()=>new p}get name(){return"Safari11"}close(){if(d.debug("close()"),this._pc)try{this._pc.close()}catch(e){}}async getNativeRtpCapabilities(){d.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const n=await e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{e.close()}catch(t){}const r=i.parse(n.sdp);return a.extractRtpCapabilities({sdpObject:r})}catch(t){try{e.close()}catch(n){}throw t}}async getNativeSctpCapabilities(){return d.debug("getNativeSctpCapabilities()"),{numStreams:u}}run({direction:e,iceParameters:t,iceCandidates:n,dtlsParameters:i,sctpParameters:r,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:u}){d.debug("run()"),this._direction=e,this._remoteSdp=new h.RemoteSdp({iceParameters:t,iceCandidates:n,dtlsParameters:i,sctpParameters:r,planB:!0}),this._sendingRtpParametersByKind={audio:s.getSendingRtpParameters("audio",u),video:s.getSendingRtpParameters("video",u)},this._sendingRemoteRtpParametersByKind={audio:s.getSendingRemoteRtpParameters("audio",u),video:s.getSendingRemoteRtpParameters("video",u)},this._pc=new RTCPeerConnection(Object.assign({iceServers:o||[],iceTransportPolicy:a||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"},c),l),this._pc.addEventListener("iceconnectionstatechange",()=>{switch(this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}})}async updateIceServers(e){d.debug("updateIceServers()");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(d.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),this._transportReady)if("send"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});d.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e);const t={type:"answer",sdp:this._remoteSdp.getSdp()};d.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setRemoteDescription(t)}else{const e={type:"offer",sdp:this._remoteSdp.getSdp()};d.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();d.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this._pc.getStats()}async send({track:e,encodings:t,codecOptions:n,codec:r}){this._assertSendDirection(),d.debug("send() [kind:%s, track.id:%s]",e.kind,e.id),r&&d.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(e),this._pc.addTrack(e,this._sendStream);let l,h=await this._pc.createOffer(),u=i.parse(h.sdp);const p=o.clone(this._sendingRtpParametersByKind[e.kind]);p.codecs=s.reduceCodecs(p.codecs);const f=o.clone(this._sendingRemoteRtpParametersByKind[e.kind]);if(f.codecs=s.reduceCodecs(f.codecs),this._transportReady||await this._setupTransport({localDtlsRole:"server",localSdpObject:u}),"video"===e.kind&&t&&t.length>1&&(d.debug("send() | enabling simulcast"),u=i.parse(h.sdp),l=u.media.find(e=>"video"===e.type),c.addLegacySimulcast({offerMediaObject:l,track:e,numStreams:t.length}),h={type:"offer",sdp:i.write(u)}),d.debug("send() | calling pc.setLocalDescription() [offer:%o]",h),await this._pc.setLocalDescription(h),u=i.parse(this._pc.localDescription.sdp),l=u.media.find(t=>t.type===e.kind),p.rtcp.cname=a.getCname({offerMediaObject:l}),p.encodings=c.getRtpEncodings({offerMediaObject:l,track:e}),t)for(let i=0;i<p.encodings.length;++i)t[i]&&Object.assign(p.encodings[i],t[i]);if(p.encodings.length>1&&"video/vp8"===p.codecs[0].mimeType.toLowerCase())for(const i of p.encodings)i.scalabilityMode="S1T3";this._remoteSdp.send({offerMediaObject:l,offerRtpParameters:p,answerRtpParameters:f,codecOptions:n});const m={type:"answer",sdp:this._remoteSdp.getSdp()};d.debug("send() | calling pc.setRemoteDescription() [answer:%o]",m),await this._pc.setRemoteDescription(m);const g=String(this._nextSendLocalId);this._nextSendLocalId++;const v=this._pc.getSenders().find(t=>t.track===e);return this._mapSendLocalIdRtpSender.set(g,v),{localId:g,rtpParameters:p,rtpSender:v}}async stopSending(e){this._assertSendDirection();const t=this._mapSendLocalIdRtpSender.get(e);if(!t)throw new Error("associated RTCRtpSender not found");t.track&&this._sendStream.removeTrack(t.track),this._mapSendLocalIdRtpSender.delete(e);const n=await this._pc.createOffer();d.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n);try{await this._pc.setLocalDescription(n)}catch(r){if(0===this._sendStream.getTracks().length)return void d.warn("stopSending() | ignoring expected error due no sending tracks: %s",r.toString());throw r}if("stable"===this._pc.signalingState)return;const i={type:"answer",sdp:this._remoteSdp.getSdp()};d.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async replaceTrack(e,t){this._assertSendDirection(),t?d.debug("replaceTrack() [localId:%s, track.id:%s]",e,t.id):d.debug("replaceTrack() [localId:%s, no track]",e);const n=this._mapSendLocalIdRtpSender.get(e);if(!n)throw new Error("associated RTCRtpSender not found");const i=n.track;await n.replaceTrack(t),i&&this._sendStream.removeTrack(i),t&&this._sendStream.addTrack(t)}async setMaxSpatialLayer(e,t){this._assertSendDirection(),d.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,t);const n=this._mapSendLocalIdRtpSender.get(e);if(!n)throw new Error("associated RTCRtpSender not found");const i=n.getParameters();i.encodings.forEach((e,n)=>{e.active=n<=t}),await n.setParameters(i)}async setRtpEncodingParameters(e,t){this._assertSendDirection(),d.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,t);const n=this._mapSendLocalIdRtpSender.get(e);if(!n)throw new Error("associated RTCRtpSender not found");const i=n.getParameters();i.encodings.forEach((e,n)=>{i.encodings[n]=Object.assign(Object.assign({},e),t)}),await n.setParameters(i)}async getSenderStats(e){this._assertSendDirection();const t=this._mapSendLocalIdRtpSender.get(e);if(!t)throw new Error("associated RTCRtpSender not found");return t.getStats()}async sendDataChannel({ordered:e,maxPacketLifeTime:t,maxRetransmits:n,label:r,protocol:o,priority:s}){this._assertSendDirection();const a={negotiated:!0,id:this._nextSendSctpStreamId,ordered:e,maxPacketLifeTime:t,maxRetransmits:n,protocol:o,priority:s};d.debug("sendDataChannel() [options:%o]",a);const c=this._pc.createDataChannel(r,a);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%u.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=i.parse(e.sdp),n=t.media.find(e=>"application"===e.type);this._transportReady||await this._setupTransport({localDtlsRole:"server",localSdpObject:t}),d.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:n});const r={type:"answer",sdp:this._remoteSdp.getSdp()};d.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:a.id,ordered:a.ordered,maxPacketLifeTime:a.maxPacketLifeTime,maxRetransmits:a.maxRetransmits}}}async receive({trackId:e,kind:t,rtpParameters:n}){this._assertRecvDirection(),d.debug("receive() [trackId:%s, kind:%s]",e,t);const r=e,o=t;this._remoteSdp.receive({mid:o,kind:t,offerRtpParameters:n,streamId:n.rtcp.cname,trackId:e});const s={type:"offer",sdp:this._remoteSdp.getSdp()};d.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",s),await this._pc.setRemoteDescription(s);let c=await this._pc.createAnswer();const l=i.parse(c.sdp),h=l.media.find(e=>String(e.mid)===o);a.applyCodecParameters({offerRtpParameters:n,answerMediaObject:h}),c={type:"answer",sdp:i.write(l)},this._transportReady||await this._setupTransport({localDtlsRole:"client",localSdpObject:l}),d.debug("receive() | calling pc.setLocalDescription() [answer:%o]",c),await this._pc.setLocalDescription(c);const u=this._pc.getReceivers().find(e=>e.track&&e.track.id===r);if(!u)throw new Error("new RTCRtpReceiver not");return this._mapRecvLocalIdInfo.set(r,{mid:o,rtpParameters:n,rtpReceiver:u}),{localId:r,track:u.track,rtpReceiver:u}}async stopReceiving(e){this._assertRecvDirection(),d.debug("stopReceiving() [localId:%s]",e);const{mid:t,rtpParameters:n}=this._mapRecvLocalIdInfo.get(e)||{};this._mapRecvLocalIdInfo.delete(e),this._remoteSdp.planBStopReceiving({mid:t,offerRtpParameters:n});const i={type:"offer",sdp:this._remoteSdp.getSdp()};d.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",i),await this._pc.setRemoteDescription(i);const r=await this._pc.createAnswer();d.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async getReceiverStats(e){this._assertRecvDirection();const{rtpReceiver:t}=this._mapRecvLocalIdInfo.get(e)||{};if(!t)throw new Error("associated RTCRtpReceiver not found");return t.getStats()}async receiveDataChannel({sctpStreamParameters:e,label:t,protocol:n}){this._assertRecvDirection();const{streamId:r,ordered:o,maxPacketLifeTime:s,maxRetransmits:a}=e,c={negotiated:!0,id:r,ordered:o,maxPacketLifeTime:s,maxRetransmits:a,protocol:n};d.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(t,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const e={type:"offer",sdp:this._remoteSdp.getSdp()};d.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=i.parse(t.sdp);await this._setupTransport({localDtlsRole:"client",localSdpObject:e})}d.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async _setupTransport({localDtlsRole:e,localSdpObject:t}){t||(t=i.parse(this._pc.localDescription.sdp));const n=a.extractDtlsParameters({sdpObject:t});n.role=e,this._remoteSdp.updateDtlsRole("client"===e?"server":"client"),await this.safeEmitAsPromise("@connect",{dtlsParameters:n}),this._transportReady=!0}_assertSendDirection(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}_assertRecvDirection(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}t.Safari11=p},"/rqz":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("nreB"),r=n("8xwj");function o(e){const t=new RegExp("^(audio|video)/(.+)","i");if("object"!=typeof e)throw new TypeError("codec is not an object");if(!e.mimeType||"string"!=typeof e.mimeType)throw new TypeError("missing codec.mimeType");const n=t.exec(e.mimeType);if(!n)throw new TypeError("invalid codec.mimeType");if(e.kind=n[1].toLowerCase(),e.preferredPayloadType&&"number"!=typeof e.preferredPayloadType)throw new TypeError("invalid codec.preferredPayloadType");if("number"!=typeof e.clockRate)throw new TypeError("missing codec.clockRate");"audio"===e.kind?"number"!=typeof e.channels&&(e.channels=1):delete e.channels,e.parameters&&"object"==typeof e.parameters||(e.parameters={});for(const i of Object.keys(e.parameters)){let t=e.parameters[i];if(void 0===t&&(e.parameters[i]="",t=""),"string"!=typeof t&&"number"!=typeof t)throw new TypeError(`invalid codec parameter [key:${i}s, value:${t}]`);if("apt"===i&&"number"!=typeof t)throw new TypeError("invalid codec apt parameter")}e.rtcpFeedback&&Array.isArray(e.rtcpFeedback)||(e.rtcpFeedback=[]);for(const i of e.rtcpFeedback)s(i)}function s(e){if("object"!=typeof e)throw new TypeError("fb is not an object");if(!e.type||"string"!=typeof e.type)throw new TypeError("missing fb.type");e.parameter&&"string"==typeof e.parameter||(e.parameter="")}function a(e){if("object"!=typeof e)throw new TypeError("ext is not an object");if(e.kind&&"string"==typeof e.kind||(e.kind=""),""!==e.kind&&"audio"!==e.kind&&"video"!==e.kind)throw new TypeError("invalid ext.kind");if(!e.uri||"string"!=typeof e.uri)throw new TypeError("missing ext.uri");if("number"!=typeof e.preferredId)throw new TypeError("missing ext.preferredId");if(e.preferredEncrypt&&"boolean"!=typeof e.preferredEncrypt)throw new TypeError("invalid ext.preferredEncrypt");if(e.preferredEncrypt||(e.preferredEncrypt=!1),e.direction&&"string"!=typeof e.direction)throw new TypeError("invalid ext.direction");e.direction||(e.direction="sendrecv")}function c(e){if("object"!=typeof e)throw new TypeError("params is not an object");if(e.mid&&"string"!=typeof e.mid)throw new TypeError("params.mid is not a string");if(!Array.isArray(e.codecs))throw new TypeError("missing params.codecs");for(const t of e.codecs)l(t);if(e.headerExtensions&&!Array.isArray(e.headerExtensions))throw new TypeError("params.headerExtensions is not an array");e.headerExtensions||(e.headerExtensions=[]);for(const t of e.headerExtensions)h(t);if(e.encodings&&!Array.isArray(e.encodings))throw new TypeError("params.encodings is not an array");e.encodings||(e.encodings=[]);for(const t of e.encodings)d(t);if(e.rtcp&&"object"!=typeof e.rtcp)throw new TypeError("params.rtcp is not an object");e.rtcp||(e.rtcp={}),u(e.rtcp)}function l(e){const t=new RegExp("^(audio|video)/(.+)","i");if("object"!=typeof e)throw new TypeError("codec is not an object");if(!e.mimeType||"string"!=typeof e.mimeType)throw new TypeError("missing codec.mimeType");const n=t.exec(e.mimeType);if(!n)throw new TypeError("invalid codec.mimeType");if("number"!=typeof e.payloadType)throw new TypeError("missing codec.payloadType");if("number"!=typeof e.clockRate)throw new TypeError("missing codec.clockRate");"audio"===n[1].toLowerCase()?"number"!=typeof e.channels&&(e.channels=1):delete e.channels,e.parameters&&"object"==typeof e.parameters||(e.parameters={});for(const i of Object.keys(e.parameters)){let t=e.parameters[i];if(void 0===t&&(e.parameters[i]="",t=""),"string"!=typeof t&&"number"!=typeof t)throw new TypeError(`invalid codec parameter [key:${i}s, value:${t}]`);if("apt"===i&&"number"!=typeof t)throw new TypeError("invalid codec apt parameter")}e.rtcpFeedback&&Array.isArray(e.rtcpFeedback)||(e.rtcpFeedback=[]);for(const i of e.rtcpFeedback)s(i)}function h(e){if("object"!=typeof e)throw new TypeError("ext is not an object");if(!e.uri||"string"!=typeof e.uri)throw new TypeError("missing ext.uri");if("number"!=typeof e.id)throw new TypeError("missing ext.id");if(e.encrypt&&"boolean"!=typeof e.encrypt)throw new TypeError("invalid ext.encrypt");e.encrypt||(e.encrypt=!1),e.parameters&&"object"==typeof e.parameters||(e.parameters={});for(const t of Object.keys(e.parameters)){let n=e.parameters[t];if(void 0===n&&(e.parameters[t]="",n=""),"string"!=typeof n&&"number"!=typeof n)throw new TypeError("invalid header extension parameter")}}function d(e){if("object"!=typeof e)throw new TypeError("encoding is not an object");if(e.ssrc&&"number"!=typeof e.ssrc)throw new TypeError("invalid encoding.ssrc");if(e.rid&&"string"!=typeof e.rid)throw new TypeError("invalid encoding.rid");if(e.rtx&&"object"!=typeof e.rtx)throw new TypeError("invalid encoding.rtx");if(e.rtx&&"number"!=typeof e.rtx.ssrc)throw new TypeError("missing encoding.rtx.ssrc");if(e.dtx&&"boolean"==typeof e.dtx||(e.dtx=!1),e.scalabilityMode&&"string"!=typeof e.scalabilityMode)throw new TypeError("invalid encoding.scalabilityMode")}function u(e){if("object"!=typeof e)throw new TypeError("rtcp is not an object");if(e.cname&&"string"!=typeof e.cname)throw new TypeError("invalid rtcp.cname");e.reducedSize&&"boolean"==typeof e.reducedSize||(e.reducedSize=!0)}function p(e){if("object"!=typeof e)throw new TypeError("numStreams is not an object");if("number"!=typeof e.OS)throw new TypeError("missing numStreams.OS");if("number"!=typeof e.MIS)throw new TypeError("missing numStreams.MIS")}function f(e){return!!e&&/.+\/rtx$/i.test(e.mimeType)}function m(e,t,{strict:n=!1,modify:r=!1}={}){const o=e.mimeType.toLowerCase();if(o!==t.mimeType.toLowerCase())return!1;if(e.clockRate!==t.clockRate)return!1;if(e.channels!==t.channels)return!1;switch(o){case"video/h264":if((e.parameters["packetization-mode"]||0)!==(t.parameters["packetization-mode"]||0))return!1;if(n){if(!i.isSameProfile(e.parameters,t.parameters))return!1;let n;try{n=i.generateProfileLevelIdForAnswer(e.parameters,t.parameters)}catch(s){return!1}r&&(n?e.parameters["profile-level-id"]=n:delete e.parameters["profile-level-id"])}break;case"video/vp9":if(n&&(e.parameters["profile-id"]||0)!==(t.parameters["profile-id"]||0))return!1}return!0}function g(e,t){const n=[];for(const i of e.rtcpFeedback||[]){const e=(t.rtcpFeedback||[]).find(e=>e.type===i.type&&(e.parameter===i.parameter||!e.parameter&&!i.parameter));e&&n.push(e)}return n}t.validateRtpCapabilities=function(e){if("object"!=typeof e)throw new TypeError("caps is not an object");if(e.codecs&&!Array.isArray(e.codecs))throw new TypeError("caps.codecs is not an array");e.codecs||(e.codecs=[]);for(const t of e.codecs)o(t);if(e.headerExtensions&&!Array.isArray(e.headerExtensions))throw new TypeError("caps.headerExtensions is not an array");e.headerExtensions||(e.headerExtensions=[]);for(const t of e.headerExtensions)a(t)},t.validateRtpCodecCapability=o,t.validateRtcpFeedback=s,t.validateRtpHeaderExtension=a,t.validateRtpParameters=c,t.validateRtpCodecParameters=l,t.validateRtpHeaderExtensionParameters=h,t.validateRtpEncodingParameters=d,t.validateRtcpParameters=u,t.validateSctpCapabilities=function(e){if("object"!=typeof e)throw new TypeError("caps is not an object");if(!e.numStreams||"object"!=typeof e.numStreams)throw new TypeError("missing caps.numStreams");p(e.numStreams)},t.validateNumSctpStreams=p,t.validateSctpParameters=function(e){if("object"!=typeof e)throw new TypeError("params is not an object");if("number"!=typeof e.port)throw new TypeError("missing params.port");if("number"!=typeof e.OS)throw new TypeError("missing params.OS");if("number"!=typeof e.MIS)throw new TypeError("missing params.MIS");if("number"!=typeof e.maxMessageSize)throw new TypeError("missing params.maxMessageSize")},t.validateSctpStreamParameters=function(e){if("object"!=typeof e)throw new TypeError("params is not an object");if("number"!=typeof e.streamId)throw new TypeError("missing params.streamId");let t=!1;if("boolean"==typeof e.ordered?t=!0:e.ordered=!0,e.maxPacketLifeTime&&"number"!=typeof e.maxPacketLifeTime)throw new TypeError("invalid params.maxPacketLifeTime");if(e.maxRetransmits&&"number"!=typeof e.maxRetransmits)throw new TypeError("invalid params.maxRetransmits");if(e.maxPacketLifeTime&&e.maxRetransmits)throw new TypeError("cannot provide both maxPacketLifeTime and maxRetransmits");if(t&&e.ordered&&(e.maxPacketLifeTime||e.maxRetransmits))throw new TypeError("cannot be ordered with maxPacketLifeTime or maxRetransmits");if(t||!e.maxPacketLifeTime&&!e.maxRetransmits||(e.ordered=!1),e.priority&&"string"!=typeof e.priority)throw new TypeError("invalid params.priority");if(e.label&&"string"!=typeof e.label)throw new TypeError("invalid params.label");if(e.protocol&&"string"!=typeof e.protocol)throw new TypeError("invalid params.protocol")},t.getExtendedRtpCapabilities=function(e,t){const n={codecs:[],headerExtensions:[]};for(const i of t.codecs||[]){if(f(i))continue;const t=(e.codecs||[]).find(e=>m(e,i,{strict:!0,modify:!0}));if(!t)continue;const r={mimeType:t.mimeType,kind:t.kind,clockRate:t.clockRate,channels:t.channels,localPayloadType:t.preferredPayloadType,localRtxPayloadType:void 0,remotePayloadType:i.preferredPayloadType,remoteRtxPayloadType:void 0,localParameters:t.parameters,remoteParameters:i.parameters,rtcpFeedback:g(t,i)};n.codecs.push(r)}for(const i of n.codecs){const n=e.codecs.find(e=>f(e)&&e.parameters.apt===i.localPayloadType),r=t.codecs.find(e=>f(e)&&e.parameters.apt===i.remotePayloadType);n&&r&&(i.localRtxPayloadType=n.preferredPayloadType,i.remoteRtxPayloadType=r.preferredPayloadType)}for(const i of t.headerExtensions){const t=e.headerExtensions.find(e=>{return n=i,!((t=e).kind&&n.kind&&t.kind!==n.kind||t.uri!==n.uri);var t,n});if(!t)continue;const r={kind:i.kind,uri:i.uri,sendId:t.preferredId,recvId:i.preferredId,encrypt:t.preferredEncrypt,direction:"sendrecv"};switch(i.direction){case"sendrecv":r.direction="sendrecv";break;case"recvonly":r.direction="sendonly";break;case"sendonly":r.direction="recvonly";break;case"inactive":r.direction="inactive"}n.headerExtensions.push(r)}return n},t.getRecvRtpCapabilities=function(e){const t={codecs:[],headerExtensions:[]};for(const n of e.codecs)t.codecs.push({mimeType:n.mimeType,kind:n.kind,preferredPayloadType:n.remotePayloadType,clockRate:n.clockRate,channels:n.channels,parameters:n.localParameters,rtcpFeedback:n.rtcpFeedback}),n.remoteRtxPayloadType&&t.codecs.push({mimeType:n.kind+"/rtx",kind:n.kind,preferredPayloadType:n.remoteRtxPayloadType,clockRate:n.clockRate,parameters:{apt:n.remotePayloadType},rtcpFeedback:[]});for(const n of e.headerExtensions)"sendrecv"!==n.direction&&"recvonly"!==n.direction||t.headerExtensions.push({kind:n.kind,uri:n.uri,preferredId:n.recvId,preferredEncrypt:n.encrypt,direction:n.direction});return t},t.getSendingRtpParameters=function(e,t){const n={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const i of t.codecs)i.kind===e&&(n.codecs.push({mimeType:i.mimeType,payloadType:i.localPayloadType,clockRate:i.clockRate,channels:i.channels,parameters:i.localParameters,rtcpFeedback:i.rtcpFeedback}),i.localRtxPayloadType&&n.codecs.push({mimeType:i.kind+"/rtx",payloadType:i.localRtxPayloadType,clockRate:i.clockRate,parameters:{apt:i.localPayloadType},rtcpFeedback:[]}));for(const i of t.headerExtensions)i.kind&&i.kind!==e||"sendrecv"!==i.direction&&"sendonly"!==i.direction||n.headerExtensions.push({uri:i.uri,id:i.sendId,encrypt:i.encrypt,parameters:{}});return n},t.getSendingRemoteRtpParameters=function(e,t){const n={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const i of t.codecs)i.kind===e&&(n.codecs.push({mimeType:i.mimeType,payloadType:i.localPayloadType,clockRate:i.clockRate,channels:i.channels,parameters:i.remoteParameters,rtcpFeedback:i.rtcpFeedback}),i.localRtxPayloadType&&n.codecs.push({mimeType:i.kind+"/rtx",payloadType:i.localRtxPayloadType,clockRate:i.clockRate,parameters:{apt:i.localPayloadType},rtcpFeedback:[]}));for(const i of t.headerExtensions)i.kind&&i.kind!==e||"sendrecv"!==i.direction&&"sendonly"!==i.direction||n.headerExtensions.push({uri:i.uri,id:i.sendId,encrypt:i.encrypt,parameters:{}});if(n.headerExtensions.some(e=>"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"===e.uri))for(const i of n.codecs)i.rtcpFeedback=(i.rtcpFeedback||[]).filter(e=>"goog-remb"!==e.type);else if(n.headerExtensions.some(e=>"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"===e.uri))for(const i of n.codecs)i.rtcpFeedback=(i.rtcpFeedback||[]).filter(e=>"transport-cc"!==e.type);else for(const i of n.codecs)i.rtcpFeedback=(i.rtcpFeedback||[]).filter(e=>"transport-cc"!==e.type&&"goog-remb"!==e.type);return n},t.reduceCodecs=function(e,t){const n=[];if(t){for(let i=0;i<e.length;++i)if(m(e[i],t)){n.push(e[i]),f(e[i+1])&&n.push(e[i+1]);break}if(0===n.length)throw new TypeError("no matching codec found")}else n.push(e[0]),f(e[1])&&n.push(e[1]);return n},t.generateProbatorRtpParameters=function(e){c(e=r.clone(e));const t={mid:"probator",codecs:[],headerExtensions:[],encodings:[{ssrc:1234}],rtcp:{cname:"probator"}};return t.codecs.push(e.codecs[0]),t.codecs[0].payloadType=127,t.headerExtensions=e.headerExtensions,t},t.canSend=function(e,t){return t.codecs.some(t=>t.kind===e)},t.canReceive=function(e,t){if(c(e),0===e.codecs.length)return!1;const n=e.codecs[0];return t.codecs.some(e=>e.remotePayloadType===n.payloadType)}},0:function(e,t,n){e.exports=n("zUnb")},"0KJs":function(e,t,n){function i(){var e;try{e=t.storage.debug}catch(n){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}(t=e.exports=n("FXYA")).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),n){var i="color: "+this.color;e.splice(1,0,i,"color: inherit");var r=0,o=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(r++,"%c"===e&&(o=r))}),e.splice(o,0,i)}},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}},t.load=i,t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(i())},"0NQQ":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("k76L"),r=n("7h/2"),o=n("8xwj"),s=n("/rqz"),a=n("YwPy"),c=n("iHzg"),l=n("1z2d"),h=n("Gffd"),d=n("gEDQ"),u=new r.Logger("Chrome74"),p={OS:1024,MIS:1024};class f extends l.HandlerInterface{constructor(){super(),this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}static createFactory(){return()=>new f}get name(){return"Chrome74"}close(){if(u.debug("close()"),this._pc)try{this._pc.close()}catch(e){}}async getNativeRtpCapabilities(){u.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{e.addTransceiver("audio"),e.addTransceiver("video");const n=await e.createOffer();try{e.close()}catch(t){}const r=i.parse(n.sdp);return a.extractRtpCapabilities({sdpObject:r})}catch(t){try{e.close()}catch(n){}throw t}}async getNativeSctpCapabilities(){return u.debug("getNativeSctpCapabilities()"),{numStreams:p}}run({direction:e,iceParameters:t,iceCandidates:n,dtlsParameters:i,sctpParameters:r,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:d}){u.debug("run()"),this._direction=e,this._remoteSdp=new h.RemoteSdp({iceParameters:t,iceCandidates:n,dtlsParameters:i,sctpParameters:r}),this._sendingRtpParametersByKind={audio:s.getSendingRtpParameters("audio",d),video:s.getSendingRtpParameters("video",d)},this._sendingRemoteRtpParametersByKind={audio:s.getSendingRemoteRtpParameters("audio",d),video:s.getSendingRemoteRtpParameters("video",d)},this._pc=new RTCPeerConnection(Object.assign({iceServers:o||[],iceTransportPolicy:a||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"},c),l),this._pc.addEventListener("iceconnectionstatechange",()=>{switch(this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}})}async updateIceServers(e){u.debug("updateIceServers()");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(u.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),this._transportReady)if("send"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});u.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e);const t={type:"answer",sdp:this._remoteSdp.getSdp()};u.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setRemoteDescription(t)}else{const e={type:"offer",sdp:this._remoteSdp.getSdp()};u.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();u.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this._pc.getStats()}async send({track:e,encodings:t,codecOptions:n,codec:r}){this._assertSendDirection(),u.debug("send() [kind:%s, track.id:%s]",e.kind,e.id),t&&t.length>1&&t.forEach((e,t)=>{e.rid="r"+t});const l=o.clone(this._sendingRtpParametersByKind[e.kind]);l.codecs=s.reduceCodecs(l.codecs,r);const h=o.clone(this._sendingRemoteRtpParametersByKind[e.kind]);h.codecs=s.reduceCodecs(h.codecs,r);const p=this._remoteSdp.getNextMediaSectionIdx(),f=this._pc.addTransceiver(e,{direction:"sendonly",streams:[this._sendStream],sendEncodings:t});let m,g=await this._pc.createOffer(),v=i.parse(g.sdp);this._transportReady||await this._setupTransport({localDtlsRole:"server",localSdpObject:v});let y=!1;const b=d.parse((t||[{}])[0].scalabilityMode);t&&1===t.length&&b.spatialLayers>1&&"video/vp9"===l.codecs[0].mimeType.toLowerCase()&&(u.debug("send() | enabling legacy simulcast for VP9 SVC"),y=!0,v=i.parse(g.sdp),m=v.media[p.idx],c.addLegacySimulcast({offerMediaObject:m,numStreams:b.spatialLayers}),g={type:"offer",sdp:i.write(v)}),u.debug("send() | calling pc.setLocalDescription() [offer:%o]",g),await this._pc.setLocalDescription(g);const _=f.mid;if(l.mid=_,v=i.parse(this._pc.localDescription.sdp),m=v.media[p.idx],l.rtcp.cname=a.getCname({offerMediaObject:m}),t)if(1===t.length){let e=c.getRtpEncodings({offerMediaObject:m});Object.assign(e[0],t[0]),y&&(e=[e[0]]),l.encodings=e}else l.encodings=t;else l.encodings=c.getRtpEncodings({offerMediaObject:m});if(l.encodings.length>1&&("video/vp8"===l.codecs[0].mimeType.toLowerCase()||"video/h264"===l.codecs[0].mimeType.toLowerCase()))for(const i of l.encodings)i.scalabilityMode="S1T3";this._remoteSdp.send({offerMediaObject:m,reuseMid:p.reuseMid,offerRtpParameters:l,answerRtpParameters:h,codecOptions:n,extmapAllowMixed:!0});const w={type:"answer",sdp:this._remoteSdp.getSdp()};return u.debug("send() | calling pc.setRemoteDescription() [answer:%o]",w),await this._pc.setRemoteDescription(w),this._mapMidTransceiver.set(_,f),{localId:_,rtpParameters:l,rtpSender:f.sender}}async stopSending(e){this._assertSendDirection(),u.debug("stopSending() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");t.sender.replaceTrack(null),this._pc.removeTrack(t.sender),this._remoteSdp.closeMediaSection(t.mid);const n=await this._pc.createOffer();u.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const i={type:"answer",sdp:this._remoteSdp.getSdp()};u.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async replaceTrack(e,t){this._assertSendDirection(),t?u.debug("replaceTrack() [localId:%s, track.id:%s]",e,t.id):u.debug("replaceTrack() [localId:%s, no track]",e);const n=this._mapMidTransceiver.get(e);if(!n)throw new Error("associated RTCRtpTransceiver not found");await n.sender.replaceTrack(t)}async setMaxSpatialLayer(e,t){this._assertSendDirection(),u.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,t);const n=this._mapMidTransceiver.get(e);if(!n)throw new Error("associated RTCRtpTransceiver not found");const i=n.sender.getParameters();i.encodings.forEach((e,n)=>{e.active=n<=t}),await n.sender.setParameters(i)}async setRtpEncodingParameters(e,t){this._assertSendDirection(),u.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,t);const n=this._mapMidTransceiver.get(e);if(!n)throw new Error("associated RTCRtpTransceiver not found");const i=n.sender.getParameters();i.encodings.forEach((e,n)=>{i.encodings[n]=Object.assign(Object.assign({},e),t)}),await n.sender.setParameters(i)}async getSenderStats(e){this._assertSendDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.sender.getStats()}async sendDataChannel({ordered:e,maxPacketLifeTime:t,maxRetransmits:n,label:r,protocol:o,priority:s}){this._assertSendDirection();const a={negotiated:!0,id:this._nextSendSctpStreamId,ordered:e,maxPacketLifeTime:t,maxRetransmits:n,protocol:o,priority:s};u.debug("sendDataChannel() [options:%o]",a);const c=this._pc.createDataChannel(r,a);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%p.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=i.parse(e.sdp),n=t.media.find(e=>"application"===e.type);this._transportReady||await this._setupTransport({localDtlsRole:"server",localSdpObject:t}),u.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:n});const r={type:"answer",sdp:this._remoteSdp.getSdp()};u.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:a.id,ordered:a.ordered,maxPacketLifeTime:a.maxPacketLifeTime,maxRetransmits:a.maxRetransmits}}}async receive({trackId:e,kind:t,rtpParameters:n}){this._assertRecvDirection(),u.debug("receive() [trackId:%s, kind:%s]",e,t);const r=n.mid||String(this._mapMidTransceiver.size);this._remoteSdp.receive({mid:r,kind:t,offerRtpParameters:n,streamId:n.rtcp.cname,trackId:e});const o={type:"offer",sdp:this._remoteSdp.getSdp()};u.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",o),await this._pc.setRemoteDescription(o);let s=await this._pc.createAnswer();const c=i.parse(s.sdp),l=c.media.find(e=>String(e.mid)===r);a.applyCodecParameters({offerRtpParameters:n,answerMediaObject:l}),s={type:"answer",sdp:i.write(c)},this._transportReady||await this._setupTransport({localDtlsRole:"client",localSdpObject:c}),u.debug("receive() | calling pc.setLocalDescription() [answer:%o]",s),await this._pc.setLocalDescription(s);const h=this._pc.getTransceivers().find(e=>e.mid===r);if(!h)throw new Error("new RTCRtpTransceiver not found");return this._mapMidTransceiver.set(r,h),{localId:r,track:h.receiver.track,rtpReceiver:h.receiver}}async stopReceiving(e){this._assertRecvDirection(),u.debug("stopReceiving() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(t.mid);const n={type:"offer",sdp:this._remoteSdp.getSdp()};u.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const i=await this._pc.createAnswer();u.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i)}async getReceiverStats(e){this._assertRecvDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:e,label:t,protocol:n}){this._assertRecvDirection();const{streamId:r,ordered:o,maxPacketLifeTime:s,maxRetransmits:a}=e,c={negotiated:!0,id:r,ordered:o,maxPacketLifeTime:s,maxRetransmits:a,protocol:n};u.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(t,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const e={type:"offer",sdp:this._remoteSdp.getSdp()};u.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=i.parse(t.sdp);await this._setupTransport({localDtlsRole:"client",localSdpObject:e})}u.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async _setupTransport({localDtlsRole:e,localSdpObject:t}){t||(t=i.parse(this._pc.localDescription.sdp));const n=a.extractDtlsParameters({sdpObject:t});n.role=e,this._remoteSdp.updateDtlsRole("client"===e?"server":"client"),await this.safeEmitAsPromise("@connect",{dtlsParameters:n}),this._transportReady=!0}_assertSendDirection(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}_assertRecvDirection(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}t.Chrome74=f},"0z79":function(e,t,n){var i=n("AdPF"),r=n("CUme"),o=n("cpc2"),s=n("Yvos"),a=n("x7D4")("engine.io-client:polling-xhr"),c=n("2UHX");function l(){}function h(e){if(r.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,"undefined"!=typeof location){var t="https:"===location.protocol,n=location.port;n||(n=t?443:80),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||n!==e.port,this.xs=e.secure!==t}}function d(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function u(){for(var e in d.requests)d.requests.hasOwnProperty(e)&&d.requests[e].abort()}e.exports=h,e.exports.Request=d,s(h,r),h.prototype.supportsBinary=!0,h.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.withCredentials=this.withCredentials,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new d(e)},h.prototype.doWrite=function(e,t){var n=this.request({method:"POST",data:e,isBinary:"string"!=typeof e&&void 0!==e}),i=this;n.on("success",t),n.on("error",function(e){i.onError("xhr post error",e)}),this.sendXhr=n},h.prototype.doPoll=function(){a("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},o(d.prototype),d.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new i(e),n=this;try{a("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var r in t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(r)&&t.setRequestHeader(r,this.extraHeaders[r])}catch(o){}if("POST"===this.method)try{t.setRequestHeader("Content-type",this.isBinary?"application/octet-stream":"text/plain;charset=UTF-8")}catch(o){}try{t.setRequestHeader("Accept","*/*")}catch(o){}"withCredentials"in t&&(t.withCredentials=this.withCredentials),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){n.onLoad()},t.onerror=function(){n.onError(t.responseText)}):t.onreadystatechange=function(){if(2===t.readyState)try{var e=t.getResponseHeader("Content-Type");(n.supportsBinary&&"application/octet-stream"===e||"application/octet-stream; charset=UTF-8"===e)&&(t.responseType="arraybuffer")}catch(o){}4===t.readyState&&(200===t.status||1223===t.status?n.onLoad():setTimeout(function(){n.onError("number"==typeof t.status?t.status:0)},0))},a("xhr data %s",this.data),t.send(this.data)}catch(o){return void setTimeout(function(){n.onError(o)},0)}"undefined"!=typeof document&&(this.index=d.requestsCount++,d.requests[this.index]=this)},d.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},d.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},d.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},d.prototype.cleanup=function(e){if(null!=this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=l:this.xhr.onreadystatechange=l,e)try{this.xhr.abort()}catch(t){}"undefined"!=typeof document&&delete d.requests[this.index],this.xhr=null}},d.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch(n){}e=("application/octet-stream"===t||"application/octet-stream; charset=UTF-8"===t)&&this.xhr.response||this.xhr.responseText}catch(n){this.onError(n)}null!=e&&this.onData(e)},d.prototype.hasXDR=function(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR},d.prototype.abort=function(){this.cleanup()},d.requestsCount=0,d.requests={},"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",u):"function"==typeof addEventListener&&addEventListener("onpagehide"in c?"pagehide":"unload",u,!1))},1:function(e,t){},"14A5":function(e,t){var n=void 0!==n?n:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder,i=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),r=i&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),o=n&&n.prototype.append&&n.prototype.getBlob;function s(e){return e.map(function(e){if(e.buffer instanceof ArrayBuffer){var t=e.buffer;if(e.byteLength!==t.byteLength){var n=new Uint8Array(e.byteLength);n.set(new Uint8Array(t,e.byteOffset,e.byteLength)),t=n.buffer}return t}return e})}function a(e,t){t=t||{};var i=new n;return s(e).forEach(function(e){i.append(e)}),t.type?i.getBlob(t.type):i.getBlob()}function c(e,t){return new Blob(s(e),t||{})}"undefined"!=typeof Blob&&(a.prototype=Blob.prototype,c.prototype=Blob.prototype),e.exports=i?r?Blob:c:o?a:void 0},"1PgL":function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},"1z2d":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("GygU");t.HandlerInterface=class extends i.EnhancedEventEmitter{constructor(){super()}}},"2Dig":function(e,t){e.exports=function(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}},"2Fkq":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("k76L"),r=n("7h/2"),o=n("nAs4"),s=n("8xwj"),a=n("/rqz"),c=n("YwPy"),l=n("iHzg"),h=n("1z2d"),d=n("Gffd"),u=new r.Logger("Firefox60"),p={OS:16,MIS:2048};class f extends h.HandlerInterface{constructor(){super(),this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}static createFactory(){return()=>new f}get name(){return"Firefox60"}close(){if(u.debug("close()"),this._pc)try{this._pc.close()}catch(e){}}async getNativeRtpCapabilities(){u.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),t=document.createElement("canvas");t.getContext("2d");const n=t.captureStream().getVideoTracks()[0];try{e.addTransceiver("audio",{direction:"sendrecv"});const o=e.addTransceiver(n,{direction:"sendrecv"}),s=o.sender.getParameters();s.encodings=[{rid:"r0",maxBitrate:1e5},{rid:"r1",maxBitrate:5e5}],await o.sender.setParameters(s);const a=await e.createOffer();try{t.remove()}catch(r){}try{n.stop()}catch(r){}try{e.close()}catch(r){}const l=i.parse(a.sdp);return c.extractRtpCapabilities({sdpObject:l})}catch(r){try{t.remove()}catch(o){}try{n.stop()}catch(o){}try{e.close()}catch(o){}throw r}}async getNativeSctpCapabilities(){return u.debug("getNativeSctpCapabilities()"),{numStreams:p}}run({direction:e,iceParameters:t,iceCandidates:n,dtlsParameters:i,sctpParameters:r,iceServers:o,iceTransportPolicy:s,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:h}){u.debug("run()"),this._direction=e,this._remoteSdp=new d.RemoteSdp({iceParameters:t,iceCandidates:n,dtlsParameters:i,sctpParameters:r}),this._sendingRtpParametersByKind={audio:a.getSendingRtpParameters("audio",h),video:a.getSendingRtpParameters("video",h)},this._sendingRemoteRtpParametersByKind={audio:a.getSendingRemoteRtpParameters("audio",h),video:a.getSendingRemoteRtpParameters("video",h)},this._pc=new RTCPeerConnection(Object.assign({iceServers:o||[],iceTransportPolicy:s||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"},c),l),this._pc.addEventListener("iceconnectionstatechange",()=>{switch(this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}})}async updateIceServers(e){throw new o.UnsupportedError("not supported")}async restartIce(e){if(u.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),this._transportReady)if("send"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});u.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e);const t={type:"answer",sdp:this._remoteSdp.getSdp()};u.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setRemoteDescription(t)}else{const e={type:"offer",sdp:this._remoteSdp.getSdp()};u.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();u.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this._pc.getStats()}async send({track:e,encodings:t,codecOptions:n,codec:r}){let o;this._assertSendDirection(),u.debug("send() [kind:%s, track.id:%s]",e.kind,e.id),t&&t.length>1&&(t.forEach((e,t)=>{e.rid="r"+t}),o=s.clone(t).reverse());const h=s.clone(this._sendingRtpParametersByKind[e.kind]);h.codecs=a.reduceCodecs(h.codecs,r);const d=s.clone(this._sendingRemoteRtpParametersByKind[e.kind]);d.codecs=a.reduceCodecs(d.codecs,r);const p=this._pc.addTransceiver(e,{direction:"sendonly",streams:[this._sendStream]});if(o){const e=p.sender.getParameters();e.encodings=o,await p.sender.setParameters(e)}const f=await this._pc.createOffer();let m=i.parse(f.sdp);this._transportReady||await this._setupTransport({localDtlsRole:"client",localSdpObject:m}),u.debug("send() | calling pc.setLocalDescription() [offer:%o]",f),await this._pc.setLocalDescription(f);const g=p.mid;h.mid=g,m=i.parse(this._pc.localDescription.sdp);const v=m.media[m.media.length-1];if(h.rtcp.cname=c.getCname({offerMediaObject:v}),t)if(1===t.length){const e=l.getRtpEncodings({offerMediaObject:v});Object.assign(e[0],t[0]),h.encodings=e}else h.encodings=t;else h.encodings=l.getRtpEncodings({offerMediaObject:v});if(h.encodings.length>1&&("video/vp8"===h.codecs[0].mimeType.toLowerCase()||"video/h264"===h.codecs[0].mimeType.toLowerCase()))for(const i of h.encodings)i.scalabilityMode="S1T3";this._remoteSdp.send({offerMediaObject:v,offerRtpParameters:h,answerRtpParameters:d,codecOptions:n,extmapAllowMixed:!0});const y={type:"answer",sdp:this._remoteSdp.getSdp()};return u.debug("send() | calling pc.setRemoteDescription() [answer:%o]",y),await this._pc.setRemoteDescription(y),this._mapMidTransceiver.set(g,p),{localId:g,rtpParameters:h,rtpSender:p.sender}}async stopSending(e){u.debug("stopSending() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated transceiver not found");t.sender.replaceTrack(null),this._pc.removeTrack(t.sender),this._remoteSdp.disableMediaSection(t.mid);const n=await this._pc.createOffer();u.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const i={type:"answer",sdp:this._remoteSdp.getSdp()};u.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async replaceTrack(e,t){this._assertSendDirection(),t?u.debug("replaceTrack() [localId:%s, track.id:%s]",e,t.id):u.debug("replaceTrack() [localId:%s, no track]",e);const n=this._mapMidTransceiver.get(e);if(!n)throw new Error("associated RTCRtpTransceiver not found");await n.sender.replaceTrack(t)}async setMaxSpatialLayer(e,t){this._assertSendDirection(),u.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,t);const n=this._mapMidTransceiver.get(e);if(!n)throw new Error("associated transceiver not found");const i=n.sender.getParameters();t=i.encodings.length-1-t,i.encodings.forEach((e,n)=>{e.active=n>=t}),await n.sender.setParameters(i)}async setRtpEncodingParameters(e,t){this._assertSendDirection(),u.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,t);const n=this._mapMidTransceiver.get(e);if(!n)throw new Error("associated RTCRtpTransceiver not found");const i=n.sender.getParameters();i.encodings.forEach((e,n)=>{i.encodings[n]=Object.assign(Object.assign({},e),t)}),await n.sender.setParameters(i)}async getSenderStats(e){this._assertSendDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.sender.getStats()}async sendDataChannel({ordered:e,maxPacketLifeTime:t,maxRetransmits:n,label:r,protocol:o,priority:s}){this._assertSendDirection();const a={negotiated:!0,id:this._nextSendSctpStreamId,ordered:e,maxPacketLifeTime:t,maxRetransmits:n,protocol:o,priority:s};u.debug("sendDataChannel() [options:%o]",a);const c=this._pc.createDataChannel(r,a);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%p.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=i.parse(e.sdp),n=t.media.find(e=>"application"===e.type);this._transportReady||await this._setupTransport({localDtlsRole:"server",localSdpObject:t}),u.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:n});const r={type:"answer",sdp:this._remoteSdp.getSdp()};u.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:a.id,ordered:a.ordered,maxPacketLifeTime:a.maxPacketLifeTime,maxRetransmits:a.maxRetransmits}}}async receive({trackId:e,kind:t,rtpParameters:n}){this._assertRecvDirection(),u.debug("receive() [trackId:%s, kind:%s]",e,t);const r=n.mid||String(this._mapMidTransceiver.size);this._remoteSdp.receive({mid:r,kind:t,offerRtpParameters:n,streamId:n.rtcp.cname,trackId:e});const o={type:"offer",sdp:this._remoteSdp.getSdp()};u.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",o),await this._pc.setRemoteDescription(o);let s=await this._pc.createAnswer();const a=i.parse(s.sdp),l=a.media.find(e=>String(e.mid)===r);c.applyCodecParameters({offerRtpParameters:n,answerMediaObject:l}),s={type:"answer",sdp:i.write(a)},this._transportReady||await this._setupTransport({localDtlsRole:"client",localSdpObject:a}),u.debug("receive() | calling pc.setLocalDescription() [answer:%o]",s),await this._pc.setLocalDescription(s);const h=this._pc.getTransceivers().find(e=>e.mid===r);if(!h)throw new Error("new RTCRtpTransceiver not found");return this._mapMidTransceiver.set(r,h),{localId:r,track:h.receiver.track,rtpReceiver:h.receiver}}async stopReceiving(e){this._assertRecvDirection(),u.debug("stopReceiving() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(t.mid);const n={type:"offer",sdp:this._remoteSdp.getSdp()};u.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const i=await this._pc.createAnswer();u.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i)}async getReceiverStats(e){this._assertRecvDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:e,label:t,protocol:n}){this._assertRecvDirection();const{streamId:r,ordered:o,maxPacketLifeTime:s,maxRetransmits:a}=e,c={negotiated:!0,id:r,ordered:o,maxPacketLifeTime:s,maxRetransmits:a,protocol:n};u.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(t,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const e={type:"offer",sdp:this._remoteSdp.getSdp()};u.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=i.parse(t.sdp);await this._setupTransport({localDtlsRole:"client",localSdpObject:e})}u.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async _setupTransport({localDtlsRole:e,localSdpObject:t}){t||(t=i.parse(this._pc.localDescription.sdp));const n=c.extractDtlsParameters({sdpObject:t});n.role=e,this._remoteSdp.updateDtlsRole("client"===e?"server":"client"),await this.safeEmitAsPromise("@connect",{dtlsParameters:n}),this._transportReady=!0}_assertSendDirection(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}_assertRecvDirection(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}t.Firefox60=f},"2UHX":function(e,t){e.exports="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")()},"2pII":function(e,t,n){var i=n("akSB"),r=n("cpc2"),o=n("x7D4")("engine.io-client:socket"),s=n("7jRU"),a=n("Wm4p"),c=n("Uxeu"),l=n("TypT");function h(e,t){if(!(this instanceof h))return new h(e,t);t=t||{},e&&"object"==typeof e&&(t=e,e=null),e?(e=c(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=c(t.host).host),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=l.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.withCredentials=!1!==t.withCredentials,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized||t.rejectUnauthorized,this.forceNode=!!t.forceNode,this.isReactNative="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"==typeof self||this.isReactNative)&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}e.exports=h,h.priorWebsocketSuccess=!1,r(h.prototype),h.protocol=a.protocol,h.Socket=h,h.Transport=n("Gbct"),h.transports=n("akSB"),h.parser=n("Wm4p"),h.prototype.createTransport=function(e){o('creating transport "%s"',e);var t=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(this.query);t.EIO=a.protocol,t.transport=e;var n=this.transportOptions[e]||{};return this.id&&(t.sid=this.id),new i[e]({query:t,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,withCredentials:n.withCredentials||this.withCredentials,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative})},h.prototype.open=function(){var e;if(this.rememberUpgrade&&h.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(n){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},h.prototype.setTransport=function(e){o("setting transport %s",e.name);var t=this;this.transport&&(o("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},h.prototype.probe=function(e){o('probing transport "%s"',e);var t=this.createTransport(e,{probe:1}),n=!1,i=this;function r(){i.onlyBinaryUpgrades&&(n=n||!this.supportsBinary&&i.transport.supportsBinary),n||(o('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",function(r){if(!n)if("pong"===r.type&&"probe"===r.data){if(o('probe transport "%s" pong',e),i.upgrading=!0,i.emit("upgrading",t),!t)return;h.priorWebsocketSuccess="websocket"===t.name,o('pausing current transport "%s"',i.transport.name),i.transport.pause(function(){n||"closed"!==i.readyState&&(o("changing transport and sending upgrade packet"),u(),i.setTransport(t),t.send([{type:"upgrade"}]),i.emit("upgrade",t),t=null,i.upgrading=!1,i.flush())})}else{o('probe transport "%s" failed',e);var s=new Error("probe error");s.transport=t.name,i.emit("upgradeError",s)}}))}function s(){n||(n=!0,u(),t.close(),t=null)}function a(n){var r=new Error("probe error: "+n);r.transport=t.name,s(),o('probe transport "%s" failed because of error: %s',e,n),i.emit("upgradeError",r)}function c(){a("transport closed")}function l(){a("socket closed")}function d(e){t&&e.name!==t.name&&(o('"%s" works - aborting "%s"',e.name,t.name),s())}function u(){t.removeListener("open",r),t.removeListener("error",a),t.removeListener("close",c),i.removeListener("close",l),i.removeListener("upgrading",d)}h.priorWebsocketSuccess=!1,t.once("open",r),t.once("error",a),t.once("close",c),this.once("close",l),this.once("upgrading",d),t.open()},h.prototype.onOpen=function(){if(o("socket open"),this.readyState="open",h.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){o("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},h.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(o('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else o('packet received with socket readyState "%s"',this.readyState)},h.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},h.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!==t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},h.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){o("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},h.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},h.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},h.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(o("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},h.prototype.write=h.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},h.prototype.sendPacket=function(e,t,n,i){if("function"==typeof t&&(i=t,t=void 0),"function"==typeof n&&(i=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var r={type:e,data:t,options:n};this.emit("packetCreate",r),this.writeBuffer.push(r),i&&this.once("flush",i),this.flush()}},h.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?i():t()}):this.upgrading?i():t()}function t(){e.onClose("forced close"),o("socket closing - telling transport to close"),e.transport.close()}function n(){e.removeListener("upgrade",n),e.removeListener("upgradeError",n),t()}function i(){e.once("upgrade",n),e.once("upgradeError",n)}return this},h.prototype.onError=function(e){o("socket error %j",e),h.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},h.prototype.onClose=function(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(o('socket close with reason: "%s"',e),clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)},h.prototype.filterUpgrades=function(e){for(var t=[],n=0,i=e.length;n<i;n++)~s(this.transports,e[n])&&t.push(e[n]);return t}},"2xqC":function(e,t,n){function i(e){if(e)return function(e){for(var t in i.prototype)e[t]=i.prototype[t];return e}(e)}e.exports=i,i.prototype.on=i.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},i.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,i=this._callbacks["$"+e];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r=0;r<i.length;r++)if((n=i[r])===t||n.fn===t){i.splice(r,1);break}return this},i.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var i=0,r=(n=n.slice(0)).length;i<r;++i)n[i].apply(this,t);return this},i.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},i.prototype.hasListeners=function(e){return!!this.listeners(e).length}},"3JDX":function(e,t,n){e.exports=function(e){function t(e){let n;function o(...e){if(!o.enabled)return;const i=o,r=Number(new Date);i.diff=r-(n||r),i.prev=n,i.curr=r,n=r,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(n,r)=>{if("%%"===n)return n;s++;const o=t.formatters[r];return"function"==typeof o&&(n=o.call(i,e[s]),e.splice(s,1),s--),n}),t.formatArgs.call(i,e),(i.log||t.log).apply(i,e)}return o.namespace=e,o.enabled=t.enabled(e),o.useColors=t.useColors(),o.color=t.selectColor(e),o.destroy=i,o.extend=r,"function"==typeof t.init&&t.init(o),t.instances.push(o),o}function i(){const e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}function r(e,n){const i=t(this.namespace+(void 0===n?":":n)+e);return i.log=this.log,i}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(o),...t.skips.map(o).map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.names=[],t.skips=[];const i=("string"==typeof e?e:"").split(/[\s,]+/),r=i.length;for(n=0;n<r;n++)i[n]&&("-"===(e=i[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){const e=t.instances[n];e.enabled=t.enabled(e.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,i;for(n=0,i=t.skips.length;n<i;n++)if(t.skips[n].test(e))return!1;for(n=0,i=t.names.length;n<i;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n("FGiv"),Object.keys(e).forEach(n=>{t[n]=e[n]}),t.instances=[],t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},"3fo0":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("Nj9v");t.Device=i.Device,t.detectDevice=i.detectDevice;const r=n("Ay4W");t.types=r,t.version="3.6.15";var o=n("gEDQ");t.parseScalabilityMode=o.parse},"4Eqw":function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function s(e){try{c(i.next(e))}catch(t){o(t)}}function a(e){try{c(i.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.AwaitQueue=class{constructor({ClosedErrorClass:e,StoppedErrorClass:t}={ClosedErrorClass:Error,StoppedErrorClass:Error}){this.closed=!1,this.pendingTasks=[],this.ClosedErrorClass=Error,this.StoppedErrorClass=Error,this.ClosedErrorClass=e,this.StoppedErrorClass=t}get size(){return this.pendingTasks.length}close(){if(!this.closed){this.closed=!0;for(const e of this.pendingTasks)e.stopped=!0,e.reject(new this.ClosedErrorClass("AwaitQueue closed"));this.pendingTasks.length=0}}push(e,t){return i(this,void 0,void 0,function*(){if(this.closed)throw new this.ClosedErrorClass("AwaitQueue closed");if("function"!=typeof e)throw new TypeError("given task is not a function");if(!e.name&&t)try{Object.defineProperty(e,"name",{value:t})}catch(n){}return new Promise((n,i)=>{this.pendingTasks.push({task:e,name:t,resolve:n,reject:i,stopped:!1}),1===this.pendingTasks.length&&this.next()})})}stop(){if(!this.closed){for(const e of this.pendingTasks)e.stopped=!0,e.reject(new this.StoppedErrorClass("AwaitQueue stopped"));this.pendingTasks.length=0}}dump(){return this.pendingTasks.map(e=>({task:e.task,name:e.name,stopped:e.stopped}))}next(){return i(this,void 0,void 0,function*(){const e=this.pendingTasks[0];e&&(yield this.executeTask(e),this.pendingTasks.shift(),this.next())})}executeTask(e){return i(this,void 0,void 0,function*(){if(!e.stopped)try{const t=yield e.task();if(e.stopped)return;e.resolve(t)}catch(t){if(e.stopped)return;e.reject(t)}})}}},"4NJD":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("k76L"),r=n("7h/2"),o=n("nAs4"),s=n("8xwj"),a=n("/rqz"),c=n("YwPy"),l=n("sSRp"),h=n("1z2d"),d=n("Gffd"),u=new r.Logger("Chrome55"),p={OS:1024,MIS:1024};class f extends h.HandlerInterface{constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdTrack=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}static createFactory(){return()=>new f}get name(){return"Chrome55"}close(){if(u.debug("close()"),this._pc)try{this._pc.close()}catch(e){}}async getNativeRtpCapabilities(){u.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const n=await e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{e.close()}catch(t){}const r=i.parse(n.sdp);return c.extractRtpCapabilities({sdpObject:r})}catch(t){try{e.close()}catch(n){}throw t}}async getNativeSctpCapabilities(){return u.debug("getNativeSctpCapabilities()"),{numStreams:p}}run({direction:e,iceParameters:t,iceCandidates:n,dtlsParameters:i,sctpParameters:r,iceServers:o,iceTransportPolicy:s,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:h}){u.debug("run()"),this._direction=e,this._remoteSdp=new d.RemoteSdp({iceParameters:t,iceCandidates:n,dtlsParameters:i,sctpParameters:r,planB:!0}),this._sendingRtpParametersByKind={audio:a.getSendingRtpParameters("audio",h),video:a.getSendingRtpParameters("video",h)},this._sendingRemoteRtpParametersByKind={audio:a.getSendingRemoteRtpParameters("audio",h),video:a.getSendingRemoteRtpParameters("video",h)},this._pc=new RTCPeerConnection(Object.assign({iceServers:o||[],iceTransportPolicy:s||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"},c),l),this._pc.addEventListener("iceconnectionstatechange",()=>{switch(this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}})}async updateIceServers(e){u.debug("updateIceServers()");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(u.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),this._transportReady)if("send"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});u.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e);const t={type:"answer",sdp:this._remoteSdp.getSdp()};u.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setRemoteDescription(t)}else{const e={type:"offer",sdp:this._remoteSdp.getSdp()};u.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();u.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this._pc.getStats()}async send({track:e,encodings:t,codecOptions:n,codec:r}){this._assertSendDirection(),u.debug("send() [kind:%s, track.id:%s]",e.kind,e.id),r&&u.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(e),this._pc.addStream(this._sendStream);let o,h=await this._pc.createOffer(),d=i.parse(h.sdp);const p=s.clone(this._sendingRtpParametersByKind[e.kind]);p.codecs=a.reduceCodecs(p.codecs);const f=s.clone(this._sendingRemoteRtpParametersByKind[e.kind]);if(f.codecs=a.reduceCodecs(f.codecs),this._transportReady||await this._setupTransport({localDtlsRole:"server",localSdpObject:d}),"video"===e.kind&&t&&t.length>1&&(u.debug("send() | enabling simulcast"),d=i.parse(h.sdp),o=d.media.find(e=>"video"===e.type),l.addLegacySimulcast({offerMediaObject:o,track:e,numStreams:t.length}),h={type:"offer",sdp:i.write(d)}),u.debug("send() | calling pc.setLocalDescription() [offer:%o]",h),await this._pc.setLocalDescription(h),d=i.parse(this._pc.localDescription.sdp),o=d.media.find(t=>t.type===e.kind),p.rtcp.cname=c.getCname({offerMediaObject:o}),p.encodings=l.getRtpEncodings({offerMediaObject:o,track:e}),t)for(let i=0;i<p.encodings.length;++i)t[i]&&Object.assign(p.encodings[i],t[i]);if(p.encodings.length>1&&"video/vp8"===p.codecs[0].mimeType.toLowerCase())for(const i of p.encodings)i.scalabilityMode="S1T3";this._remoteSdp.send({offerMediaObject:o,offerRtpParameters:p,answerRtpParameters:f,codecOptions:n});const m={type:"answer",sdp:this._remoteSdp.getSdp()};u.debug("send() | calling pc.setRemoteDescription() [answer:%o]",m),await this._pc.setRemoteDescription(m);const g=String(this._nextSendLocalId);return this._nextSendLocalId++,this._mapSendLocalIdTrack.set(g,e),{localId:g,rtpParameters:p}}async stopSending(e){this._assertSendDirection(),u.debug("stopSending() [localId:%s]",e);const t=this._mapSendLocalIdTrack.get(e);if(!t)throw new Error("track not found");this._mapSendLocalIdTrack.delete(e),this._sendStream.removeTrack(t),this._pc.addStream(this._sendStream);const n=await this._pc.createOffer();u.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n);try{await this._pc.setLocalDescription(n)}catch(r){if(0===this._sendStream.getTracks().length)return void u.warn("stopSending() | ignoring expected error due no sending tracks: %s",r.toString());throw r}if("stable"===this._pc.signalingState)return;const i={type:"answer",sdp:this._remoteSdp.getSdp()};u.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async replaceTrack(e,t){throw new o.UnsupportedError("not implemented")}async setMaxSpatialLayer(e,t){throw new o.UnsupportedError(" not implemented")}async setRtpEncodingParameters(e,t){throw new o.UnsupportedError("not supported")}async getSenderStats(e){throw new o.UnsupportedError("not implemented")}async sendDataChannel({ordered:e,maxPacketLifeTime:t,maxRetransmits:n,label:r,protocol:o,priority:s}){this._assertSendDirection();const a={negotiated:!0,id:this._nextSendSctpStreamId,ordered:e,maxPacketLifeTime:t,maxRetransmitTime:t,maxRetransmits:n,protocol:o,priority:s};u.debug("sendDataChannel() [options:%o]",a);const c=this._pc.createDataChannel(r,a);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%p.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=i.parse(e.sdp),n=t.media.find(e=>"application"===e.type);this._transportReady||await this._setupTransport({localDtlsRole:"server",localSdpObject:t}),u.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:n});const r={type:"answer",sdp:this._remoteSdp.getSdp()};u.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:a.id,ordered:a.ordered,maxPacketLifeTime:a.maxPacketLifeTime,maxRetransmits:a.maxRetransmits}}}async receive({trackId:e,kind:t,rtpParameters:n}){this._assertRecvDirection(),u.debug("receive() [trackId:%s, kind:%s]",e,t);const r=e,o=t,s=n.rtcp.cname;this._remoteSdp.receive({mid:o,kind:t,offerRtpParameters:n,streamId:s,trackId:e});const a={type:"offer",sdp:this._remoteSdp.getSdp()};u.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",a),await this._pc.setRemoteDescription(a);let l=await this._pc.createAnswer();const h=i.parse(l.sdp),d=h.media.find(e=>String(e.mid)===o);c.applyCodecParameters({offerRtpParameters:n,answerMediaObject:d}),l={type:"answer",sdp:i.write(h)},this._transportReady||await this._setupTransport({localDtlsRole:"client",localSdpObject:h}),u.debug("receive() | calling pc.setLocalDescription() [answer:%o]",l),await this._pc.setLocalDescription(l);const p=this._pc.getRemoteStreams().find(e=>e.id===s).getTrackById(r);if(!p)throw new Error("remote track not found");return this._mapRecvLocalIdInfo.set(r,{mid:o,rtpParameters:n}),{localId:r,track:p}}async stopReceiving(e){this._assertRecvDirection(),u.debug("stopReceiving() [localId:%s]",e);const{mid:t,rtpParameters:n}=this._mapRecvLocalIdInfo.get(e)||{};this._mapRecvLocalIdInfo.delete(e),this._remoteSdp.planBStopReceiving({mid:t,offerRtpParameters:n});const i={type:"offer",sdp:this._remoteSdp.getSdp()};u.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",i),await this._pc.setRemoteDescription(i);const r=await this._pc.createAnswer();u.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async getReceiverStats(e){throw new o.UnsupportedError("not implemented")}async receiveDataChannel({sctpStreamParameters:e,label:t,protocol:n}){this._assertRecvDirection();const{streamId:r,ordered:o,maxPacketLifeTime:s,maxRetransmits:a}=e,c={negotiated:!0,id:r,ordered:o,maxPacketLifeTime:s,maxRetransmitTime:s,maxRetransmits:a,protocol:n};u.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(t,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const e={type:"offer",sdp:this._remoteSdp.getSdp()};u.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=i.parse(t.sdp);await this._setupTransport({localDtlsRole:"client",localSdpObject:e})}u.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async _setupTransport({localDtlsRole:e,localSdpObject:t}){t||(t=i.parse(this._pc.localDescription.sdp));const n=c.extractDtlsParameters({sdpObject:t});n.role=e,this._remoteSdp.updateDtlsRole("client"===e?"server":"client"),await this.safeEmitAsPromise("@connect",{dtlsParameters:n}),this._transportReady=!0}_assertSendDirection(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}_assertRecvDirection(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}t.Chrome55=f},"7h/2":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("NOtv"),r="mediasoup-client";t.Logger=class{constructor(e){e?(this._debug=i.default(`${r}:${e}`),this._warn=i.default(`${r}:WARN:${e}`),this._error=i.default(`${r}:ERROR:${e}`)):(this._debug=i.default(r),this._warn=i.default(r+":WARN"),this._error=i.default(r+":ERROR")),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}}},"7jRU":function(e,t){var n=[].indexOf;e.exports=function(e,t){if(n)return e.indexOf(t);for(var i=0;i<e.length;++i)if(e[i]===t)return i;return-1}},"7kHm":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("k76L"),r=n("7h/2"),o=n("nAs4"),s=n("8xwj"),a=n("/rqz"),c=n("YwPy"),l=n("sSRp"),h=n("1z2d"),d=n("Gffd"),u=new r.Logger("ReactNative"),p={OS:1024,MIS:1024};class f extends h.HandlerInterface{constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdTrack=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}static createFactory(){return()=>new f}get name(){return"ReactNative"}close(){if(u.debug("close()"),this._pc)try{this._pc.close()}catch(e){}}async getNativeRtpCapabilities(){u.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const n=await e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{e.close()}catch(t){}const r=i.parse(n.sdp);return c.extractRtpCapabilities({sdpObject:r})}catch(t){try{e.close()}catch(n){}throw t}}async getNativeSctpCapabilities(){return u.debug("getNativeSctpCapabilities()"),{numStreams:p}}run({direction:e,iceParameters:t,iceCandidates:n,dtlsParameters:i,sctpParameters:r,iceServers:o,iceTransportPolicy:s,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:h}){u.debug("run()"),this._direction=e,this._remoteSdp=new d.RemoteSdp({iceParameters:t,iceCandidates:n,dtlsParameters:i,sctpParameters:r,planB:!0}),this._sendingRtpParametersByKind={audio:a.getSendingRtpParameters("audio",h),video:a.getSendingRtpParameters("video",h)},this._sendingRemoteRtpParametersByKind={audio:a.getSendingRemoteRtpParameters("audio",h),video:a.getSendingRemoteRtpParameters("video",h)},this._pc=new RTCPeerConnection(Object.assign({iceServers:o||[],iceTransportPolicy:s||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"},c),l),this._pc.addEventListener("iceconnectionstatechange",()=>{switch(this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}})}async updateIceServers(e){u.debug("updateIceServers()");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(u.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),this._transportReady)if("send"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});u.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e);const t={type:"answer",sdp:this._remoteSdp.getSdp()};u.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setRemoteDescription(t)}else{const e={type:"offer",sdp:this._remoteSdp.getSdp()};u.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();u.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this._pc.getStats()}async send({track:e,encodings:t,codecOptions:n,codec:r}){this._assertSendDirection(),u.debug("send() [kind:%s, track.id:%s]",e.kind,e.id),r&&u.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(e),this._pc.addStream(this._sendStream);let o,h=await this._pc.createOffer(),d=i.parse(h.sdp);const p=s.clone(this._sendingRtpParametersByKind[e.kind]);p.codecs=a.reduceCodecs(p.codecs);const f=s.clone(this._sendingRemoteRtpParametersByKind[e.kind]);if(f.codecs=a.reduceCodecs(f.codecs),this._transportReady||await this._setupTransport({localDtlsRole:"server",localSdpObject:d}),"video"===e.kind&&t&&t.length>1&&(u.debug("send() | enabling simulcast"),d=i.parse(h.sdp),o=d.media.find(e=>"video"===e.type),l.addLegacySimulcast({offerMediaObject:o,track:e,numStreams:t.length}),h={type:"offer",sdp:i.write(d)}),u.debug("send() | calling pc.setLocalDescription() [offer:%o]",h),await this._pc.setLocalDescription(h),d=i.parse(this._pc.localDescription.sdp),o=d.media.find(t=>t.type===e.kind),p.rtcp.cname=c.getCname({offerMediaObject:o}),p.encodings=l.getRtpEncodings({offerMediaObject:o,track:e}),t)for(let i=0;i<p.encodings.length;++i)t[i]&&Object.assign(p.encodings[i],t[i]);if(p.encodings.length>1&&("video/vp8"===p.codecs[0].mimeType.toLowerCase()||"video/h264"===p.codecs[0].mimeType.toLowerCase()))for(const i of p.encodings)i.scalabilityMode="S1T3";this._remoteSdp.send({offerMediaObject:o,offerRtpParameters:p,answerRtpParameters:f,codecOptions:n});const m={type:"answer",sdp:this._remoteSdp.getSdp()};u.debug("send() | calling pc.setRemoteDescription() [answer:%o]",m),await this._pc.setRemoteDescription(m);const g=String(this._nextSendLocalId);return this._nextSendLocalId++,this._mapSendLocalIdTrack.set(g,e),{localId:g,rtpParameters:p}}async stopSending(e){this._assertSendDirection(),u.debug("stopSending() [localId:%s]",e);const t=this._mapSendLocalIdTrack.get(e);if(!t)throw new Error("track not found");this._mapSendLocalIdTrack.delete(e),this._sendStream.removeTrack(t),this._pc.addStream(this._sendStream);const n=await this._pc.createOffer();u.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n);try{await this._pc.setLocalDescription(n)}catch(r){if(0===this._sendStream.getTracks().length)return void u.warn("stopSending() | ignoring expected error due no sending tracks: %s",r.toString());throw r}if("stable"===this._pc.signalingState)return;const i={type:"answer",sdp:this._remoteSdp.getSdp()};u.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async replaceTrack(e,t){throw new o.UnsupportedError("not implemented")}async setMaxSpatialLayer(e,t){throw new o.UnsupportedError("not implemented")}async setRtpEncodingParameters(e,t){throw new o.UnsupportedError("not implemented")}async getSenderStats(e){throw new o.UnsupportedError("not implemented")}async sendDataChannel({ordered:e,maxPacketLifeTime:t,maxRetransmits:n,label:r,protocol:o,priority:s}){this._assertSendDirection();const a={negotiated:!0,id:this._nextSendSctpStreamId,ordered:e,maxPacketLifeTime:t,maxRetransmitTime:t,maxRetransmits:n,protocol:o,priority:s};u.debug("sendDataChannel() [options:%o]",a);const c=this._pc.createDataChannel(r,a);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%p.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=i.parse(e.sdp),n=t.media.find(e=>"application"===e.type);this._transportReady||await this._setupTransport({localDtlsRole:"server",localSdpObject:t}),u.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:n});const r={type:"answer",sdp:this._remoteSdp.getSdp()};u.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:a.id,ordered:a.ordered,maxPacketLifeTime:a.maxPacketLifeTime,maxRetransmits:a.maxRetransmits}}}async receive({trackId:e,kind:t,rtpParameters:n}){this._assertRecvDirection(),u.debug("receive() [trackId:%s, kind:%s]",e,t);const r=e,o=t;let a=n.rtcp.cname;u.debug("receive() | forcing a random remote streamId to avoid well known bug in react-native-webrtc"),a+="-hack-"+s.generateRandomNumber(),this._remoteSdp.receive({mid:o,kind:t,offerRtpParameters:n,streamId:a,trackId:e});const l={type:"offer",sdp:this._remoteSdp.getSdp()};u.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",l),await this._pc.setRemoteDescription(l);let h=await this._pc.createAnswer();const d=i.parse(h.sdp),p=d.media.find(e=>String(e.mid)===o);c.applyCodecParameters({offerRtpParameters:n,answerMediaObject:p}),h={type:"answer",sdp:i.write(d)},this._transportReady||await this._setupTransport({localDtlsRole:"client",localSdpObject:d}),u.debug("receive() | calling pc.setLocalDescription() [answer:%o]",h),await this._pc.setLocalDescription(h);const f=this._pc.getRemoteStreams().find(e=>e.id===a).getTrackById(r);if(!f)throw new Error("remote track not found");return this._mapRecvLocalIdInfo.set(r,{mid:o,rtpParameters:n}),{localId:r,track:f}}async stopReceiving(e){this._assertRecvDirection(),u.debug("stopReceiving() [localId:%s]",e);const{mid:t,rtpParameters:n}=this._mapRecvLocalIdInfo.get(e)||{};this._mapRecvLocalIdInfo.delete(e),this._remoteSdp.planBStopReceiving({mid:t,offerRtpParameters:n});const i={type:"offer",sdp:this._remoteSdp.getSdp()};u.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",i),await this._pc.setRemoteDescription(i);const r=await this._pc.createAnswer();u.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async getReceiverStats(e){throw new o.UnsupportedError("not implemented")}async receiveDataChannel({sctpStreamParameters:e,label:t,protocol:n}){this._assertRecvDirection();const{streamId:r,ordered:o,maxPacketLifeTime:s,maxRetransmits:a}=e,c={negotiated:!0,id:r,ordered:o,maxPacketLifeTime:s,maxRetransmitTime:s,maxRetransmits:a,protocol:n};u.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(t,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const e={type:"offer",sdp:this._remoteSdp.getSdp()};u.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=i.parse(t.sdp);await this._setupTransport({localDtlsRole:"client",localSdpObject:e})}u.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async _setupTransport({localDtlsRole:e,localSdpObject:t}){t||(t=i.parse(this._pc.localDescription.sdp));const n=c.extractDtlsParameters({sdpObject:t});n.role=e,this._remoteSdp.updateDtlsRole("client"===e?"server":"client"),await this.safeEmitAsPromise("@connect",{dtlsParameters:n}),this._transportReady=!0}_assertSendDirection(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}_assertRecvDirection(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}t.ReactNative=f},"7m5y":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("7h/2"),r=n("nAs4"),o=n("8xwj"),s=n("/rqz"),a=n("GhxY"),c=n("1z2d"),l=new i.Logger("Edge11");class h extends c.HandlerInterface{constructor(){super(),this._rtpSenders=new Map,this._rtpReceivers=new Map,this._nextSendLocalId=0,this._transportReady=!1}static createFactory(){return()=>new h}get name(){return"Edge11"}close(){l.debug("close()");try{this._iceGatherer.close()}catch(e){}try{this._iceTransport.stop()}catch(e){}try{this._dtlsTransport.stop()}catch(e){}for(const t of this._rtpSenders.values())try{t.stop()}catch(e){}for(const t of this._rtpReceivers.values())try{t.stop()}catch(e){}}async getNativeRtpCapabilities(){return l.debug("getNativeRtpCapabilities()"),a.getCapabilities()}async getNativeSctpCapabilities(){return l.debug("getNativeSctpCapabilities()"),{numStreams:{OS:0,MIS:0}}}run({iceParameters:e,iceCandidates:t,dtlsParameters:n,iceServers:i,iceTransportPolicy:r,extendedRtpCapabilities:a}){l.debug("run()"),this._sendingRtpParametersByKind={audio:s.getSendingRtpParameters("audio",a),video:s.getSendingRtpParameters("video",a)},this._remoteIceParameters=e,this._remoteIceCandidates=t,this._remoteDtlsParameters=n,this._cname="CNAME-"+o.generateRandomNumber(),this._setIceGatherer({iceServers:i,iceTransportPolicy:r}),this._setIceTransport(),this._setDtlsTransport()}async updateIceServers(e){throw new r.UnsupportedError("not supported")}async restartIce(e){if(l.debug("restartIce()"),this._remoteIceParameters=e,this._transportReady){l.debug("restartIce() | calling iceTransport.start()"),this._iceTransport.start(this._iceGatherer,e,"controlling");for(const e of this._remoteIceCandidates)this._iceTransport.addRemoteCandidate(e);this._iceTransport.addRemoteCandidate({})}}async getTransportStats(){return this._iceTransport.getStats()}async send({track:e,encodings:t,codec:n}){l.debug("send() [kind:%s, track.id:%s]",e.kind,e.id),this._transportReady||await this._setupTransport({localDtlsRole:"server"}),l.debug("send() | calling new RTCRtpSender()");const i=new RTCRtpSender(e,this._dtlsTransport),r=o.clone(this._sendingRtpParametersByKind[e.kind]);r.codecs=s.reduceCodecs(r.codecs,n);const c=r.codecs.some(e=>/.+\/rtx$/i.test(e.mimeType));t||(t=[{}]);for(const s of t)s.ssrc=o.generateRandomNumber(),c&&(s.rtx={ssrc:o.generateRandomNumber()});r.encodings=t,r.rtcp={cname:this._cname,reducedSize:!0,mux:!0};const h=a.mangleRtpParameters(r);l.debug("send() | calling rtpSender.send() [params:%o]",h),await i.send(h);const d=String(this._nextSendLocalId);return this._nextSendLocalId++,this._rtpSenders.set(d,i),{localId:d,rtpParameters:r,rtpSender:i}}async stopSending(e){l.debug("stopSending() [localId:%s]",e);const t=this._rtpSenders.get(e);if(!t)throw new Error("RTCRtpSender not found");this._rtpSenders.delete(e);try{l.debug("stopSending() | calling rtpSender.stop()"),t.stop()}catch(n){throw l.warn("stopSending() | rtpSender.stop() failed:%o",n),n}}async replaceTrack(e,t){t?l.debug("replaceTrack() [localId:%s, track.id:%s]",e,t.id):l.debug("replaceTrack() [localId:%s, no track]",e);const n=this._rtpSenders.get(e);if(!n)throw new Error("RTCRtpSender not found");n.setTrack(t)}async setMaxSpatialLayer(e,t){l.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,t);const n=this._rtpSenders.get(e);if(!n)throw new Error("RTCRtpSender not found");const i=n.getParameters();i.encodings.forEach((e,n)=>{e.active=n<=t}),await n.setParameters(i)}async setRtpEncodingParameters(e,t){l.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,t);const n=this._rtpSenders.get(e);if(!n)throw new Error("RTCRtpSender not found");const i=n.getParameters();i.encodings.forEach((e,n)=>{i.encodings[n]=Object.assign(Object.assign({},e),t)}),await n.setParameters(i)}async getSenderStats(e){const t=this._rtpSenders.get(e);if(!t)throw new Error("RTCRtpSender not found");return t.getStats()}async sendDataChannel(e){throw new r.UnsupportedError("not implemented")}async receive({trackId:e,kind:t,rtpParameters:n}){l.debug("receive() [trackId:%s, kind:%s]",e,t),this._transportReady||await this._setupTransport({localDtlsRole:"server"}),l.debug("receive() | calling new RTCRtpReceiver()");const i=new RTCRtpReceiver(this._dtlsTransport,t);i.addEventListener("error",e=>{l.error('rtpReceiver "error" event [event:%o]',e)});const r=a.mangleRtpParameters(n);l.debug("receive() | calling rtpReceiver.receive() [params:%o]",r),await i.receive(r);const o=e;return this._rtpReceivers.set(o,i),{localId:o,track:i.track,rtpReceiver:i}}async stopReceiving(e){l.debug("stopReceiving() [localId:%s]",e);const t=this._rtpReceivers.get(e);if(!t)throw new Error("RTCRtpReceiver not found");this._rtpReceivers.delete(e);try{l.debug("stopReceiving() | calling rtpReceiver.stop()"),t.stop()}catch(n){l.warn("stopReceiving() | rtpReceiver.stop() failed:%o",n)}}async getReceiverStats(e){const t=this._rtpReceivers.get(e);if(!t)throw new Error("RTCRtpReceiver not found");return t.getStats()}async receiveDataChannel(e){throw new r.UnsupportedError("not implemented")}_setIceGatherer({iceServers:e,iceTransportPolicy:t}){const n=new RTCIceGatherer({iceServers:e||[],gatherPolicy:t||"all"});n.addEventListener("error",e=>{l.error('iceGatherer "error" event [event:%o]',e)});try{n.gather()}catch(i){l.debug("_setIceGatherer() | iceGatherer.gather() failed: %s",i.toString())}this._iceGatherer=n}_setIceTransport(){const e=new RTCIceTransport(this._iceGatherer);e.addEventListener("statechange",()=>{switch(e.state){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}}),e.addEventListener("icestatechange",()=>{switch(e.state){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}}),e.addEventListener("candidatepairchange",e=>{l.debug('iceTransport "candidatepairchange" event [pair:%o]',e.pair)}),this._iceTransport=e}_setDtlsTransport(){const e=new RTCDtlsTransport(this._iceTransport);e.addEventListener("statechange",()=>{l.debug('dtlsTransport "statechange" event [state:%s]',e.state)}),e.addEventListener("dtlsstatechange",()=>{l.debug('dtlsTransport "dtlsstatechange" event [state:%s]',e.state),"closed"===e.state&&this.emit("@connectionstatechange","closed")}),e.addEventListener("error",e=>{l.error('dtlsTransport "error" event [event:%o]',e)}),this._dtlsTransport=e}async _setupTransport({localDtlsRole:e}){l.debug("_setupTransport()");const t=this._dtlsTransport.getLocalParameters();t.role=e,await this.safeEmitAsPromise("@connect",{dtlsParameters:t}),this._iceTransport.start(this._iceGatherer,this._remoteIceParameters,"controlling");for(const n of this._remoteIceCandidates)this._iceTransport.addRemoteCandidate(n);this._iceTransport.addRemoteCandidate({}),this._remoteDtlsParameters.fingerprints=this._remoteDtlsParameters.fingerprints.filter(e=>"sha-256"===e.algorithm||"sha-384"===e.algorithm||"sha-512"===e.algorithm),this._dtlsTransport.start(this._remoteDtlsParameters),this._transportReady=!0}}t.Edge11=h},"8Lyy":function(e,t,n){var i=n("O6qx"),r=/%[sdv%]/g,o=function(e){var t=1,n=arguments,i=n.length;return e.replace(r,function(e){if(t>=i)return e;var r=n[t];switch(t+=1,e){case"%%":return"%";case"%s":return String(r);case"%d":return Number(r);case"%v":return""}})},s=function(e,t,n){var i=[e+"="+(t.format instanceof Function?t.format(t.push?n:n[t.name]):t.format)];if(t.names)for(var r=0;r<t.names.length;r+=1)i.push(t.name?n[t.name][t.names[r]]:n[t.names[r]]);else i.push(n[t.name]);return o.apply(null,i)},a=["v","o","s","i","u","e","p","c","b","t","r","z","a"],c=["i","c","b","a"];e.exports=function(e,t){t=t||{},null==e.version&&(e.version=0),null==e.name&&(e.name=" "),e.media.forEach(function(e){null==e.payloads&&(e.payloads="")});var n=t.innerOrder||c,r=[];return(t.outerOrder||a).forEach(function(t){i[t].forEach(function(n){n.name in e&&null!=e[n.name]?r.push(s(t,n,e)):n.push in e&&null!=e[n.push]&&e[n.push].forEach(function(e){r.push(s(t,n,e))})})}),e.media.forEach(function(e){r.push(s("m",i.m[0],e)),n.forEach(function(t){i[t].forEach(function(n){n.name in e&&null!=e[n.name]?r.push(s(t,n,e)):n.push in e&&null!=e[n.push]&&e[n.push].forEach(function(e){r.push(s(t,n,e))})})})}),r.join("\r\n")+"\r\n"}},"8tAB":function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}},"8xwj":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clone=function(e){return"object"!=typeof e?{}:JSON.parse(JSON.stringify(e))},t.generateRandomNumber=function(){return Math.round(1e7*Math.random())}},"AZE+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("7h/2"),r=n("GygU"),o=n("nAs4"),s=new i.Logger("Producer");t.Producer=class extends r.EnhancedEventEmitter{constructor({id:e,localId:t,rtpSender:n,track:i,rtpParameters:r,stopTracks:o,disableTrackOnPause:a,zeroRtpOnPause:c,appData:l}){super(),this._closed=!1,s.debug("constructor()"),this._id=e,this._localId=t,this._rtpSender=n,this._track=i,this._kind=i.kind,this._rtpParameters=r,this._paused=!!a&&!i.enabled,this._maxSpatialLayer=void 0,this._stopTracks=o,this._disableTrackOnPause=a,this._zeroRtpOnPause=c,this._appData=l,this._onTrackEnded=this._onTrackEnded.bind(this),this._handleTrack()}get id(){return this._id}get localId(){return this._localId}get closed(){return this._closed}get kind(){return this._kind}get rtpSender(){return this._rtpSender}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get maxSpatialLayer(){return this._maxSpatialLayer}get appData(){return this._appData}set appData(e){throw new Error("cannot override appData object")}close(){this._closed||(s.debug("close()"),this._closed=!0,this._destroyTrack(),this.emit("@close"))}transportClosed(){this._closed||(s.debug("transportClosed()"),this._closed=!0,this._destroyTrack(),this.safeEmit("transportclose"))}async getStats(){if(this._closed)throw new o.InvalidStateError("closed");return this.safeEmitAsPromise("@getstats")}pause(){s.debug("pause()"),this._closed?s.error("pause() | Producer closed"):(this._paused=!0,this._track&&this._disableTrackOnPause&&(this._track.enabled=!1),this._zeroRtpOnPause&&this.safeEmitAsPromise("@replacetrack",null).catch(()=>{}))}resume(){s.debug("resume()"),this._closed?s.error("resume() | Producer closed"):(this._paused=!1,this._track&&this._disableTrackOnPause&&(this._track.enabled=!0),this._zeroRtpOnPause&&this.safeEmitAsPromise("@replacetrack",this._track).catch(()=>{}))}async replaceTrack({track:e}){if(s.debug("replaceTrack() [track:%o]",e),this._closed){if(e&&this._stopTracks)try{e.stop()}catch(t){}throw new o.InvalidStateError("closed")}if(e&&"ended"===e.readyState)throw new o.InvalidStateError("track ended");e!==this._track?(this._zeroRtpOnPause&&this._paused||await this.safeEmitAsPromise("@replacetrack",e),this._destroyTrack(),this._track=e,this._track&&this._disableTrackOnPause&&(this._paused?this._paused&&(this._track.enabled=!1):this._track.enabled=!0),this._handleTrack()):s.debug("replaceTrack() | same track, ignored")}async setMaxSpatialLayer(e){if(this._closed)throw new o.InvalidStateError("closed");if("video"!==this._kind)throw new o.UnsupportedError("not a video Producer");if("number"!=typeof e)throw new TypeError("invalid spatialLayer");e!==this._maxSpatialLayer&&(await this.safeEmitAsPromise("@setmaxspatiallayer",e),this._maxSpatialLayer=e)}async setRtpEncodingParameters(e){if(this._closed)throw new o.InvalidStateError("closed");if("object"!=typeof e)throw new TypeError("invalid params");await this.safeEmitAsPromise("@setrtpencodingparameters",e)}_onTrackEnded(){s.debug('track "ended" event'),this.safeEmit("trackended")}_handleTrack(){this._track&&this._track.addEventListener("ended",this._onTrackEnded)}_destroyTrack(){if(this._track)try{this._track.removeEventListener("ended",this._onTrackEnded),this._stopTracks&&this._track.stop()}catch(e){}}}},AdPF:function(e,t,n){var i=n("yeub"),r=n("2UHX");e.exports=function(e){var t=e.xdomain,n=e.xscheme,o=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||i))return new XMLHttpRequest}catch(s){}try{if("undefined"!=typeof XDomainRequest&&!n&&o)return new XDomainRequest}catch(s){}if(!t)try{return new(r[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(s){}}},Aplp:function(e,t,n){"use strict";var i,r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),o={},s=0,a=0;function c(e){var t="";do{t=r[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}function l(){var e=c(+new Date);return e!==i?(s=0,i=e):e+"."+c(s++)}for(;a<64;a++)o[r[a]]=a;l.encode=c,l.decode=function(e){var t=0;for(a=0;a<e.length;a++)t=64*t+o[e.charAt(a)];return t},e.exports=l},Ay4W:function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n("Nj9v")),i(n("UloB")),i(n("AZE+")),i(n("sZ75")),i(n("Uli8")),i(n("hUSI")),i(n("1z2d")),i(n("nAs4"))},BIA0:function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},BNHZ:function(e,t,n){!function(e,t,n,i){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=r(t),s=r(n),a=r(i),c=function(e,t,n){return{endTime:t,insertTime:n,type:"exponentialRampToValue",value:e}},l=function(e,t,n){return{endTime:t,insertTime:n,type:"linearRampToValue",value:e}},h=function(e,t){return{startTime:t,type:"setValue",value:e}},d=function(e,t,n){return{duration:n,startTime:t,type:"setValueCurve",values:e}},u=function(e,t,n){var i=n.target;return i+(t-i)*Math.exp((n.startTime-e)/n.timeConstant)},p=function(e){return"exponentialRampToValue"===e.type},f=function(e){return"linearRampToValue"===e.type},m=function(e){return p(e)||f(e)},g=function(e){return"setValue"===e.type},v=function(e){return"setValueCurve"===e.type},y=function e(t,n,i,r){var o=t[n];return void 0===o?r:m(o)||g(o)?o.value:v(o)?o.values[o.values.length-1]:u(i,e(t,n-1,o.startTime,r),o)},b=function(e,t,n,i,r){return void 0===n?[i.insertTime,r]:m(n)?[n.endTime,n.value]:g(n)?[n.startTime,n.value]:v(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,y(e,t-1,n.startTime,r)]},_=function(e){return"cancelAndHold"===e.type},w=function(e){return"cancelScheduledValues"===e.type},C=function(e){return _(e)||w(e)?e.cancelTime:p(e)||f(e)?e.endTime:e.startTime},S=function(e,t,n,i){var r=i.value;return n===r?r:0<n&&0<r||n<0&&r<0?n*Math.pow(r/n,(e-t)/(i.endTime-t)):0},k=function(e,t,n,i){return n+(e-t)/(i.endTime-t)*(i.value-n)},x=function(e){return"setTarget"===e.type};e.AutomationEventList=function(){function e(t){s.default(this,e),this._automationEvents=[],this._currenTime=0,this._defaultValue=t}return a.default(e,[{key:Symbol.iterator,value:function(){return this._automationEvents[Symbol.iterator]()}},{key:"add",value:function(e){var t=C(e);if(_(e)||w(e)){var n=this._automationEvents.findIndex(function(n){return w(e)&&v(n)?n.startTime+n.duration>=t:C(n)>=t}),i=this._automationEvents[n];if(-1!==n&&(this._automationEvents=this._automationEvents.slice(0,n)),_(e)){var r=this._automationEvents[this._automationEvents.length-1];if(void 0!==i&&m(i)){if(x(r))throw new Error("The internal list is malformed.");var o=v(r)?r.startTime+r.duration:C(r),s=v(r)?r.values[r.values.length-1]:r.value,a=p(i)?S(t,o,s,i):k(t,o,s,i),u=p(i)?c(a,t,this._currenTime):l(a,t,this._currenTime);this._automationEvents.push(u)}void 0!==r&&x(r)&&this._automationEvents.push(h(this.getValue(t),t)),void 0!==r&&v(r)&&r.startTime+r.duration>t&&(this._automationEvents[this._automationEvents.length-1]=d(new Float32Array([6,7]),r.startTime,t-r.startTime))}}else{var g=this._automationEvents.findIndex(function(e){return C(e)>t}),y=-1===g?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[g-1];if(void 0!==y&&v(y)&&C(y)+y.duration>t)return!1;var b=p(e)?c(e.value,e.endTime,this._currenTime):f(e)?l(e.value,t,this._currenTime):e;if(-1===g)this._automationEvents.push(b);else{if(v(e)&&t+e.duration>C(this._automationEvents[g]))return!1;this._automationEvents.splice(g,0,b)}}return!0}},{key:"flush",value:function(e){var t=this._automationEvents.findIndex(function(t){return C(t)>e});if(t>1){var n=this._automationEvents.slice(t-1),i=n[0];x(i)&&n.unshift(h(y(this._automationEvents,t-2,i.startTime,this._defaultValue),i.startTime)),this._automationEvents=n}}},{key:"getValue",value:function(e){if(0===this._automationEvents.length)return this._defaultValue;var t=this._automationEvents[this._automationEvents.length-1],n=this._automationEvents.findIndex(function(t){return C(t)>e}),i=this._automationEvents[n],r=C(t)<=e?t:this._automationEvents[n-1];if(void 0!==r&&x(r)&&(void 0===i||!m(i)||i.insertTime>e))return u(e,y(this._automationEvents,n-2,r.startTime,this._defaultValue),r);if(void 0!==r&&g(r)&&(void 0===i||!m(i)))return r.value;if(void 0!==r&&v(r)&&(void 0===i||!m(i)||r.startTime+r.duration>e))return e<r.startTime+r.duration?function(e,t){var n=t.values;return function(e,t){var n=Math.floor(t),i=Math.ceil(t);return n===i?e[n]:(1-(t-n))*e[n]+(1-(i-t))*e[i]}(n,(e-t.startTime)/t.duration*(n.length-1))}(e,r):r.values[r.values.length-1];if(void 0!==r&&m(r)&&(void 0===i||!m(i)))return r.value;if(void 0!==i&&p(i)){var s=b(this._automationEvents,n-1,r,i,this._defaultValue),a=o.default(s,2);return S(e,a[0],a[1],i)}if(void 0!==i&&f(i)){var c=b(this._automationEvents,n-1,r,i,this._defaultValue),l=o.default(c,2);return k(e,l[0],l[1],i)}return this._defaultValue}}]),e}(),e.createCancelAndHoldAutomationEvent=function(e){return{cancelTime:e,type:"cancelAndHold"}},e.createCancelScheduledValuesAutomationEvent=function(e){return{cancelTime:e,type:"cancelScheduledValues"}},e.createExponentialRampToValueAutomationEvent=function(e,t){return{endTime:t,type:"exponentialRampToValue",value:e}},e.createLinearRampToValueAutomationEvent=function(e,t){return{endTime:t,type:"linearRampToValue",value:e}},e.createSetTargetAutomationEvent=function(e,t,n){return{startTime:t,target:e,timeConstant:n,type:"setTarget"}},e.createSetValueAutomationEvent=h,e.createSetValueCurveAutomationEvent=d,Object.defineProperty(e,"__esModule",{value:!0})}(t,n("SNoo"),n("BIA0"),n("NN06"))},C2QD:function(e,t){function n(e){this.ms=(e=e||{}).min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=n,n.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(e){this.ms=e},n.prototype.setMax=function(e){this.max=e},n.prototype.setJitter=function(e){this.jitter=e}},CIKq:function(e,t,n){var i,r,o=n("Gbct"),s=n("Wm4p"),a=n("TypT"),c=n("Yvos"),l=n("Aplp"),h=n("x7D4")("engine.io-client:websocket");if("undefined"!=typeof WebSocket?i=WebSocket:"undefined"!=typeof self&&(i=self.WebSocket||self.MozWebSocket),"undefined"==typeof window)try{r=n(1)}catch(p){}var d=i||r;function u(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=i&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(d=r),o.call(this,e)}e.exports=u,c(u,o),u.prototype.name="websocket",u.prototype.supportsBinary=!0,u.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,n={};this.isReactNative||(n.agent=this.agent,n.perMessageDeflate=this.perMessageDeflate,n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized),this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?t?new d(e,t):new d(e):new d(e,t,n)}catch(i){return this.emit("error",i)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},u.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},u.prototype.write=function(e){var t=this;this.writable=!1;for(var n=e.length,i=0,r=n;i<r;i++)!function(e){s.encodePacket(e,t.supportsBinary,function(i){if(!t.usingBrowserWebSocket){var r={};e.options&&(r.compress=e.options.compress),t.perMessageDeflate&&("string"==typeof i?Buffer.byteLength(i):i.length)<t.perMessageDeflate.threshold&&(r.compress=!1)}try{t.usingBrowserWebSocket?t.ws.send(i):t.ws.send(i,r)}catch(p){h("websocket closed before onclose event")}--n||(t.emit("flush"),setTimeout(function(){t.writable=!0,t.emit("drain")},0))})}(e[i])},u.prototype.onClose=function(){o.prototype.onClose.call(this)},u.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},u.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=l()),this.supportsBinary||(e.b64=1),(e=a.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},u.prototype.check=function(){return!(!d||"__initialize"in d&&this.name===u.prototype.name)}},CUme:function(e,t,n){var i=n("Gbct"),r=n("TypT"),o=n("Wm4p"),s=n("Yvos"),a=n("Aplp"),c=n("x7D4")("engine.io-client:polling");e.exports=h;var l=null!=new(n("AdPF"))({xdomain:!1}).responseType;function h(e){l&&!(e&&e.forceBase64)||(this.supportsBinary=!1),i.call(this,e)}s(h,i),h.prototype.name="polling",h.prototype.doOpen=function(){this.poll()},h.prototype.pause=function(e){var t=this;function n(){c("paused"),t.readyState="paused",e()}if(this.readyState="pausing",this.polling||!this.writable){var i=0;this.polling&&(c("we are currently polling - waiting to pause"),i++,this.once("pollComplete",function(){c("pre-pause polling complete"),--i||n()})),this.writable||(c("we are currently writing - waiting to pause"),i++,this.once("drain",function(){c("pre-pause writing complete"),--i||n()}))}else n()},h.prototype.poll=function(){c("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},h.prototype.onData=function(e){var t=this;c("polling got data %s",e),o.decodePayload(e,this.socket.binaryType,function(e,n,i){if("opening"===t.readyState&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():c('ignoring poll - transport state "%s"',this.readyState))},h.prototype.doClose=function(){var e=this;function t(){c("writing close packet"),e.write([{type:"close"}])}"open"===this.readyState?(c("transport open - closing"),t()):(c("transport not open - deferring close"),this.once("open",t))},h.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};o.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,n)})},h.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=a()),this.supportsBinary||e.sid||(e.b64=1),e=r.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e}},Cl5A:function(e,t,n){var i=n("CUme"),r=n("Yvos"),o=n("2UHX");e.exports=h;var s,a=/\n/g,c=/\\n/g;function l(){}function h(e){i.call(this,e),this.query=this.query||{},s||(s=o.___eio=o.___eio||[]),this.index=s.length;var t=this;s.push(function(e){t.onData(e)}),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",function(){t.script&&(t.script.onerror=l)},!1)}r(h,i),h.prototype.supportsBinary=!1,h.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),i.prototype.doClose.call(this)},h.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},h.prototype.doWrite=function(e,t){var n=this;if(!this.form){var i,r=document.createElement("form"),o=document.createElement("textarea"),s=this.iframeId="eio_iframe_"+this.index;r.className="socketio",r.style.position="absolute",r.style.top="-1000px",r.style.left="-1000px",r.target=s,r.method="POST",r.setAttribute("accept-charset","utf-8"),o.name="d",r.appendChild(o),document.body.appendChild(r),this.form=r,this.area=o}function l(){h(),t()}function h(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(e){n.onError("jsonp polling iframe removal error",e)}try{i=document.createElement('<iframe src="javascript:0" name="'+n.iframeId+'">')}catch(e){(i=document.createElement("iframe")).name=n.iframeId,i.src="javascript:0"}i.id=n.iframeId,n.form.appendChild(i),n.iframe=i}this.form.action=this.uri(),h(),e=e.replace(c,"\\\n"),this.area.value=e.replace(a,"\\n");try{this.form.submit()}catch(d){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&l()}:this.iframe.onload=l}},EL67:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("k76L"),r=n("7h/2"),o=n("8xwj"),s=n("/rqz"),a=n("YwPy"),c=n("sSRp"),l=n("1z2d"),h=n("Gffd"),d=new r.Logger("Chrome67"),u={OS:1024,MIS:1024};class p extends l.HandlerInterface{constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdRtpSender=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}static createFactory(){return()=>new p}get name(){return"Chrome67"}close(){if(d.debug("close()"),this._pc)try{this._pc.close()}catch(e){}}async getNativeRtpCapabilities(){d.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const n=await e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{e.close()}catch(t){}const r=i.parse(n.sdp);return a.extractRtpCapabilities({sdpObject:r})}catch(t){try{e.close()}catch(n){}throw t}}async getNativeSctpCapabilities(){return d.debug("getNativeSctpCapabilities()"),{numStreams:u}}run({direction:e,iceParameters:t,iceCandidates:n,dtlsParameters:i,sctpParameters:r,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:u}){d.debug("run()"),this._direction=e,this._remoteSdp=new h.RemoteSdp({iceParameters:t,iceCandidates:n,dtlsParameters:i,sctpParameters:r,planB:!0}),this._sendingRtpParametersByKind={audio:s.getSendingRtpParameters("audio",u),video:s.getSendingRtpParameters("video",u)},this._sendingRemoteRtpParametersByKind={audio:s.getSendingRemoteRtpParameters("audio",u),video:s.getSendingRemoteRtpParameters("video",u)},this._pc=new RTCPeerConnection(Object.assign({iceServers:o||[],iceTransportPolicy:a||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"},c),l),this._pc.addEventListener("iceconnectionstatechange",()=>{switch(this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}})}async updateIceServers(e){d.debug("updateIceServers()");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(d.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),this._transportReady)if("send"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});d.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e);const t={type:"answer",sdp:this._remoteSdp.getSdp()};d.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setRemoteDescription(t)}else{const e={type:"offer",sdp:this._remoteSdp.getSdp()};d.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();d.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this._pc.getStats()}async send({track:e,encodings:t,codecOptions:n,codec:r}){this._assertSendDirection(),d.debug("send() [kind:%s, track.id:%s]",e.kind,e.id),r&&d.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(e),this._pc.addTrack(e,this._sendStream);let l,h=await this._pc.createOffer(),u=i.parse(h.sdp);const p=o.clone(this._sendingRtpParametersByKind[e.kind]);p.codecs=s.reduceCodecs(p.codecs);const f=o.clone(this._sendingRemoteRtpParametersByKind[e.kind]);if(f.codecs=s.reduceCodecs(f.codecs),this._transportReady||await this._setupTransport({localDtlsRole:"server",localSdpObject:u}),"video"===e.kind&&t&&t.length>1&&(d.debug("send() | enabling simulcast"),u=i.parse(h.sdp),l=u.media.find(e=>"video"===e.type),c.addLegacySimulcast({offerMediaObject:l,track:e,numStreams:t.length}),h={type:"offer",sdp:i.write(u)}),d.debug("send() | calling pc.setLocalDescription() [offer:%o]",h),await this._pc.setLocalDescription(h),u=i.parse(this._pc.localDescription.sdp),l=u.media.find(t=>t.type===e.kind),p.rtcp.cname=a.getCname({offerMediaObject:l}),p.encodings=c.getRtpEncodings({offerMediaObject:l,track:e}),t)for(let i=0;i<p.encodings.length;++i)t[i]&&Object.assign(p.encodings[i],t[i]);if(p.encodings.length>1&&"video/vp8"===p.codecs[0].mimeType.toLowerCase())for(const i of p.encodings)i.scalabilityMode="S1T3";this._remoteSdp.send({offerMediaObject:l,offerRtpParameters:p,answerRtpParameters:f,codecOptions:n});const m={type:"answer",sdp:this._remoteSdp.getSdp()};d.debug("send() | calling pc.setRemoteDescription() [answer:%o]",m),await this._pc.setRemoteDescription(m);const g=String(this._nextSendLocalId);this._nextSendLocalId++;const v=this._pc.getSenders().find(t=>t.track===e);return this._mapSendLocalIdRtpSender.set(g,v),{localId:g,rtpParameters:p,rtpSender:v}}async stopSending(e){this._assertSendDirection(),d.debug("stopSending() [localId:%s]",e);const t=this._mapSendLocalIdRtpSender.get(e);if(!t)throw new Error("associated RTCRtpSender not found");this._pc.removeTrack(t),t.track&&this._sendStream.removeTrack(t.track),this._mapSendLocalIdRtpSender.delete(e);const n=await this._pc.createOffer();d.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n);try{await this._pc.setLocalDescription(n)}catch(r){if(0===this._sendStream.getTracks().length)return void d.warn("stopSending() | ignoring expected error due no sending tracks: %s",r.toString());throw r}if("stable"===this._pc.signalingState)return;const i={type:"answer",sdp:this._remoteSdp.getSdp()};d.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async replaceTrack(e,t){this._assertSendDirection(),t?d.debug("replaceTrack() [localId:%s, track.id:%s]",e,t.id):d.debug("replaceTrack() [localId:%s, no track]",e);const n=this._mapSendLocalIdRtpSender.get(e);if(!n)throw new Error("associated RTCRtpSender not found");const i=n.track;await n.replaceTrack(t),i&&this._sendStream.removeTrack(i),t&&this._sendStream.addTrack(t)}async setMaxSpatialLayer(e,t){this._assertSendDirection(),d.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,t);const n=this._mapSendLocalIdRtpSender.get(e);if(!n)throw new Error("associated RTCRtpSender not found");const i=n.getParameters();i.encodings.forEach((e,n)=>{e.active=n<=t}),await n.setParameters(i)}async setRtpEncodingParameters(e,t){this._assertSendDirection(),d.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,t);const n=this._mapSendLocalIdRtpSender.get(e);if(!n)throw new Error("associated RTCRtpSender not found");const i=n.getParameters();i.encodings.forEach((e,n)=>{i.encodings[n]=Object.assign(Object.assign({},e),t)}),await n.setParameters(i)}async getSenderStats(e){this._assertSendDirection();const t=this._mapSendLocalIdRtpSender.get(e);if(!t)throw new Error("associated RTCRtpSender not found");return t.getStats()}async sendDataChannel({ordered:e,maxPacketLifeTime:t,maxRetransmits:n,label:r,protocol:o,priority:s}){this._assertSendDirection();const a={negotiated:!0,id:this._nextSendSctpStreamId,ordered:e,maxPacketLifeTime:t,maxRetransmitTime:t,maxRetransmits:n,protocol:o,priority:s};d.debug("sendDataChannel() [options:%o]",a);const c=this._pc.createDataChannel(r,a);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%u.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=i.parse(e.sdp),n=t.media.find(e=>"application"===e.type);this._transportReady||await this._setupTransport({localDtlsRole:"server",localSdpObject:t}),d.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:n});const r={type:"answer",sdp:this._remoteSdp.getSdp()};d.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:a.id,ordered:a.ordered,maxPacketLifeTime:a.maxPacketLifeTime,maxRetransmits:a.maxRetransmits}}}async receive({trackId:e,kind:t,rtpParameters:n}){this._assertRecvDirection(),d.debug("receive() [trackId:%s, kind:%s]",e,t);const r=e,o=t;this._remoteSdp.receive({mid:o,kind:t,offerRtpParameters:n,streamId:n.rtcp.cname,trackId:e});const s={type:"offer",sdp:this._remoteSdp.getSdp()};d.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",s),await this._pc.setRemoteDescription(s);let c=await this._pc.createAnswer();const l=i.parse(c.sdp),h=l.media.find(e=>String(e.mid)===o);a.applyCodecParameters({offerRtpParameters:n,answerMediaObject:h}),c={type:"answer",sdp:i.write(l)},this._transportReady||await this._setupTransport({localDtlsRole:"client",localSdpObject:l}),d.debug("receive() | calling pc.setLocalDescription() [answer:%o]",c),await this._pc.setLocalDescription(c);const u=this._pc.getReceivers().find(e=>e.track&&e.track.id===r);if(!u)throw new Error("new RTCRtpReceiver not");return this._mapRecvLocalIdInfo.set(r,{mid:o,rtpParameters:n,rtpReceiver:u}),{localId:r,track:u.track,rtpReceiver:u}}async stopReceiving(e){this._assertRecvDirection(),d.debug("stopReceiving() [localId:%s]",e);const{mid:t,rtpParameters:n}=this._mapRecvLocalIdInfo.get(e)||{};this._mapRecvLocalIdInfo.delete(e),this._remoteSdp.planBStopReceiving({mid:t,offerRtpParameters:n});const i={type:"offer",sdp:this._remoteSdp.getSdp()};d.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",i),await this._pc.setRemoteDescription(i);const r=await this._pc.createAnswer();d.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async getReceiverStats(e){this._assertRecvDirection();const{rtpReceiver:t}=this._mapRecvLocalIdInfo.get(e)||{};if(!t)throw new Error("associated RTCRtpReceiver not found");return t.getStats()}async receiveDataChannel({sctpStreamParameters:e,label:t,protocol:n}){this._assertRecvDirection();const{streamId:r,ordered:o,maxPacketLifeTime:s,maxRetransmits:a}=e,c={negotiated:!0,id:r,ordered:o,maxPacketLifeTime:s,maxRetransmitTime:s,maxRetransmits:a,protocol:n};d.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(t,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const e={type:"offer",sdp:this._remoteSdp.getSdp()};d.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=i.parse(t.sdp);await this._setupTransport({localDtlsRole:"client",localSdpObject:e})}d.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async _setupTransport({localDtlsRole:e,localSdpObject:t}){t||(t=i.parse(this._pc.localDescription.sdp));const n=a.extractDtlsParameters({sdpObject:t});n.role=e,this._remoteSdp.updateDtlsRole("client"===e?"server":"client"),await this.safeEmitAsPromise("@connect",{dtlsParameters:n}),this._transportReady=!0}_assertSendDirection(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}_assertRecvDirection(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}t.Chrome67=p},Eq7A:function(e,t,n){var i=n("8tAB");e.exports=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}},FGiv:function(e,t){var n=1e3,i=60*n,r=60*i,o=24*r;function s(e,t,n,i){var r=t>=1.5*n;return Math.round(e/n)+" "+i+(r?"s":"")}e.exports=function(e,t){t=t||{};var a,c,l=typeof e;if("string"===l&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*r;case"minutes":case"minute":case"mins":case"min":case"m":return s*i;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(e);if("number"===l&&isFinite(e))return t.long?(a=e,(c=Math.abs(a))>=o?s(a,c,o,"day"):c>=r?s(a,c,r,"hour"):c>=i?s(a,c,i,"minute"):c>=n?s(a,c,n,"second"):a+" ms"):function(e){var t=Math.abs(e);return t>=o?Math.round(e/o)+"d":t>=r?Math.round(e/r)+"h":t>=i?Math.round(e/i)+"m":t>=n?Math.round(e/n)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},FXYA:function(e,t,n){function i(e){var n;function i(){if(i.enabled){var e=i,r=+new Date,o=r-(n||r);e.diff=o,e.prev=n,e.curr=r,n=r;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=t.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var c=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(n,i){if("%%"===n)return n;c++;var r=t.formatters[i];return"function"==typeof r&&(n=r.call(e,s[c]),s.splice(c,1),c--),n}),t.formatArgs.call(e,s);var l=i.log||t.log||console.log.bind(console);l.apply(e,s)}}return i.namespace=e,i.enabled=t.enabled(e),i.useColors=t.useColors(),i.color=function(e){var n,i=0;for(n in e)i=(i<<5)-i+e.charCodeAt(n),i|=0;return t.colors[Math.abs(i)%t.colors.length]}(e),i.destroy=r,"function"==typeof t.init&&t.init(i),t.instances.push(i),i}function r(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=i.debug=i.default=i).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var i=("string"==typeof e?e:"").split(/[\s,]+/),r=i.length;for(n=0;n<r;n++)i[n]&&("-"===(e=i[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var o=t.instances[n];o.enabled=t.enabled(o.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,i;for(n=0,i=t.skips.length;n<i;n++)if(t.skips[n].test(e))return!1;for(n=0,i=t.names.length;n<i;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n("XuI1"),t.instances=[],t.names=[],t.skips=[],t.formatters={}},Gbct:function(e,t,n){var i=n("Wm4p"),r=n("cpc2");function o(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.isReactNative=e.isReactNative,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}e.exports=o,r(o.prototype),o.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},o.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},o.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},o.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},o.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},o.prototype.onData=function(e){var t=i.decodePacket(e,this.socket.binaryType);this.onPacket(t)},o.prototype.onPacket=function(e){this.emit("packet",e)},o.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},Gffd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("k76L"),r=n("7h/2"),o=n("R7wK"),s=new r.Logger("RemoteSdp");t.RemoteSdp=class{constructor({iceParameters:e,iceCandidates:t,dtlsParameters:n,sctpParameters:i,plainRtpParameters:r,planB:o=!1}){if(this._mediaSections=[],this._midToIndex=new Map,this._iceParameters=e,this._iceCandidates=t,this._dtlsParameters=n,this._sctpParameters=i,this._plainRtpParameters=r,this._planB=o,this._sdpObject={version:0,origin:{address:"0.0.0.0",ipVer:4,netType:"IN",sessionId:1e4,sessionVersion:0,username:"mediasoup-client"},name:"-",timing:{start:0,stop:0},media:[]},e&&e.iceLite&&(this._sdpObject.icelite="ice-lite"),n){this._sdpObject.msidSemantic={semantic:"WMS",token:"*"};const e=this._dtlsParameters.fingerprints.length;this._sdpObject.fingerprint={type:n.fingerprints[e-1].algorithm,hash:n.fingerprints[e-1].value},this._sdpObject.groups=[{type:"BUNDLE",mids:""}]}r&&(this._sdpObject.origin.address=r.ip,this._sdpObject.origin.ipVer=r.ipVersion)}updateIceParameters(e){s.debug("updateIceParameters() [iceParameters:%o]",e),this._iceParameters=e,this._sdpObject.icelite=e.iceLite?"ice-lite":void 0;for(const t of this._mediaSections)t.setIceParameters(e)}updateDtlsRole(e){s.debug("updateDtlsRole() [role:%s]",e),this._dtlsParameters.role=e;for(const t of this._mediaSections)t.setDtlsRole(e)}getNextMediaSectionIdx(){for(let e=0;e<this._mediaSections.length;++e){const t=this._mediaSections[e];if(t.closed)return{idx:e,reuseMid:t.mid}}return{idx:this._mediaSections.length}}send({offerMediaObject:e,reuseMid:t,offerRtpParameters:n,answerRtpParameters:i,codecOptions:r,extmapAllowMixed:s=!1}){const a=new o.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,planB:this._planB,offerMediaObject:e,offerRtpParameters:n,answerRtpParameters:i,codecOptions:r,extmapAllowMixed:s});t?this._replaceMediaSection(a,t):this._midToIndex.has(a.mid)?this._replaceMediaSection(a):this._addMediaSection(a)}receive({mid:e,kind:t,offerRtpParameters:n,streamId:i,trackId:r}){const s=this._midToIndex.get(e);let a;if(void 0!==s&&(a=this._mediaSections[s]),a)a.planBReceive({offerRtpParameters:n,streamId:i,trackId:r}),this._replaceMediaSection(a);else{a=new o.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,planB:this._planB,mid:e,kind:t,offerRtpParameters:n,streamId:i,trackId:r});const s=this._mediaSections.find(e=>e.closed);s?this._replaceMediaSection(a,s.mid):this._addMediaSection(a)}}disableMediaSection(e){const t=this._midToIndex.get(e);if(void 0===t)throw new Error(`no media section found with mid '${e}'`);this._mediaSections[t].disable()}closeMediaSection(e){const t=this._midToIndex.get(e);if(void 0===t)throw new Error(`no media section found with mid '${e}'`);const n=this._mediaSections[t];if(e===this._firstMid)return s.debug("closeMediaSection() | cannot close first media section, disabling it instead [mid:%s]",e),void this.disableMediaSection(e);n.close(),this._regenerateBundleMids()}planBStopReceiving({mid:e,offerRtpParameters:t}){const n=this._midToIndex.get(e);if(void 0===n)throw new Error(`no media section found with mid '${e}'`);const i=this._mediaSections[n];i.planBStopReceiving({offerRtpParameters:t}),this._replaceMediaSection(i)}sendSctpAssociation({offerMediaObject:e}){const t=new o.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,offerMediaObject:e});this._addMediaSection(t)}receiveSctpAssociation({oldDataChannelSpec:e=!1}={}){const t=new o.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,mid:"datachannel",kind:"application",oldDataChannelSpec:e});this._addMediaSection(t)}getSdp(){return this._sdpObject.origin.sessionVersion++,i.write(this._sdpObject)}_addMediaSection(e){this._firstMid||(this._firstMid=e.mid),this._mediaSections.push(e),this._midToIndex.set(e.mid,this._mediaSections.length-1),this._sdpObject.media.push(e.getObject()),this._regenerateBundleMids()}_replaceMediaSection(e,t){if("string"==typeof t){const n=this._midToIndex.get(t);if(void 0===n)throw new Error(`no media section found for reuseMid '${t}'`);const i=this._mediaSections[n];this._mediaSections[n]=e,this._midToIndex.delete(i.mid),this._midToIndex.set(e.mid,n),this._sdpObject.media[n]=e.getObject(),this._regenerateBundleMids()}else{const t=this._midToIndex.get(e.mid);if(void 0===t)throw new Error(`no media section found with mid '${e.mid}'`);this._mediaSections[t]=e,this._sdpObject.media[t]=e.getObject()}}_regenerateBundleMids(){this._dtlsParameters&&(this._sdpObject.groups[0].mids=this._mediaSections.filter(e=>!e.closed).map(e=>e.mid).join(" "))}}},GhxY:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("8xwj");t.getCapabilities=function(){const e=RTCRtpReceiver.getCapabilities(),t=i.clone(e);for(const n of t.codecs){if(n.channels=n.numChannels,delete n.numChannels,n.mimeType=n.mimeType||`${n.kind}/${n.name}`,n.parameters){const e=n.parameters;e.apt&&(e.apt=Number(e.apt)),e["packetization-mode"]&&(e["packetization-mode"]=Number(e["packetization-mode"]))}for(const e of n.rtcpFeedback||[])e.parameter||(e.parameter="")}return t},t.mangleRtpParameters=function(e){const t=i.clone(e);t.mid&&(t.muxId=t.mid,delete t.mid);for(const n of t.codecs)n.channels&&(n.numChannels=n.channels,delete n.channels),n.mimeType&&!n.name&&(n.name=n.mimeType.split("/")[1]),delete n.mimeType;return t}},GygU:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("+qE3"),r=new(n("7h/2").Logger)("EnhancedEventEmitter");t.EnhancedEventEmitter=class extends i.EventEmitter{constructor(){super(),this.setMaxListeners(1/0)}safeEmit(e,...t){const n=this.listenerCount(e);try{return this.emit(e,...t)}catch(i){return r.error("safeEmit() | event listener threw an error [event:%s]:%o",e,i),Boolean(n)}}async safeEmitAsPromise(e,...t){return new Promise((n,i)=>this.safeEmit(e,...t,n,i))}}},HeOh:function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},KFGy:function(e,t,n){var i=n("Uwu7"),r=n("2xqC"),o=n("kSER"),s=n("2Dig"),a=n("QN7Q"),c=n("x7D4")("socket.io-client:socket"),l=n("TypT"),h=n("WLGk");e.exports=p;var d={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},u=r.prototype.emit;function p(e,t,n){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}r(p.prototype),p.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[s(e,"open",a(this,"onopen")),s(e,"packet",a(this,"onpacket")),s(e,"close",a(this,"onclose"))]}},p.prototype.open=p.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},p.prototype.send=function(){var e=o(arguments);return e.unshift("message"),this.emit.apply(this,e),this},p.prototype.emit=function(e){if(d.hasOwnProperty(e))return u.apply(this,arguments),this;var t=o(arguments),n={type:(void 0!==this.flags.binary?this.flags.binary:h(t))?i.BINARY_EVENT:i.EVENT,data:t,options:{}};return n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this.flags={},this},p.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},p.prototype.onopen=function(){if(c("transport is open - connecting"),"/"!==this.nsp)if(this.query){var e="object"==typeof this.query?l.encode(this.query):this.query;c("sending connect packet with query %s",e),this.packet({type:i.CONNECT,query:e})}else this.packet({type:i.CONNECT})},p.prototype.onclose=function(e){c("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},p.prototype.onpacket=function(e){if(e.nsp===this.nsp||e.type===i.ERROR&&"/"===e.nsp)switch(e.type){case i.CONNECT:this.onconnect();break;case i.EVENT:case i.BINARY_EVENT:this.onevent(e);break;case i.ACK:case i.BINARY_ACK:this.onack(e);break;case i.DISCONNECT:this.ondisconnect();break;case i.ERROR:this.emit("error",e.data)}},p.prototype.onevent=function(e){var t=e.data||[];c("emitting event %j",t),null!=e.id&&(c("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?u.apply(this,t):this.receiveBuffer.push(t)},p.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var r=o(arguments);c("sending ack %j",r),t.packet({type:h(r)?i.BINARY_ACK:i.ACK,id:e,data:r})}}},p.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(c("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):c("bad ack %s",e.id)},p.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},p.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)u.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},p.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},p.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},p.prototype.close=p.prototype.disconnect=function(){return this.connected&&(c("performing disconnect (%s)",this.nsp),this.packet({type:i.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},p.prototype.compress=function(e){return this.flags.compress=e,this},p.prototype.binary=function(e){return this.flags.binary=e,this}},L8wN:function(e,t,n){e.exports=function(e){function t(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return i.colors[Math.abs(t)%i.colors.length]}function i(e){let n;function s(...e){if(!s.enabled)return;const t=s,r=Number(new Date);t.diff=r-(n||r),t.prev=n,t.curr=r,n=r,e[0]=i.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let o=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(n,r)=>{if("%%"===n)return n;o++;const s=i.formatters[r];return"function"==typeof s&&(n=s.call(t,e[o]),e.splice(o,1),o--),n}),i.formatArgs.call(t,e),(t.log||i.log).apply(t,e)}return s.namespace=e,s.enabled=i.enabled(e),s.useColors=i.useColors(),s.color=t(e),s.destroy=r,s.extend=o,"function"==typeof i.init&&i.init(s),i.instances.push(s),s}function r(){const e=i.instances.indexOf(this);return-1!==e&&(i.instances.splice(e,1),!0)}function o(e,t){const n=i(this.namespace+(void 0===t?":":t)+e);return n.log=this.log,n}function s(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return i.debug=i,i.default=i,i.coerce=function(e){return e instanceof Error?e.stack||e.message:e},i.disable=function(){const e=[...i.names.map(s),...i.skips.map(s).map(e=>"-"+e)].join(",");return i.enable(""),e},i.enable=function(e){let t;i.save(e),i.names=[],i.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length;for(t=0;t<r;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?i.skips.push(new RegExp("^"+e.substr(1)+"$")):i.names.push(new RegExp("^"+e+"$")));for(t=0;t<i.instances.length;t++){const e=i.instances[t];e.enabled=i.enabled(e.namespace)}},i.enabled=function(e){if("*"===e[e.length-1])return!0;let t,n;for(t=0,n=i.skips.length;t<n;t++)if(i.skips[t].test(e))return!1;for(t=0,n=i.names.length;t<n;t++)if(i.names[t].test(e))return!0;return!1},i.humanize=n("FGiv"),Object.keys(e).forEach(t=>{i[t]=e[t]}),i.instances=[],i.names=[],i.skips=[],i.formatters={},i.selectColor=t,i.enable(i.load()),i}},M39V:function(e,t,n){e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,(function(t){return e[t]}).bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=90)}({17:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i=n(18),r=function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map(function(e){return parseInt(e,10)||0});if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map(function(e){return parseInt(e,10)||0});if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,i){void 0===i&&(i=!1);var r=e.getVersionPrecision(t),o=e.getVersionPrecision(n),s=Math.max(r,o),a=0,c=e.map([t,n],function(t){var n=s-e.getVersionPrecision(t),i=t+new Array(n+1).join(".0");return e.map(i.split("."),function(e){return new Array(20-e.length).join("0")+e}).reverse()});for(i&&(a=s-Math.min(r,o)),s-=1;s>=a;){if(c[0][s]>c[1][s])return 1;if(c[0][s]===c[1][s]){if(s===a)return 0;s-=1}else if(c[0][s]<c[1][s])return-1}},e.map=function(e,t){var n,i=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)i.push(t(e[n]));return i},e.find=function(e,t){var n,i;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,i=e.length;n<i;n+=1){var r=e[n];if(t(r,n))return r}},e.assign=function(e){for(var t,n,i=e,r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];if(Object.assign)return Object.assign.apply(Object,[e].concat(o));var a=function(){var e=o[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach(function(t){i[t]=e[t]})};for(t=0,n=o.length;t<n;t+=1)a();return e},e.getBrowserAlias=function(e){return i.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return i.BROWSER_MAP[e]||""},e}();t.default=r,e.exports=t.default},18:function(e,t,n){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i,r=(i=n(91))&&i.__esModule?i:{default:i},o=n(18);function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a=function(){function e(){}var t,n;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new r.default(e,t)},e.parse=function(e){return new r.default(e).getResult()},t=e,(n=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}])&&s(t,n),e}();t.default=a,e.exports=t.default},91:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i=c(n(92)),r=c(n(93)),o=c(n(94)),s=c(n(95)),a=c(n(17));function c(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=a.default.find(i.default,function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=a.default.find(r.default,function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=a.default.find(o.default,function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=a.default.find(s.default,function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return a.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},i=0,r={},o=0;if(Object.keys(e).forEach(function(t){var s=e[t];"string"==typeof s?(r[t]=s,o+=1):"object"==typeof s&&(n[t]=s,i+=1)}),i>0){var s=Object.keys(n),c=a.default.find(s,function(e){return t.isOS(e)});if(c){var l=this.satisfies(n[c]);if(void 0!==l)return l}var h=a.default.find(s,function(e){return t.isPlatform(e)});if(h){var d=this.satisfies(n[h]);if(void 0!==d)return d}}if(o>0){var u=Object.keys(r),p=a.default.find(u,function(e){return t.isBrowser(e,!0)});if(void 0!==p)return this.compareVersion(r[p])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),i=e.toLowerCase(),r=a.default.getBrowserTypeByAlias(i);return t&&r&&(i=r.toLowerCase()),i===n},t.compareVersion=function(e){var t=[0],n=e,i=!1,r=this.getBrowserVersion();if("string"==typeof r)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(i=!0,n=e.substr(2)):t=[],t.push(">"===e[0]?1:-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(i=!0,n=e.substr(1)),t.indexOf(a.default.compareVersions(r,n,i))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some(function(e){return t.is(e)})},e}();t.default=l,e.exports=t.default},92:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i,r=(i=n(17))&&i.__esModule?i:{default:i},o=/version\/(\d+(\.?_?\d+)+)/i,s=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=r.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||r.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=r.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||r.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=r.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||r.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=r.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||r.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=r.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||r.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},n=r.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||r.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=r.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||r.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=r.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||r.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=r.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||r.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=r.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=r.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=r.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=r.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=r.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=r.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=r.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=r.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=r.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=r.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=r.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||r.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=r.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||r.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=r.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=r.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},n=r.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=r.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||r.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=r.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=r.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=r.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=r.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=r.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:r.default.getFirstMatch(t,e),version:r.default.getSecondMatch(t,e)}}}];t.default=s,e.exports=t.default},93:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i,r=(i=n(17))&&i.__esModule?i:{default:i},o=n(18),s=[{test:[/Roku\/DVP/],describe:function(e){var t=r.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:o.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=r.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=r.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=r.default.getWindowsVersionName(t);return{name:o.OS_MAP.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:o.OS_MAP.iOS},n=r.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe:function(e){var t=r.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=r.default.getMacOSVersionName(t),i={name:o.OS_MAP.MacOS,version:t};return n&&(i.versionName=n),i}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=r.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=r.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=r.default.getAndroidVersionName(t),i={name:o.OS_MAP.Android,version:t};return n&&(i.versionName=n),i}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=r.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:o.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=r.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||r.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||r.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:o.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=r.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=r.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=r.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.PlayStation4,version:t}}}];t.default=s,e.exports=t.default},94:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i,r=(i=n(17))&&i.__esModule?i:{default:i},o=n(18);t.default=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=r.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=r.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}],e.exports=t.default},95:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i,r=(i=n(17))&&i.__esModule?i:{default:i},o=n(18),s=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:o.ENGINE_MAP.Blink};var t=r.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:o.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:o.ENGINE_MAP.Trident},n=r.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:o.ENGINE_MAP.Presto},n=r.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:o.ENGINE_MAP.Gecko},n=r.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:o.ENGINE_MAP.WebKit},n=r.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=s,e.exports=t.default}})},NN06:function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}e.exports=function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}},NOtv:function(e,t,n){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let i=0,r=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(i++,"%c"===e&&(r=i))}),t.splice(r,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(n){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(n){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n("3JDX")(t);const{formatters:i}=e.exports;i.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}},Nj9v:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("M39V"),r=n("7h/2"),o=n("nAs4"),s=n("/rqz"),a=n("UloB"),c=n("0NQQ"),l=n("UThS"),h=n("EL67"),d=n("4NJD"),u=n("2Fkq"),p=n("jZQw"),f=n("/pdn"),m=n("7m5y"),g=n("7kHm"),v=new r.Logger("Device");function y(){if("object"==typeof navigator&&"ReactNative"===navigator.product)return"undefined"==typeof RTCPeerConnection?void v.warn("this._detectDevice() | unsupported ReactNative without RTCPeerConnection"):(v.debug("this._detectDevice() | ReactNative handler chosen"),"ReactNative");if("object"!=typeof navigator||"string"!=typeof navigator.userAgent)v.warn("this._detectDevice() | unknown device");else{const e=navigator.userAgent,t=i.getParser(e),n=t.getEngine();if(t.satisfies({chrome:">=74",chromium:">=74"}))return"Chrome74";if(t.satisfies({chrome:">=70",chromium:">=70"}))return"Chrome70";if(t.satisfies({chrome:">=67",chromium:">=67"}))return"Chrome67";if(t.satisfies({chrome:">=55",chromium:">=55"}))return"Chrome55";if(t.satisfies({firefox:">=60"}))return"Firefox60";if(t.satisfies({safari:">=12.0"})&&"undefined"!=typeof RTCRtpTransceiver&&RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection"))return"Safari12";if(t.satisfies({safari:">=11"}))return"Safari11";if(t.satisfies({"microsoft edge":">=11"})&&t.satisfies({"microsoft edge":"<=18"}))return"Edge11";if(n.name&&"blink"===n.name.toLowerCase()){const t=e.match(/(?:(?:Chrome|Chromium))[ /](\w+)/i);if(t){const e=Number(t[1]);return e>=74?"Chrome74":e>=70?"Chrome70":e>=67?"Chrome67":"Chrome55"}return"Chrome74"}v.warn("this._detectDevice() | browser not supported [name:%s, version:%s]",t.getBrowserName(),t.getBrowserVersion())}}t.detectDevice=y,t.Device=class{constructor({handlerName:e,handlerFactory:t,Handler:n}={}){if(this._loaded=!1,v.debug("constructor()"),n){if(v.warn("constructor() | Handler option is DEPRECATED, use handlerName or handlerFactory instead"),"string"!=typeof n)throw new TypeError("non string Handler option no longer supported, use handlerFactory instead");e=n}if(e&&t)throw new TypeError("just one of handlerName or handlerInterface can be given");if(t)this._handlerFactory=t;else{if(e)v.debug("constructor() | handler given: %s",e);else{if(!(e=y()))throw new o.UnsupportedError("device not supported");v.debug("constructor() | detected handler: %s",e)}switch(e){case"Chrome74":this._handlerFactory=c.Chrome74.createFactory();break;case"Chrome70":this._handlerFactory=l.Chrome70.createFactory();break;case"Chrome67":this._handlerFactory=h.Chrome67.createFactory();break;case"Chrome55":this._handlerFactory=d.Chrome55.createFactory();break;case"Firefox60":this._handlerFactory=u.Firefox60.createFactory();break;case"Safari12":this._handlerFactory=p.Safari12.createFactory();break;case"Safari11":this._handlerFactory=f.Safari11.createFactory();break;case"Edge11":this._handlerFactory=m.Edge11.createFactory();break;case"ReactNative":this._handlerFactory=g.ReactNative.createFactory();break;default:throw new TypeError(`unknown handlerName "${e}"`)}}const i=this._handlerFactory();this._handlerName=i.name,i.close(),this._extendedRtpCapabilities=void 0,this._recvRtpCapabilities=void 0,this._canProduceByKind={audio:!1,video:!1},this._sctpCapabilities=void 0}get handlerName(){return this._handlerName}get loaded(){return this._loaded}get rtpCapabilities(){if(!this._loaded)throw new o.InvalidStateError("not loaded");return this._recvRtpCapabilities}get sctpCapabilities(){if(!this._loaded)throw new o.InvalidStateError("not loaded");return this._sctpCapabilities}async load({routerRtpCapabilities:e}){let t;v.debug("load() [routerRtpCapabilities:%o]",e);try{if(this._loaded)throw new o.InvalidStateError("already loaded");s.validateRtpCapabilities(e),t=this._handlerFactory();const n=await t.getNativeRtpCapabilities();v.debug("load() | got native RTP capabilities:%o",n),s.validateRtpCapabilities(n),this._extendedRtpCapabilities=s.getExtendedRtpCapabilities(n,e),v.debug("load() | got extended RTP capabilities:%o",this._extendedRtpCapabilities),this._canProduceByKind.audio=s.canSend("audio",this._extendedRtpCapabilities),this._canProduceByKind.video=s.canSend("video",this._extendedRtpCapabilities),this._recvRtpCapabilities=s.getRecvRtpCapabilities(this._extendedRtpCapabilities),s.validateRtpCapabilities(this._recvRtpCapabilities),v.debug("load() | got receiving RTP capabilities:%o",this._recvRtpCapabilities),this._sctpCapabilities=await t.getNativeSctpCapabilities(),v.debug("load() | got native SCTP capabilities:%o",this._sctpCapabilities),s.validateSctpCapabilities(this._sctpCapabilities),v.debug("load() succeeded"),this._loaded=!0,t.close()}catch(n){throw t&&t.close(),n}}canProduce(e){if(!this._loaded)throw new o.InvalidStateError("not loaded");if("audio"!==e&&"video"!==e)throw new TypeError(`invalid kind "${e}"`);return this._canProduceByKind[e]}createSendTransport({id:e,iceParameters:t,iceCandidates:n,dtlsParameters:i,sctpParameters:r,iceServers:o,iceTransportPolicy:s,additionalSettings:a,proprietaryConstraints:c,appData:l={}}){return v.debug("createSendTransport()"),this._createTransport({direction:"send",id:e,iceParameters:t,iceCandidates:n,dtlsParameters:i,sctpParameters:r,iceServers:o,iceTransportPolicy:s,additionalSettings:a,proprietaryConstraints:c,appData:l})}createRecvTransport({id:e,iceParameters:t,iceCandidates:n,dtlsParameters:i,sctpParameters:r,iceServers:o,iceTransportPolicy:s,additionalSettings:a,proprietaryConstraints:c,appData:l={}}){return v.debug("createRecvTransport()"),this._createTransport({direction:"recv",id:e,iceParameters:t,iceCandidates:n,dtlsParameters:i,sctpParameters:r,iceServers:o,iceTransportPolicy:s,additionalSettings:a,proprietaryConstraints:c,appData:l})}_createTransport({direction:e,id:t,iceParameters:n,iceCandidates:i,dtlsParameters:r,sctpParameters:s,iceServers:c,iceTransportPolicy:l,additionalSettings:h,proprietaryConstraints:d,appData:u={}}){if(!this._loaded)throw new o.InvalidStateError("not loaded");if("string"!=typeof t)throw new TypeError("missing id");if("object"!=typeof n)throw new TypeError("missing iceParameters");if(!Array.isArray(i))throw new TypeError("missing iceCandidates");if("object"!=typeof r)throw new TypeError("missing dtlsParameters");if(s&&"object"!=typeof s)throw new TypeError("wrong sctpParameters");if(u&&"object"!=typeof u)throw new TypeError("if given, appData must be an object");return new a.Transport({direction:e,id:t,iceParameters:n,iceCandidates:i,dtlsParameters:r,sctpParameters:s,iceServers:c,iceTransportPolicy:l,additionalSettings:h,proprietaryConstraints:d,appData:u,handlerFactory:this._handlerFactory,extendedRtpCapabilities:this._extendedRtpCapabilities,canProduceByKind:this._canProduceByKind})}}},Njrz:function(e,t,n){var i=n("luTP"),r=n("qGlh"),o=Object.prototype.toString,s="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===o.call(Blob),a="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===o.call(File);function c(e,t){if(!e)return e;if(r(e)){var n={_placeholder:!0,num:t.length};return t.push(e),n}if(i(e)){for(var o=new Array(e.length),s=0;s<e.length;s++)o[s]=c(e[s],t);return o}if("object"==typeof e&&!(e instanceof Date)){for(var a in o={},e)o[a]=c(e[a],t);return o}return e}function l(e,t){if(!e)return e;if(e&&e._placeholder)return t[e.num];if(i(e))for(var n=0;n<e.length;n++)e[n]=l(e[n],t);else if("object"==typeof e)for(var r in e)e[r]=l(e[r],t);return e}t.deconstructPacket=function(e){var t=[],n=e;return n.data=c(e.data,t),n.attachments=t.length,{packet:n,buffers:t}},t.reconstructPacket=function(e,t){return e.data=l(e.data,t),e.attachments=void 0,e},t.removeBlobs=function(e,t){var n=0,o=e;!function e(c,l,h){if(!c)return c;if(s&&c instanceof Blob||a&&c instanceof File){n++;var d=new FileReader;d.onload=function(){h?h[l]=this.result:o=this.result,--n||t(o)},d.readAsArrayBuffer(c)}else if(i(c))for(var u=0;u<c.length;u++)e(c[u],u,c);else if("object"==typeof c&&!r(c))for(var p in c)e(c[p],p,c)}(o),n||t(o)}},O6qx:function(e,t){var n=e.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return null!=e.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%d trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return null!=e.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return null!=e.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=null!=e.raddr?" raddr %s rport %d":"%v%v",t+=null!=e.tcptype?" tcptype %s":"%v",null!=e.generation&&(t+=" generation %d"),(t+=null!=e["network-id"]?" network-id %d":"%v")+(null!=e["network-cost"]?" network-cost %d":"%v")}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return null!=e.attribute&&(t+=" %s",null!=e.value&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return null!=e.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(null!=e.clksrcExt?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){var t="mediaclk:";return t+=null!=e.id?"id=%s %s":"%v%s",t+=null!=e.mediaClockValue?"=%s":"",(t+=null!=e.rateNumerator?" rate=%s":"")+(null!=e.rateDenominator?"/%s":"")}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(n).forEach(function(e){n[e].forEach(function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format="%s")})})},QN7Q:function(e,t){var n=[].slice;e.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var i=n.call(arguments,2);return function(){return t.apply(e,i.concat(n.call(arguments)))}}},R7wK:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("8xwj");class r{constructor({iceParameters:e,iceCandidates:t,dtlsParameters:n,planB:i=!1}){if(this._mediaObject={},this._planB=i,e&&this.setIceParameters(e),t){this._mediaObject.candidates=[];for(const e of t){const t={component:1};t.foundation=e.foundation,t.ip=e.ip,t.port=e.port,t.priority=e.priority,t.transport=e.protocol,t.type=e.type,e.tcpType&&(t.tcptype=e.tcpType),this._mediaObject.candidates.push(t)}this._mediaObject.endOfCandidates="end-of-candidates",this._mediaObject.iceOptions="renomination"}n&&this.setDtlsRole(n.role)}get mid(){return String(this._mediaObject.mid)}get closed(){return 0===this._mediaObject.port}getObject(){return this._mediaObject}setIceParameters(e){this._mediaObject.iceUfrag=e.usernameFragment,this._mediaObject.icePwd=e.password}disable(){this._mediaObject.direction="inactive",delete this._mediaObject.ext,delete this._mediaObject.ssrcs,delete this._mediaObject.ssrcGroups,delete this._mediaObject.simulcast,delete this._mediaObject.simulcast_03,delete this._mediaObject.rids}close(){this._mediaObject.direction="inactive",this._mediaObject.port=0,delete this._mediaObject.ext,delete this._mediaObject.ssrcs,delete this._mediaObject.ssrcGroups,delete this._mediaObject.simulcast,delete this._mediaObject.simulcast_03,delete this._mediaObject.rids,delete this._mediaObject.extmapAllowMixed}}function o(e){const t=new RegExp("^(audio|video)/(.+)","i").exec(e.mimeType);if(!t)throw new TypeError("invalid codec.mimeType");return t[2]}t.MediaSection=r,t.AnswerMediaSection=class extends r{constructor({iceParameters:e,iceCandidates:t,dtlsParameters:n,sctpParameters:r,plainRtpParameters:s,planB:a=!1,offerMediaObject:c,offerRtpParameters:l,answerRtpParameters:h,codecOptions:d,extmapAllowMixed:u=!1}){switch(super({iceParameters:e,iceCandidates:t,dtlsParameters:n,planB:a}),this._mediaObject.mid=String(c.mid),this._mediaObject.type=c.type,this._mediaObject.protocol=c.protocol,s?(this._mediaObject.connection={ip:s.ip,version:s.ipVersion},this._mediaObject.port=s.port):(this._mediaObject.connection={ip:"127.0.0.1",version:4},this._mediaObject.port=7),c.type){case"audio":case"video":this._mediaObject.direction="recvonly",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[];for(const e of h.codecs){const t={payload:e.payloadType,codec:o(e),rate:e.clockRate};e.channels>1&&(t.encoding=e.channels),this._mediaObject.rtp.push(t);const n=i.clone(e.parameters||{});if(d){const{opusStereo:t,opusFec:i,opusDtx:r,opusMaxPlaybackRate:o,opusPtime:s,videoGoogleStartBitrate:a,videoGoogleMaxBitrate:c,videoGoogleMinBitrate:h}=d,u=l.codecs.find(t=>t.payloadType===e.payloadType);switch(e.mimeType.toLowerCase()){case"audio/opus":void 0!==t&&(u.parameters["sprop-stereo"]=t?1:0,n.stereo=t?1:0),void 0!==i&&(u.parameters.useinbandfec=i?1:0,n.useinbandfec=i?1:0),void 0!==r&&(u.parameters.usedtx=r?1:0,n.usedtx=r?1:0),void 0!==o&&(n.maxplaybackrate=o),void 0!==s&&(u.parameters.ptime=s,n.ptime=s);break;case"video/vp8":case"video/vp9":case"video/h264":case"video/h265":void 0!==a&&(n["x-google-start-bitrate"]=a),void 0!==c&&(n["x-google-max-bitrate"]=c),void 0!==h&&(n["x-google-min-bitrate"]=h)}}const r={payload:e.payloadType,config:""};for(const e of Object.keys(n))r.config&&(r.config+=";"),r.config+=`${e}=${n[e]}`;r.config&&this._mediaObject.fmtp.push(r);for(const i of e.rtcpFeedback)this._mediaObject.rtcpFb.push({payload:e.payloadType,type:i.type,subtype:i.parameter})}this._mediaObject.payloads=h.codecs.map(e=>e.payloadType).join(" "),this._mediaObject.ext=[];for(const e of h.headerExtensions)(c.ext||[]).some(t=>t.uri===e.uri)&&this._mediaObject.ext.push({uri:e.uri,value:e.id});if(u&&"extmap-allow-mixed"===c.extmapAllowMixed&&(this._mediaObject.extmapAllowMixed="extmap-allow-mixed"),c.simulcast){this._mediaObject.simulcast={dir1:"recv",list1:c.simulcast.list1},this._mediaObject.rids=[];for(const e of c.rids||[])"send"===e.direction&&this._mediaObject.rids.push({id:e.id,direction:"recv"})}else if(c.simulcast_03){this._mediaObject.simulcast_03={value:c.simulcast_03.value.replace(/send/g,"recv")},this._mediaObject.rids=[];for(const e of c.rids||[])"send"===e.direction&&this._mediaObject.rids.push({id:e.id,direction:"recv"})}this._mediaObject.rtcpMux="rtcp-mux",this._mediaObject.rtcpRsize="rtcp-rsize",this._planB&&"video"===this._mediaObject.type&&(this._mediaObject.xGoogleFlag="conference");break;case"application":"number"==typeof c.sctpPort?(this._mediaObject.payloads="webrtc-datachannel",this._mediaObject.sctpPort=r.port,this._mediaObject.maxMessageSize=r.maxMessageSize):c.sctpmap&&(this._mediaObject.payloads=r.port,this._mediaObject.sctpmap={app:"webrtc-datachannel",sctpmapNumber:r.port,maxMessageSize:r.maxMessageSize})}}setDtlsRole(e){switch(e){case"client":this._mediaObject.setup="active";break;case"server":this._mediaObject.setup="passive";break;case"auto":this._mediaObject.setup="actpass"}}},t.OfferMediaSection=class extends r{constructor({iceParameters:e,iceCandidates:t,dtlsParameters:n,sctpParameters:i,plainRtpParameters:r,planB:s=!1,mid:a,kind:c,offerRtpParameters:l,streamId:h,trackId:d,oldDataChannelSpec:u=!1}){switch(super({iceParameters:e,iceCandidates:t,dtlsParameters:n,planB:s}),this._mediaObject.mid=String(a),this._mediaObject.type=c,r?(this._mediaObject.connection={ip:r.ip,version:r.ipVersion},this._mediaObject.protocol="RTP/AVP",this._mediaObject.port=r.port):(this._mediaObject.connection={ip:"127.0.0.1",version:4},this._mediaObject.protocol=i?"UDP/DTLS/SCTP":"UDP/TLS/RTP/SAVPF",this._mediaObject.port=7),c){case"audio":case"video":{this._mediaObject.direction="sendonly",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[],this._planB||(this._mediaObject.msid=`${h||"-"} ${d}`);for(const i of l.codecs){const e={payload:i.payloadType,codec:o(i),rate:i.clockRate};i.channels>1&&(e.encoding=i.channels),this._mediaObject.rtp.push(e);const t={payload:i.payloadType,config:""};for(const n of Object.keys(i.parameters))t.config&&(t.config+=";"),t.config+=`${n}=${i.parameters[n]}`;t.config&&this._mediaObject.fmtp.push(t);for(const n of i.rtcpFeedback)this._mediaObject.rtcpFb.push({payload:i.payloadType,type:n.type,subtype:n.parameter})}this._mediaObject.payloads=l.codecs.map(e=>e.payloadType).join(" "),this._mediaObject.ext=[];for(const i of l.headerExtensions)this._mediaObject.ext.push({uri:i.uri,value:i.id});this._mediaObject.rtcpMux="rtcp-mux",this._mediaObject.rtcpRsize="rtcp-rsize";const e=l.encodings[0],t=e.ssrc,n=e.rtx&&e.rtx.ssrc?e.rtx.ssrc:void 0;this._mediaObject.ssrcs=[],this._mediaObject.ssrcGroups=[],l.rtcp.cname&&this._mediaObject.ssrcs.push({id:t,attribute:"cname",value:l.rtcp.cname}),this._planB&&this._mediaObject.ssrcs.push({id:t,attribute:"msid",value:`${h||"-"} ${d}`}),n&&(l.rtcp.cname&&this._mediaObject.ssrcs.push({id:n,attribute:"cname",value:l.rtcp.cname}),this._planB&&this._mediaObject.ssrcs.push({id:n,attribute:"msid",value:`${h||"-"} ${d}`}),this._mediaObject.ssrcGroups.push({semantics:"FID",ssrcs:`${t} ${n}`}));break}case"application":u?(this._mediaObject.payloads=i.port,this._mediaObject.sctpmap={app:"webrtc-datachannel",sctpmapNumber:i.port,maxMessageSize:i.maxMessageSize}):(this._mediaObject.payloads="webrtc-datachannel",this._mediaObject.sctpPort=i.port,this._mediaObject.maxMessageSize=i.maxMessageSize)}}setDtlsRole(e){this._mediaObject.setup="actpass"}planBReceive({offerRtpParameters:e,streamId:t,trackId:n}){const i=e.encodings[0],r=i.ssrc,o=i.rtx&&i.rtx.ssrc?i.rtx.ssrc:void 0;e.rtcp.cname&&this._mediaObject.ssrcs.push({id:r,attribute:"cname",value:e.rtcp.cname}),this._mediaObject.ssrcs.push({id:r,attribute:"msid",value:`${t||"-"} ${n}`}),o&&(e.rtcp.cname&&this._mediaObject.ssrcs.push({id:o,attribute:"cname",value:e.rtcp.cname}),this._mediaObject.ssrcs.push({id:o,attribute:"msid",value:`${t||"-"} ${n}`}),this._mediaObject.ssrcGroups.push({semantics:"FID",ssrcs:`${r} ${o}`}))}planBStopReceiving({offerRtpParameters:e}){const t=e.encodings[0],n=t.ssrc,i=t.rtx&&t.rtx.ssrc?t.rtx.ssrc:void 0;this._mediaObject.ssrcs=this._mediaObject.ssrcs.filter(e=>e.id!==n&&e.id!==i),i&&(this._mediaObject.ssrcGroups=this._mediaObject.ssrcGroups.filter(e=>e.ssrcs!==`${n} ${i}`))}}},SNoo:function(e,t,n){var i=n("HeOh"),r=n("/TJp"),o=n("Eq7A"),s=n("1PgL");e.exports=function(e,t){return i(e)||r(e,t)||o(e,t)||s()}},TypT:function(e,t){t.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split("&"),i=0,r=n.length;i<r;i++){var o=n[i].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}},UThS:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("k76L"),r=n("7h/2"),o=n("8xwj"),s=n("/rqz"),a=n("YwPy"),c=n("iHzg"),l=n("1z2d"),h=n("Gffd"),d=n("gEDQ"),u=new r.Logger("Chrome70"),p={OS:1024,MIS:1024};class f extends l.HandlerInterface{constructor(){super(),this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}static createFactory(){return()=>new f}get name(){return"Chrome70"}close(){if(u.debug("close()"),this._pc)try{this._pc.close()}catch(e){}}async getNativeRtpCapabilities(){u.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{e.addTransceiver("audio"),e.addTransceiver("video");const n=await e.createOffer();try{e.close()}catch(t){}const r=i.parse(n.sdp);return a.extractRtpCapabilities({sdpObject:r})}catch(t){try{e.close()}catch(n){}throw t}}async getNativeSctpCapabilities(){return u.debug("getNativeSctpCapabilities()"),{numStreams:p}}run({direction:e,iceParameters:t,iceCandidates:n,dtlsParameters:i,sctpParameters:r,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:d}){u.debug("run()"),this._direction=e,this._remoteSdp=new h.RemoteSdp({iceParameters:t,iceCandidates:n,dtlsParameters:i,sctpParameters:r}),this._sendingRtpParametersByKind={audio:s.getSendingRtpParameters("audio",d),video:s.getSendingRtpParameters("video",d)},this._sendingRemoteRtpParametersByKind={audio:s.getSendingRemoteRtpParameters("audio",d),video:s.getSendingRemoteRtpParameters("video",d)},this._pc=new RTCPeerConnection(Object.assign({iceServers:o||[],iceTransportPolicy:a||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"},c),l),this._pc.addEventListener("iceconnectionstatechange",()=>{switch(this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}})}async updateIceServers(e){u.debug("updateIceServers()");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(u.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),this._transportReady)if("send"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});u.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e);const t={type:"answer",sdp:this._remoteSdp.getSdp()};u.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setRemoteDescription(t)}else{const e={type:"offer",sdp:this._remoteSdp.getSdp()};u.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();u.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this._pc.getStats()}async send({track:e,encodings:t,codecOptions:n,codec:r}){this._assertSendDirection(),u.debug("send() [kind:%s, track.id:%s]",e.kind,e.id);const l=o.clone(this._sendingRtpParametersByKind[e.kind]);l.codecs=s.reduceCodecs(l.codecs,r);const h=o.clone(this._sendingRemoteRtpParametersByKind[e.kind]);h.codecs=s.reduceCodecs(h.codecs,r);const p=this._remoteSdp.getNextMediaSectionIdx(),f=this._pc.addTransceiver(e,{direction:"sendonly",streams:[this._sendStream]});let m,g=await this._pc.createOffer(),v=i.parse(g.sdp);this._transportReady||await this._setupTransport({localDtlsRole:"server",localSdpObject:v}),t&&t.length>1&&(u.debug("send() | enabling legacy simulcast"),v=i.parse(g.sdp),m=v.media[p.idx],c.addLegacySimulcast({offerMediaObject:m,numStreams:t.length}),g={type:"offer",sdp:i.write(v)});let y=!1;const b=d.parse((t||[{}])[0].scalabilityMode);if(t&&1===t.length&&b.spatialLayers>1&&"video/vp9"===l.codecs[0].mimeType.toLowerCase()&&(u.debug("send() | enabling legacy simulcast for VP9 SVC"),y=!0,v=i.parse(g.sdp),m=v.media[p.idx],c.addLegacySimulcast({offerMediaObject:m,numStreams:b.spatialLayers}),g={type:"offer",sdp:i.write(v)}),u.debug("send() | calling pc.setLocalDescription() [offer:%o]",g),await this._pc.setLocalDescription(g),t){u.debug("send() | applying given encodings");const e=f.sender.getParameters();for(let n=0;n<(e.encodings||[]).length;++n){const i=e.encodings[n],r=t[n];if(!r)break;e.encodings[n]=Object.assign(i,r)}await f.sender.setParameters(e)}const _=f.mid;if(l.mid=_,v=i.parse(this._pc.localDescription.sdp),m=v.media[p.idx],l.rtcp.cname=a.getCname({offerMediaObject:m}),l.encodings=c.getRtpEncodings({offerMediaObject:m}),t)for(let i=0;i<l.encodings.length;++i)t[i]&&Object.assign(l.encodings[i],t[i]);if(y&&(l.encodings=[l.encodings[0]]),l.encodings.length>1&&("video/vp8"===l.codecs[0].mimeType.toLowerCase()||"video/h264"===l.codecs[0].mimeType.toLowerCase()))for(const i of l.encodings)i.scalabilityMode="S1T3";this._remoteSdp.send({offerMediaObject:m,reuseMid:p.reuseMid,offerRtpParameters:l,answerRtpParameters:h,codecOptions:n});const w={type:"answer",sdp:this._remoteSdp.getSdp()};return u.debug("send() | calling pc.setRemoteDescription() [answer:%o]",w),await this._pc.setRemoteDescription(w),this._mapMidTransceiver.set(_,f),{localId:_,rtpParameters:l,rtpSender:f.sender}}async stopSending(e){this._assertSendDirection(),u.debug("stopSending() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");t.sender.replaceTrack(null),this._pc.removeTrack(t.sender),this._remoteSdp.closeMediaSection(t.mid);const n=await this._pc.createOffer();u.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const i={type:"answer",sdp:this._remoteSdp.getSdp()};u.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async replaceTrack(e,t){this._assertSendDirection(),t?u.debug("replaceTrack() [localId:%s, track.id:%s]",e,t.id):u.debug("replaceTrack() [localId:%s, no track]",e);const n=this._mapMidTransceiver.get(e);if(!n)throw new Error("associated RTCRtpTransceiver not found");await n.sender.replaceTrack(t)}async setMaxSpatialLayer(e,t){this._assertSendDirection(),u.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,t);const n=this._mapMidTransceiver.get(e);if(!n)throw new Error("associated RTCRtpTransceiver not found");const i=n.sender.getParameters();i.encodings.forEach((e,n)=>{e.active=n<=t}),await n.sender.setParameters(i)}async setRtpEncodingParameters(e,t){this._assertSendDirection(),u.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,t);const n=this._mapMidTransceiver.get(e);if(!n)throw new Error("associated RTCRtpTransceiver not found");const i=n.sender.getParameters();i.encodings.forEach((e,n)=>{i.encodings[n]=Object.assign(Object.assign({},e),t)}),await n.sender.setParameters(i)}async getSenderStats(e){this._assertSendDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.sender.getStats()}async sendDataChannel({ordered:e,maxPacketLifeTime:t,maxRetransmits:n,label:r,protocol:o,priority:s}){this._assertSendDirection();const a={negotiated:!0,id:this._nextSendSctpStreamId,ordered:e,maxPacketLifeTime:t,maxRetransmitTime:t,maxRetransmits:n,protocol:o,priority:s};u.debug("sendDataChannel() [options:%o]",a);const c=this._pc.createDataChannel(r,a);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%p.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=i.parse(e.sdp),n=t.media.find(e=>"application"===e.type);this._transportReady||await this._setupTransport({localDtlsRole:"server",localSdpObject:t}),u.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:n});const r={type:"answer",sdp:this._remoteSdp.getSdp()};u.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:a.id,ordered:a.ordered,maxPacketLifeTime:a.maxPacketLifeTime,maxRetransmits:a.maxRetransmits}}}async receive({trackId:e,kind:t,rtpParameters:n}){this._assertRecvDirection(),u.debug("receive() [trackId:%s, kind:%s]",e,t);const r=n.mid||String(this._mapMidTransceiver.size);this._remoteSdp.receive({mid:r,kind:t,offerRtpParameters:n,streamId:n.rtcp.cname,trackId:e});const o={type:"offer",sdp:this._remoteSdp.getSdp()};u.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",o),await this._pc.setRemoteDescription(o);let s=await this._pc.createAnswer();const c=i.parse(s.sdp),l=c.media.find(e=>String(e.mid)===r);a.applyCodecParameters({offerRtpParameters:n,answerMediaObject:l}),s={type:"answer",sdp:i.write(c)},this._transportReady||await this._setupTransport({localDtlsRole:"client",localSdpObject:c}),u.debug("receive() | calling pc.setLocalDescription() [answer:%o]",s),await this._pc.setLocalDescription(s);const h=this._pc.getTransceivers().find(e=>e.mid===r);if(!h)throw new Error("new RTCRtpTransceiver not found");return this._mapMidTransceiver.set(r,h),{localId:r,track:h.receiver.track,rtpReceiver:h.receiver}}async stopReceiving(e){this._assertRecvDirection(),u.debug("stopReceiving() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(t.mid);const n={type:"offer",sdp:this._remoteSdp.getSdp()};u.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const i=await this._pc.createAnswer();u.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i)}async getReceiverStats(e){this._assertRecvDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:e,label:t,protocol:n}){this._assertRecvDirection();const{streamId:r,ordered:o,maxPacketLifeTime:s,maxRetransmits:a}=e,c={negotiated:!0,id:r,ordered:o,maxPacketLifeTime:s,maxRetransmitTime:s,maxRetransmits:a,protocol:n};u.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(t,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const e={type:"offer",sdp:this._remoteSdp.getSdp()};u.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=i.parse(t.sdp);await this._setupTransport({localDtlsRole:"client",localSdpObject:e})}u.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async _setupTransport({localDtlsRole:e,localSdpObject:t}){t||(t=i.parse(this._pc.localDescription.sdp));const n=a.extractDtlsParameters({sdpObject:t});n.role=e,this._remoteSdp.updateDtlsRole("client"===e?"server":"client"),await this.safeEmitAsPromise("@connect",{dtlsParameters:n}),this._transportReady=!0}_assertSendDirection(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}_assertRecvDirection(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}t.Chrome70=f},Uli8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("7h/2"),r=n("GygU"),o=n("nAs4"),s=new i.Logger("DataProducer");t.DataProducer=class extends r.EnhancedEventEmitter{constructor({id:e,dataChannel:t,sctpStreamParameters:n,appData:i}){super(),this._closed=!1,s.debug("constructor()"),this._id=e,this._dataChannel=t,this._sctpStreamParameters=n,this._appData=i,this._handleDataChannel()}get id(){return this._id}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get bufferedAmount(){return this._dataChannel.bufferedAmount}get bufferedAmountLowThreshold(){return this._dataChannel.bufferedAmountLowThreshold}set bufferedAmountLowThreshold(e){this._dataChannel.bufferedAmountLowThreshold=e}get appData(){return this._appData}set appData(e){throw new Error("cannot override appData object")}close(){this._closed||(s.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"))}transportClosed(){this._closed||(s.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"))}send(e){if(s.debug("send()"),this._closed)throw new o.InvalidStateError("closed");this._dataChannel.send(e)}_handleDataChannel(){this._dataChannel.addEventListener("open",()=>{this._closed||(s.debug('DataChannel "open" event'),this.safeEmit("open"))}),this._dataChannel.addEventListener("error",e=>{if(this._closed)return;let{error:t}=e;t||(t=new Error("unknown DataChannel error")),"sctp-failure"===t.errorDetail?s.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",t.sctpCauseCode,t.message):s.error('DataChannel "error" event: %o',t),this.safeEmit("error",t)}),this._dataChannel.addEventListener("close",()=>{this._closed||(s.warn('DataChannel "close" event'),this._closed=!0,this.emit("@close"),this.safeEmit("close"))}),this._dataChannel.addEventListener("message",()=>{this._closed||s.warn('DataChannel "message" event in a DataProducer, message discarded')}),this._dataChannel.addEventListener("bufferedamountlow",()=>{this._closed||this.safeEmit("bufferedamountlow")})}}},UloB:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("4Eqw"),r=n("7h/2"),o=n("GygU"),s=n("nAs4"),a=n("8xwj"),c=n("/rqz"),l=n("AZE+"),h=n("sZ75"),d=n("Uli8"),u=n("hUSI"),p=new r.Logger("Transport");t.Transport=class extends o.EnhancedEventEmitter{constructor({direction:e,id:t,iceParameters:n,iceCandidates:r,dtlsParameters:o,sctpParameters:c,iceServers:l,iceTransportPolicy:h,additionalSettings:d,proprietaryConstraints:u,appData:f,handlerFactory:m,extendedRtpCapabilities:g,canProduceByKind:v}){super(),this._closed=!1,this._connectionState="new",this._producers=new Map,this._consumers=new Map,this._dataProducers=new Map,this._dataConsumers=new Map,this._probatorConsumerCreated=!1,this._awaitQueue=new i.AwaitQueue({ClosedErrorClass:s.InvalidStateError}),p.debug("constructor() [id:%s, direction:%s]",t,e),this._id=t,this._direction=e,this._extendedRtpCapabilities=g,this._canProduceByKind=v,this._maxSctpMessageSize=c?c.maxMessageSize:null,delete(d=a.clone(d)).iceServers,delete d.iceTransportPolicy,delete d.bundlePolicy,delete d.rtcpMuxPolicy,delete d.sdpSemantics,this._handler=m(),this._handler.run({direction:e,iceParameters:n,iceCandidates:r,dtlsParameters:o,sctpParameters:c,iceServers:l,iceTransportPolicy:h,additionalSettings:d,proprietaryConstraints:u,extendedRtpCapabilities:g}),this._appData=f,this._handleHandler()}get id(){return this._id}get closed(){return this._closed}get direction(){return this._direction}get handler(){return this._handler}get connectionState(){return this._connectionState}get appData(){return this._appData}set appData(e){throw new Error("cannot override appData object")}close(){if(!this._closed){p.debug("close()"),this._closed=!0,this._awaitQueue.close(),this._handler.close();for(const e of this._producers.values())e.transportClosed();this._producers.clear();for(const e of this._consumers.values())e.transportClosed();this._consumers.clear();for(const e of this._dataProducers.values())e.transportClosed();this._dataProducers.clear();for(const e of this._dataConsumers.values())e.transportClosed();this._dataConsumers.clear()}}async getStats(){if(this._closed)throw new s.InvalidStateError("closed");return this._handler.getTransportStats()}async restartIce({iceParameters:e}){if(p.debug("restartIce()"),this._closed)throw new s.InvalidStateError("closed");if(!e)throw new TypeError("missing iceParameters");return this._awaitQueue.push(async()=>this._handler.restartIce(e))}async updateIceServers({iceServers:e}={}){if(p.debug("updateIceServers()"),this._closed)throw new s.InvalidStateError("closed");if(!Array.isArray(e))throw new TypeError("missing iceServers");return this._awaitQueue.push(async()=>this._handler.updateIceServers(e))}async produce({track:e,encodings:t,codecOptions:n,codec:i,stopTracks:r=!0,disableTrackOnPause:o=!0,zeroRtpOnPause:a=!1,appData:h={}}={}){if(p.debug("produce() [track:%o]",e),!e)throw new TypeError("missing track");if("send"!==this._direction)throw new s.UnsupportedError("not a sending Transport");if(!this._canProduceByKind[e.kind])throw new s.UnsupportedError("cannot produce "+e.kind);if("ended"===e.readyState)throw new s.InvalidStateError("track ended");if(0===this.listenerCount("connect")&&"new"===this._connectionState)throw new TypeError('no "connect" listener set into this transport');if(0===this.listenerCount("produce"))throw new TypeError('no "produce" listener set into this transport');if(h&&"object"!=typeof h)throw new TypeError("if given, appData must be an object");return this._awaitQueue.push(async()=>{let s;if(t&&!Array.isArray(t))throw TypeError("encodings must be an array");t&&0===t.length?s=void 0:t&&(s=t.map(e=>{const t={active:!0};return!1===e.active&&(t.active=!1),"boolean"==typeof e.dtx&&(t.dtx=e.dtx),"string"==typeof e.scalabilityMode&&(t.scalabilityMode=e.scalabilityMode),"number"==typeof e.scaleResolutionDownBy&&(t.scaleResolutionDownBy=e.scaleResolutionDownBy),"number"==typeof e.maxBitrate&&(t.maxBitrate=e.maxBitrate),"number"==typeof e.maxFramerate&&(t.maxFramerate=e.maxFramerate),"boolean"==typeof e.adaptivePtime&&(t.adaptivePtime=e.adaptivePtime),"string"==typeof e.priority&&(t.priority=e.priority),"string"==typeof e.networkPriority&&(t.networkPriority=e.networkPriority),t}));const{localId:d,rtpParameters:u,rtpSender:p}=await this._handler.send({track:e,encodings:s,codecOptions:n,codec:i});try{c.validateRtpParameters(u);const{id:t}=await this.safeEmitAsPromise("produce",{kind:e.kind,rtpParameters:u,appData:h}),n=new l.Producer({id:t,localId:d,rtpSender:p,track:e,rtpParameters:u,stopTracks:r,disableTrackOnPause:o,zeroRtpOnPause:a,appData:h});return this._producers.set(n.id,n),this._handleProducer(n),n}catch(f){throw this._handler.stopSending(d).catch(()=>{}),f}}).catch(t=>{if(r)try{e.stop()}catch(n){}throw t})}async consume({id:e,producerId:t,kind:n,rtpParameters:i,appData:r={}}){if(p.debug("consume()"),this._closed)throw new s.InvalidStateError("closed");if("recv"!==this._direction)throw new s.UnsupportedError("not a receiving Transport");if("string"!=typeof e)throw new TypeError("missing id");if("string"!=typeof t)throw new TypeError("missing producerId");if("audio"!==n&&"video"!==n)throw new TypeError(`invalid kind '${n}'`);if(0===this.listenerCount("connect")&&"new"===this._connectionState)throw new TypeError('no "connect" listener set into this transport');if(r&&"object"!=typeof r)throw new TypeError("if given, appData must be an object");return this._awaitQueue.push(async()=>{if(!c.canReceive(i,this._extendedRtpCapabilities))throw new s.UnsupportedError("cannot consume this Producer");const{localId:o,rtpReceiver:a,track:l}=await this._handler.receive({trackId:e,kind:n,rtpParameters:i}),d=new h.Consumer({id:e,localId:o,producerId:t,rtpReceiver:a,track:l,rtpParameters:i,appData:r});if(this._consumers.set(d.id,d),this._handleConsumer(d),!this._probatorConsumerCreated&&"video"===n)try{const e=c.generateProbatorRtpParameters(d.rtpParameters);await this._handler.receive({trackId:"probator",kind:"video",rtpParameters:e}),p.debug("consume() | Consumer for RTP probation created"),this._probatorConsumerCreated=!0}catch(u){p.error("consume() | failed to create Consumer for RTP probation:%o",u)}return d})}async produceData({ordered:e=!0,maxPacketLifeTime:t,maxRetransmits:n,priority:i="low",label:r="",protocol:o="",appData:a={}}={}){if(p.debug("produceData()"),"send"!==this._direction)throw new s.UnsupportedError("not a sending Transport");if(!this._maxSctpMessageSize)throw new s.UnsupportedError("SCTP not enabled by remote Transport");if(!["very-low","low","medium","high"].includes(i))throw new TypeError("wrong priority");if(0===this.listenerCount("connect")&&"new"===this._connectionState)throw new TypeError('no "connect" listener set into this transport');if(0===this.listenerCount("producedata"))throw new TypeError('no "producedata" listener set into this transport');if(a&&"object"!=typeof a)throw new TypeError("if given, appData must be an object");return(t||n)&&(e=!1),this._awaitQueue.push(async()=>{const{dataChannel:s,sctpStreamParameters:l}=await this._handler.sendDataChannel({ordered:e,maxPacketLifeTime:t,maxRetransmits:n,priority:i,label:r,protocol:o});c.validateSctpStreamParameters(l);const{id:h}=await this.safeEmitAsPromise("producedata",{sctpStreamParameters:l,label:r,protocol:o,appData:a}),u=new d.DataProducer({id:h,dataChannel:s,sctpStreamParameters:l,appData:a});return this._dataProducers.set(u.id,u),this._handleDataProducer(u),u})}async consumeData({id:e,dataProducerId:t,sctpStreamParameters:n,label:i="",protocol:r="",appData:o={}}){if(p.debug("consumeData()"),this._closed)throw new s.InvalidStateError("closed");if("recv"!==this._direction)throw new s.UnsupportedError("not a receiving Transport");if(!this._maxSctpMessageSize)throw new s.UnsupportedError("SCTP not enabled by remote Transport");if("string"!=typeof e)throw new TypeError("missing id");if("string"!=typeof t)throw new TypeError("missing dataProducerId");if(0===this.listenerCount("connect")&&"new"===this._connectionState)throw new TypeError('no "connect" listener set into this transport');if(o&&"object"!=typeof o)throw new TypeError("if given, appData must be an object");return c.validateSctpStreamParameters(n),this._awaitQueue.push(async()=>{const{dataChannel:s}=await this._handler.receiveDataChannel({sctpStreamParameters:n,label:i,protocol:r}),a=new u.DataConsumer({id:e,dataProducerId:t,dataChannel:s,sctpStreamParameters:n,appData:o});return this._dataConsumers.set(a.id,a),this._handleDataConsumer(a),a})}_handleHandler(){const e=this._handler;e.on("@connect",({dtlsParameters:e},t,n)=>{this._closed?n(new s.InvalidStateError("closed")):this.safeEmit("connect",{dtlsParameters:e},t,n)}),e.on("@connectionstatechange",e=>{e!==this._connectionState&&(p.debug("connection state changed to %s",e),this._connectionState=e,this._closed||this.safeEmit("connectionstatechange",e))})}_handleProducer(e){e.on("@close",()=>{this._producers.delete(e.id),this._closed||this._awaitQueue.push(async()=>this._handler.stopSending(e.localId)).catch(e=>p.warn("producer.close() failed:%o",e))}),e.on("@replacetrack",(t,n,i)=>{this._awaitQueue.push(async()=>this._handler.replaceTrack(e.localId,t)).then(n).catch(i)}),e.on("@setmaxspatiallayer",(t,n,i)=>{this._awaitQueue.push(async()=>this._handler.setMaxSpatialLayer(e.localId,t)).then(n).catch(i)}),e.on("@setrtpencodingparameters",(t,n,i)=>{this._awaitQueue.push(async()=>this._handler.setRtpEncodingParameters(e.localId,t)).then(n).catch(i)}),e.on("@getstats",(t,n)=>{if(this._closed)return n(new s.InvalidStateError("closed"));this._handler.getSenderStats(e.localId).then(t).catch(n)})}_handleConsumer(e){e.on("@close",()=>{this._consumers.delete(e.id),this._closed||this._awaitQueue.push(async()=>this._handler.stopReceiving(e.localId)).catch(()=>{})}),e.on("@getstats",(t,n)=>{if(this._closed)return n(new s.InvalidStateError("closed"));this._handler.getReceiverStats(e.localId).then(t).catch(n)})}_handleDataProducer(e){e.on("@close",()=>{this._dataProducers.delete(e.id)})}_handleDataConsumer(e){e.on("@close",()=>{this._dataConsumers.delete(e.id)})}}},Uwu7:function(e,t,n){var i=n("0KJs")("socket.io-parser"),r=n("2xqC"),o=n("Njrz"),s=n("luTP"),a=n("qGlh");function c(){}t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=c,t.Decoder=d;var l=t.ERROR+'"encode error"';function h(e){var n=""+e.type;if(t.BINARY_EVENT!==e.type&&t.BINARY_ACK!==e.type||(n+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(n+=e.nsp+","),null!=e.id&&(n+=e.id),null!=e.data){var r=function(e){try{return JSON.stringify(e)}catch(t){return!1}}(e.data);if(!1===r)return l;n+=r}return i("encoded %j as %s",e,n),n}function d(){this.reconstructor=null}function u(e){this.reconPack=e,this.buffers=[]}function p(e){return{type:t.ERROR,data:"parser error: "+e}}c.prototype.encode=function(e,n){i("encoding packet %j",e),t.BINARY_EVENT===e.type||t.BINARY_ACK===e.type?function(e,t){o.removeBlobs(e,function(e){var n=o.deconstructPacket(e),i=h(n.packet),r=n.buffers;r.unshift(i),t(r)})}(e,n):n([h(e)])},r(d.prototype),d.prototype.add=function(e){var n;if("string"==typeof e)n=function(e){var n=0,r={type:Number(e.charAt(0))};if(null==t.types[r.type])return p("unknown packet type "+r.type);if(t.BINARY_EVENT===r.type||t.BINARY_ACK===r.type){for(var o="";"-"!==e.charAt(++n)&&(o+=e.charAt(n),n!=e.length););if(o!=Number(o)||"-"!==e.charAt(n))throw new Error("Illegal attachments");r.attachments=Number(o)}if("/"===e.charAt(n+1))for(r.nsp="";++n&&","!==(c=e.charAt(n))&&(r.nsp+=c,n!==e.length););else r.nsp="/";var a=e.charAt(n+1);if(""!==a&&Number(a)==a){for(r.id="";++n;){var c;if(null==(c=e.charAt(n))||Number(c)!=c){--n;break}if(r.id+=e.charAt(n),n===e.length)break}r.id=Number(r.id)}if(e.charAt(++n)){var l=function(e){try{return JSON.parse(e)}catch(t){return!1}}(e.substr(n));if(!1===l||r.type!==t.ERROR&&!s(l))return p("invalid payload");r.data=l}return i("decoded %s as %j",e,r),r}(e),t.BINARY_EVENT===n.type||t.BINARY_ACK===n.type?(this.reconstructor=new u(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!a(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",n))}},d.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},u.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=o.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},u.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},Uxeu:function(e,t){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,i=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var t=e,r=e.indexOf("["),o=e.indexOf("]");-1!=r&&-1!=o&&(e=e.substring(0,r)+e.substring(r,o).replace(/:/g,";")+e.substring(o,e.length));for(var s=n.exec(e||""),a={},c=14;c--;)a[i[c]]=s[c]||"";return-1!=r&&-1!=o&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},WLGk:function(e,t,n){var i=n("luTP"),r=Object.prototype.toString,o="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===r.call(Blob),s="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===r.call(File);e.exports=function e(t){if(!t||"object"!=typeof t)return!1;if(i(t)){for(var n=0,r=t.length;n<r;n++)if(e(t[n]))return!0;return!1}if("function"==typeof Buffer&&Buffer.isBuffer&&Buffer.isBuffer(t)||"function"==typeof ArrayBuffer&&t instanceof ArrayBuffer||o&&t instanceof Blob||s&&t instanceof File)return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return e(t.toJSON(),!0);for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)&&e(t[a]))return!0;return!1}},Wm4p:function(e,t,n){var i,r=n("dkv/"),o=n("WLGk"),s=n("ypnn"),a=n("zMFY"),c=n("oIG/");"undefined"!=typeof ArrayBuffer&&(i=n("g5Dd"));var l="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),h="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),d=l||h;t.protocol=3;var u=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},p=r(u),f={type:"error",data:"parser error"},m=n("14A5");function g(e,t,n){for(var i=new Array(e.length),r=a(e.length,n),o=function(e,n,r){t(n,function(t,n){i[e]=n,r(t,i)})},s=0;s<e.length;s++)o(s,e[s],r)}t.encodePacket=function(e,n,i,r){"function"==typeof n&&(r=n,n=!1),"function"==typeof i&&(r=i,i=null);var o=void 0===e.data?void 0:e.data.buffer||e.data;if("undefined"!=typeof ArrayBuffer&&o instanceof ArrayBuffer)return function(e,n,i){if(!n)return t.encodeBase64Packet(e,i);var r=e.data,o=new Uint8Array(r),s=new Uint8Array(1+r.byteLength);s[0]=u[e.type];for(var a=0;a<o.length;a++)s[a+1]=o[a];return i(s.buffer)}(e,n,r);if(void 0!==m&&o instanceof m)return function(e,n,i){if(!n)return t.encodeBase64Packet(e,i);if(d)return function(e,n,i){if(!n)return t.encodeBase64Packet(e,i);var r=new FileReader;return r.onload=function(){t.encodePacket({type:e.type,data:r.result},n,!0,i)},r.readAsArrayBuffer(e.data)}(e,n,i);var r=new Uint8Array(1);return r[0]=u[e.type],i(new m([r.buffer,e.data]))}(e,n,r);if(o&&o.base64)return function(e,n){return n("b"+t.packets[e.type]+e.data.data)}(e,r);var s=u[e.type];return void 0!==e.data&&(s+=i?c.encode(String(e.data),{strict:!1}):String(e.data)),r(""+s)},t.encodeBase64Packet=function(e,n){var i,r="b"+t.packets[e.type];if(void 0!==m&&e.data instanceof m){var o=new FileReader;return o.onload=function(){var e=o.result.split(",")[1];n(r+e)},o.readAsDataURL(e.data)}try{i=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(l){for(var s=new Uint8Array(e.data),a=new Array(s.length),c=0;c<s.length;c++)a[c]=s[c];i=String.fromCharCode.apply(null,a)}return r+=btoa(i),n(r)},t.decodePacket=function(e,n,i){if(void 0===e)return f;if("string"==typeof e){if("b"===e.charAt(0))return t.decodeBase64Packet(e.substr(1),n);if(i&&!1===(e=function(e){try{e=c.decode(e,{strict:!1})}catch(t){return!1}return e}(e)))return f;var r=e.charAt(0);return Number(r)==r&&p[r]?e.length>1?{type:p[r],data:e.substring(1)}:{type:p[r]}:f}r=new Uint8Array(e)[0];var o=s(e,1);return m&&"blob"===n&&(o=new m([o])),{type:p[r],data:o}},t.decodeBase64Packet=function(e,t){var n=p[e.charAt(0)];if(!i)return{type:n,data:{base64:!0,data:e.substr(1)}};var r=i.decode(e.substr(1));return"blob"===t&&m&&(r=new m([r])),{type:n,data:r}},t.encodePayload=function(e,n,i){"function"==typeof n&&(i=n,n=null);var r=o(e);return n&&r?m&&!d?t.encodePayloadAsBlob(e,i):t.encodePayloadAsArrayBuffer(e,i):e.length?void g(e,function(e,i){t.encodePacket(e,!!r&&n,!1,function(e){i(null,function(e){return e.length+":"+e}(e))})},function(e,t){return i(t.join(""))}):i("0:")},t.decodePayload=function(e,n,i){if("string"!=typeof e)return t.decodePayloadAsBinary(e,n,i);var r;if("function"==typeof n&&(i=n,n=null),""===e)return i(f,0,1);for(var o,s,a="",c=0,l=e.length;c<l;c++){var h=e.charAt(c);if(":"===h){if(""===a||a!=(o=Number(a)))return i(f,0,1);if(a!=(s=e.substr(c+1,o)).length)return i(f,0,1);if(s.length){if(r=t.decodePacket(s,n,!1),f.type===r.type&&f.data===r.data)return i(f,0,1);if(!1===i(r,c+o,l))return}c+=o,a=""}else a+=h}return""!==a?i(f,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,n){if(!e.length)return n(new ArrayBuffer(0));g(e,function(e,n){t.encodePacket(e,!0,!0,function(e){return n(null,e)})},function(e,t){var i=t.reduce(function(e,t){var n;return e+(n="string"==typeof t?t.length:t.byteLength).toString().length+n+2},0),r=new Uint8Array(i),o=0;return t.forEach(function(e){var t="string"==typeof e,n=e;if(t){for(var i=new Uint8Array(e.length),s=0;s<e.length;s++)i[s]=e.charCodeAt(s);n=i.buffer}r[o++]=t?0:1;var a=n.byteLength.toString();for(s=0;s<a.length;s++)r[o++]=parseInt(a[s]);for(r[o++]=255,i=new Uint8Array(n),s=0;s<i.length;s++)r[o++]=i[s]}),n(r.buffer)})},t.encodePayloadAsBlob=function(e,n){g(e,function(e,n){t.encodePacket(e,!0,!0,function(e){var t=new Uint8Array(1);if(t[0]=1,"string"==typeof e){for(var i=new Uint8Array(e.length),r=0;r<e.length;r++)i[r]=e.charCodeAt(r);e=i.buffer,t[0]=0}var o=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),s=new Uint8Array(o.length+1);for(r=0;r<o.length;r++)s[r]=parseInt(o[r]);if(s[o.length]=255,m){var a=new m([t.buffer,s.buffer,e]);n(null,a)}})},function(e,t){return n(new m(t))})},t.decodePayloadAsBinary=function(e,n,i){"function"==typeof n&&(i=n,n=null);for(var r=e,o=[];r.byteLength>0;){for(var a=new Uint8Array(r),c=0===a[0],l="",h=1;255!==a[h];h++){if(l.length>310)return i(f,0,1);l+=a[h]}r=s(r,2+l.length),l=parseInt(l);var d=s(r,0,l);if(c)try{d=String.fromCharCode.apply(null,new Uint8Array(d))}catch(m){var u=new Uint8Array(d);for(d="",h=0;h<u.length;h++)d+=String.fromCharCode(u[h])}o.push(d),r=s(r,l)}var p=o.length;o.forEach(function(e,r){i(t.decodePacket(e,n,!0),r,p)})}},XuI1:function(e,t){var n=1e3,i=60*n,r=60*i,o=24*r;function s(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var a,c=typeof e;if("string"===c&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*r;case"minutes":case"minute":case"mins":case"min":case"m":return s*i;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(e);if("number"===c&&!1===isNaN(e))return t.long?s(a=e,o,"day")||s(a,r,"hour")||s(a,i,"minute")||s(a,n,"second")||a+" ms":function(e){return e>=o?Math.round(e/o)+"d":e>=r?Math.round(e/r)+"h":e>=i?Math.round(e/i)+"m":e>=n?Math.round(e/n)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},Yvos:function(e,t){e.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},YwPy:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("k76L");t.extractRtpCapabilities=function({sdpObject:e}){const t=new Map,n=[];let r=!1,o=!1;for(const s of e.media){const e=s.type;switch(e){case"audio":if(r)continue;r=!0;break;case"video":if(o)continue;o=!0;break;default:continue}for(const n of s.rtp){const i={kind:e,mimeType:`${e}/${n.codec}`,preferredPayloadType:n.payload,clockRate:n.rate,channels:n.encoding,parameters:{},rtcpFeedback:[]};t.set(i.preferredPayloadType,i)}for(const n of s.fmtp||[]){const e=i.parseParams(n.config),r=t.get(n.payload);r&&(e&&e["profile-level-id"]&&(e["profile-level-id"]=String(e["profile-level-id"])),r.parameters=e)}for(const n of s.rtcpFb||[]){const e=t.get(n.payload);if(!e)continue;const i={type:n.type,parameter:n.subtype};i.parameter||delete i.parameter,e.rtcpFeedback.push(i)}for(const t of s.ext||[])t["encrypt-uri"]||n.push({kind:e,uri:t.uri,preferredId:t.value})}return{codecs:Array.from(t.values()),headerExtensions:n}},t.extractDtlsParameters=function({sdpObject:e}){const t=(e.media||[]).find(e=>e.iceUfrag&&0!==e.port);if(!t)throw new Error("no active media section found");const n=t.fingerprint||e.fingerprint;let i;switch(t.setup){case"active":i="client";break;case"passive":i="server";break;case"actpass":i="auto"}return{role:i,fingerprints:[{algorithm:n.type,value:n.hash}]}},t.getCname=function({offerMediaObject:e}){const t=(e.ssrcs||[]).find(e=>"cname"===e.attribute);return t?t.value:""},t.applyCodecParameters=function({offerRtpParameters:e,answerMediaObject:t}){for(const n of e.codecs){const e=n.mimeType.toLowerCase();if("audio/opus"!==e)continue;if(!(t.rtp||[]).find(e=>e.payload===n.payloadType))continue;t.fmtp=t.fmtp||[];let r=t.fmtp.find(e=>e.payload===n.payloadType);r||(r={payload:n.payloadType,config:""},t.fmtp.push(r));const o=i.parseParams(r.config);switch(e){case"audio/opus":{const e=n.parameters["sprop-stereo"];void 0!==e&&(o.stereo=e?1:0);break}}r.config="";for(const t of Object.keys(o))r.config&&(r.config+=";"),r.config+=`${t}=${o[t]}`}}},akSB:function(e,t,n){var i=n("AdPF"),r=n("0z79"),o=n("Cl5A"),s=n("CIKq");t.polling=function(e){var t=!1,n=!1,s=!1!==e.jsonp;if("undefined"!=typeof location){var a="https:"===location.protocol,c=location.port;c||(c=a?443:80),t=e.hostname!==location.hostname||c!==e.port,n=e.secure!==a}if(e.xdomain=t,e.xscheme=n,"open"in new i(e)&&!e.forceJSONP)return new r(e);if(!s)throw new Error("JSONP disabled");return new o(e)},t.websocket=s},cpc2:function(e,t,n){function i(e){if(e)return function(e){for(var t in i.prototype)e[t]=i.prototype[t];return e}(e)}e.exports=i,i.prototype.on=i.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},i.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,i=this._callbacks["$"+e];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r=0;r<i.length;r++)if((n=i[r])===t||n.fn===t){i.splice(r,1);break}return 0===i.length&&delete this._callbacks["$"+e],this},i.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(n){i=0;for(var r=(n=n.slice(0)).length;i<r;++i)n[i].apply(this,t)}return this},i.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},i.prototype.hasListeners=function(e){return!!this.listeners(e).length}},"dkv/":function(e,t){e.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var i in e)n.call(e,i)&&t.push(i);return t}},eOtv:function(e,t,n){var i=n("lKxJ"),r=n("KFGy"),o=n("2xqC"),s=n("Uwu7"),a=n("2Dig"),c=n("QN7Q"),l=n("x7D4")("socket.io-client:manager"),h=n("7jRU"),d=n("C2QD"),u=Object.prototype.hasOwnProperty;function p(e,t){if(!(this instanceof p))return new p(e,t);e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new d({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=t.parser||s;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}e.exports=p,p.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)u.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},p.prototype.updateSocketIds=function(){for(var e in this.nsps)u.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},p.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},o(p.prototype),p.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},p.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},p.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},p.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},p.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},p.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},p.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},p.prototype.open=p.prototype.connect=function(e,t){if(l("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;l("opening %s",this.uri),this.engine=i(this.uri,this.opts);var n=this.engine,r=this;this.readyState="opening",this.skipReconnect=!1;var o=a(n,"open",function(){r.onopen(),e&&e()}),s=a(n,"error",function(t){if(l("connect_error"),r.cleanup(),r.readyState="closed",r.emitAll("connect_error",t),e){var n=new Error("Connection error");n.data=t,e(n)}else r.maybeReconnectOnOpen()});if(!1!==this._timeout){var c=this._timeout;l("connect attempt will timeout after %d",c);var h=setTimeout(function(){l("connect attempt timed out after %d",c),o.destroy(),n.close(),n.emit("error","timeout"),r.emitAll("connect_timeout",c)},c);this.subs.push({destroy:function(){clearTimeout(h)}})}return this.subs.push(o),this.subs.push(s),this},p.prototype.onopen=function(){l("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(a(e,"data",c(this,"ondata"))),this.subs.push(a(e,"ping",c(this,"onping"))),this.subs.push(a(e,"pong",c(this,"onpong"))),this.subs.push(a(e,"error",c(this,"onerror"))),this.subs.push(a(e,"close",c(this,"onclose"))),this.subs.push(a(this.decoder,"decoded",c(this,"ondecoded")))},p.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},p.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},p.prototype.ondata=function(e){this.decoder.add(e)},p.prototype.ondecoded=function(e){this.emit("packet",e)},p.prototype.onerror=function(e){l("error",e),this.emitAll("error",e)},p.prototype.socket=function(e,t){var n=this.nsps[e];if(!n){n=new r(this,e,t),this.nsps[e]=n;var i=this;n.on("connecting",o),n.on("connect",function(){n.id=i.generateId(e)}),this.autoConnect&&o()}function o(){~h(i.connecting,n)||i.connecting.push(n)}return n},p.prototype.destroy=function(e){var t=h(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},p.prototype.packet=function(e){l("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(n){for(var i=0;i<n.length;i++)t.engine.write(n[i],e.options);t.encoding=!1,t.processPacketQueue()}))},p.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},p.prototype.cleanup=function(){l("cleanup");for(var e=this.subs.length,t=0;t<e;t++)this.subs.shift().destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},p.prototype.close=p.prototype.disconnect=function(){l("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},p.prototype.onclose=function(e){l("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},p.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)l("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();l("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout(function(){e.skipReconnect||(l("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open(function(t){t?(l("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(l("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(n)}})}},p.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},g5Dd:function(e,t){!function(){"use strict";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),i=0;i<e.length;i++)n[e.charCodeAt(i)]=i;t.encode=function(t){var n,i=new Uint8Array(t),r=i.length,o="";for(n=0;n<r;n+=3)o+=e[i[n]>>2],o+=e[(3&i[n])<<4|i[n+1]>>4],o+=e[(15&i[n+1])<<2|i[n+2]>>6],o+=e[63&i[n+2]];return r%3==2?o=o.substring(0,o.length-1)+"=":r%3==1&&(o=o.substring(0,o.length-2)+"=="),o},t.decode=function(e){var t,i,r,o,s,a=.75*e.length,c=e.length,l=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var h=new ArrayBuffer(a),d=new Uint8Array(h);for(t=0;t<c;t+=4)i=n[e.charCodeAt(t)],r=n[e.charCodeAt(t+1)],o=n[e.charCodeAt(t+2)],s=n[e.charCodeAt(t+3)],d[l++]=i<<2|r>>4,d[l++]=(15&r)<<4|o>>2,d[l++]=(3&o)<<6|63&s;return h}}()},gEDQ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=new RegExp("^[LS]([1-9]\\d{0,1})T([1-9]\\d{0,1})");t.parse=function(e){const t=i.exec(e||"");return t?{spatialLayers:Number(t[1]),temporalLayers:Number(t[2])}:{spatialLayers:1,temporalLayers:1}}},gFX4:function(e,t,n){var i=n("zJ60"),r=n("Uwu7"),o=n("eOtv"),s=n("x7D4")("socket.io-client");e.exports=t=c;var a=t.managers={};function c(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,r=i(e),c=r.source,l=r.id;return t.forceNew||t["force new connection"]||!1===t.multiplex||a[l]&&r.path in a[l].nsps?(s("ignoring socket cache for %s",c),n=o(c,t)):(a[l]||(s("new io instance for %s",c),a[l]=o(c,t)),n=a[l]),r.query&&!t.query&&(t.query=r.query),n.socket(r.path,t)}t.protocol=r.protocol,t.connect=c,t.Manager=n("eOtv"),t.Socket=n("KFGy")},hUSI:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("7h/2"),r=n("GygU"),o=new i.Logger("DataConsumer");t.DataConsumer=class extends r.EnhancedEventEmitter{constructor({id:e,dataProducerId:t,dataChannel:n,sctpStreamParameters:i,appData:r}){super(),this._closed=!1,o.debug("constructor()"),this._id=e,this._dataProducerId=t,this._dataChannel=n,this._sctpStreamParameters=i,this._appData=r,this._handleDataChannel()}get id(){return this._id}get dataProducerId(){return this._dataProducerId}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get binaryType(){return this._dataChannel.binaryType}set binaryType(e){this._dataChannel.binaryType=e}get appData(){return this._appData}set appData(e){throw new Error("cannot override appData object")}close(){this._closed||(o.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"))}transportClosed(){this._closed||(o.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"))}_handleDataChannel(){this._dataChannel.addEventListener("open",()=>{this._closed||(o.debug('DataChannel "open" event'),this.safeEmit("open"))}),this._dataChannel.addEventListener("error",e=>{if(this._closed)return;let{error:t}=e;t||(t=new Error("unknown DataChannel error")),"sctp-failure"===t.errorDetail?o.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",t.sctpCauseCode,t.message):o.error('DataChannel "error" event: %o',t),this.safeEmit("error",t)}),this._dataChannel.addEventListener("close",()=>{this._closed||(o.warn('DataChannel "close" event'),this._closed=!0,this.emit("@close"),this.safeEmit("close"))}),this._dataChannel.addEventListener("message",e=>{this._closed||this.safeEmit("message",e.data)})}}},iHzg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRtpEncodings=function({offerMediaObject:e}){const t=new Set;for(const r of e.ssrcs||[])t.add(r.id);if(0===t.size)throw new Error("no a=ssrc lines found");const n=new Map;for(const r of e.ssrcGroups||[]){if("FID"!==r.semantics)continue;let[e,i]=r.ssrcs.split(/\s+/);e=Number(e),i=Number(i),t.has(e)&&(t.delete(e),t.delete(i),n.set(e,i))}for(const r of t)n.set(r,null);const i=[];for(const[r,o]of n){const e={ssrc:r};o&&(e.rtx={ssrc:o}),i.push(e)}return i},t.addLegacySimulcast=function({offerMediaObject:e,numStreams:t}){if(t<=1)throw new TypeError("numStreams must be greater than 1");const n=(e.ssrcs||[]).find(e=>"msid"===e.attribute);if(!n)throw new Error("a=ssrc line with msid information not found");const[i,r]=n.value.split(" ")[0],o=n.id;let s;(e.ssrcGroups||[]).some(e=>{if("FID"!==e.semantics)return!1;const t=e.ssrcs.split(/\s+/);return Number(t[0])===o&&(s=Number(t[1]),!0)});const a=e.ssrcs.find(e=>"cname"===e.attribute);if(!a)throw new Error("a=ssrc line with cname information not found");const c=a.value,l=[],h=[];for(let d=0;d<t;++d)l.push(o+d),s&&h.push(s+d);e.ssrcGroups=[],e.ssrcs=[],e.ssrcGroups.push({semantics:"SIM",ssrcs:l.join(" ")});for(let d=0;d<l.length;++d){const t=l[d];e.ssrcs.push({id:t,attribute:"cname",value:c}),e.ssrcs.push({id:t,attribute:"msid",value:`${i} ${r}`})}for(let d=0;d<h.length;++d){const t=l[d],n=h[d];e.ssrcs.push({id:n,attribute:"cname",value:c}),e.ssrcs.push({id:n,attribute:"msid",value:`${i} ${r}`}),e.ssrcGroups.push({semantics:"FID",ssrcs:`${t} ${n}`})}}},jZQw:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("k76L"),r=n("7h/2"),o=n("8xwj"),s=n("/rqz"),a=n("YwPy"),c=n("iHzg"),l=n("1z2d"),h=n("Gffd"),d=new r.Logger("Safari12"),u={OS:1024,MIS:1024};class p extends l.HandlerInterface{constructor(){super(),this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}static createFactory(){return()=>new p}get name(){return"Safari12"}close(){if(d.debug("close()"),this._pc)try{this._pc.close()}catch(e){}}async getNativeRtpCapabilities(){d.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"});try{e.addTransceiver("audio"),e.addTransceiver("video");const n=await e.createOffer();try{e.close()}catch(t){}const r=i.parse(n.sdp);return a.extractRtpCapabilities({sdpObject:r})}catch(t){try{e.close()}catch(n){}throw t}}async getNativeSctpCapabilities(){return d.debug("getNativeSctpCapabilities()"),{numStreams:u}}run({direction:e,iceParameters:t,iceCandidates:n,dtlsParameters:i,sctpParameters:r,iceServers:o,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:u}){d.debug("run()"),this._direction=e,this._remoteSdp=new h.RemoteSdp({iceParameters:t,iceCandidates:n,dtlsParameters:i,sctpParameters:r}),this._sendingRtpParametersByKind={audio:s.getSendingRtpParameters("audio",u),video:s.getSendingRtpParameters("video",u)},this._sendingRemoteRtpParametersByKind={audio:s.getSendingRemoteRtpParameters("audio",u),video:s.getSendingRemoteRtpParameters("video",u)},this._pc=new RTCPeerConnection(Object.assign({iceServers:o||[],iceTransportPolicy:a||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"},c),l),this._pc.addEventListener("iceconnectionstatechange",()=>{switch(this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}})}async updateIceServers(e){d.debug("updateIceServers()");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(d.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),this._transportReady)if("send"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});d.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e);const t={type:"answer",sdp:this._remoteSdp.getSdp()};d.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setRemoteDescription(t)}else{const e={type:"offer",sdp:this._remoteSdp.getSdp()};d.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();d.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this._pc.getStats()}async send({track:e,encodings:t,codecOptions:n,codec:r}){this._assertSendDirection(),d.debug("send() [kind:%s, track.id:%s]",e.kind,e.id);const l=o.clone(this._sendingRtpParametersByKind[e.kind]);l.codecs=s.reduceCodecs(l.codecs,r);const h=o.clone(this._sendingRemoteRtpParametersByKind[e.kind]);h.codecs=s.reduceCodecs(h.codecs,r);const u=this._remoteSdp.getNextMediaSectionIdx(),p=this._pc.addTransceiver(e,{direction:"sendonly",streams:[this._sendStream]});let f,m=await this._pc.createOffer(),g=i.parse(m.sdp);this._transportReady||await this._setupTransport({localDtlsRole:"server",localSdpObject:g}),t&&t.length>1&&(d.debug("send() | enabling legacy simulcast"),g=i.parse(m.sdp),f=g.media[u.idx],c.addLegacySimulcast({offerMediaObject:f,numStreams:t.length}),m={type:"offer",sdp:i.write(g)}),d.debug("send() | calling pc.setLocalDescription() [offer:%o]",m),await this._pc.setLocalDescription(m);const v=p.mid;if(l.mid=v,g=i.parse(this._pc.localDescription.sdp),f=g.media[u.idx],l.rtcp.cname=a.getCname({offerMediaObject:f}),l.encodings=c.getRtpEncodings({offerMediaObject:f}),t)for(let i=0;i<l.encodings.length;++i)t[i]&&Object.assign(l.encodings[i],t[i]);if(l.encodings.length>1&&("video/vp8"===l.codecs[0].mimeType.toLowerCase()||"video/h264"===l.codecs[0].mimeType.toLowerCase()))for(const i of l.encodings)i.scalabilityMode="S1T3";this._remoteSdp.send({offerMediaObject:f,reuseMid:u.reuseMid,offerRtpParameters:l,answerRtpParameters:h,codecOptions:n});const y={type:"answer",sdp:this._remoteSdp.getSdp()};return d.debug("send() | calling pc.setRemoteDescription() [answer:%o]",y),await this._pc.setRemoteDescription(y),this._mapMidTransceiver.set(v,p),{localId:v,rtpParameters:l,rtpSender:p.sender}}async stopSending(e){this._assertSendDirection(),d.debug("stopSending() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");t.sender.replaceTrack(null),this._pc.removeTrack(t.sender),this._remoteSdp.closeMediaSection(t.mid);const n=await this._pc.createOffer();d.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const i={type:"answer",sdp:this._remoteSdp.getSdp()};d.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async replaceTrack(e,t){this._assertSendDirection(),t?d.debug("replaceTrack() [localId:%s, track.id:%s]",e,t.id):d.debug("replaceTrack() [localId:%s, no track]",e);const n=this._mapMidTransceiver.get(e);if(!n)throw new Error("associated RTCRtpTransceiver not found");await n.sender.replaceTrack(t)}async setMaxSpatialLayer(e,t){this._assertSendDirection(),d.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,t);const n=this._mapMidTransceiver.get(e);if(!n)throw new Error("associated RTCRtpTransceiver not found");const i=n.sender.getParameters();i.encodings.forEach((e,n)=>{e.active=n<=t}),await n.sender.setParameters(i)}async setRtpEncodingParameters(e,t){this._assertSendDirection(),d.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,t);const n=this._mapMidTransceiver.get(e);if(!n)throw new Error("associated RTCRtpTransceiver not found");const i=n.sender.getParameters();i.encodings.forEach((e,n)=>{i.encodings[n]=Object.assign(Object.assign({},e),t)}),await n.sender.setParameters(i)}async getSenderStats(e){this._assertSendDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.sender.getStats()}async sendDataChannel({ordered:e,maxPacketLifeTime:t,maxRetransmits:n,label:r,protocol:o,priority:s}){this._assertSendDirection();const a={negotiated:!0,id:this._nextSendSctpStreamId,ordered:e,maxPacketLifeTime:t,maxRetransmits:n,protocol:o,priority:s};d.debug("sendDataChannel() [options:%o]",a);const c=this._pc.createDataChannel(r,a);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%u.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=i.parse(e.sdp),n=t.media.find(e=>"application"===e.type);this._transportReady||await this._setupTransport({localDtlsRole:"server",localSdpObject:t}),d.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:n});const r={type:"answer",sdp:this._remoteSdp.getSdp()};d.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:a.id,ordered:a.ordered,maxPacketLifeTime:a.maxPacketLifeTime,maxRetransmits:a.maxRetransmits}}}async receive({trackId:e,kind:t,rtpParameters:n}){this._assertRecvDirection(),d.debug("receive() [trackId:%s, kind:%s]",e,t);const r=n.mid||String(this._mapMidTransceiver.size);this._remoteSdp.receive({mid:r,kind:t,offerRtpParameters:n,streamId:n.rtcp.cname,trackId:e});const o={type:"offer",sdp:this._remoteSdp.getSdp()};d.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",o),await this._pc.setRemoteDescription(o);let s=await this._pc.createAnswer();const c=i.parse(s.sdp),l=c.media.find(e=>String(e.mid)===r);a.applyCodecParameters({offerRtpParameters:n,answerMediaObject:l}),s={type:"answer",sdp:i.write(c)},this._transportReady||await this._setupTransport({localDtlsRole:"client",localSdpObject:c}),d.debug("receive() | calling pc.setLocalDescription() [answer:%o]",s),await this._pc.setLocalDescription(s);const h=this._pc.getTransceivers().find(e=>e.mid===r);if(!h)throw new Error("new RTCRtpTransceiver not found");return this._mapMidTransceiver.set(r,h),{localId:r,track:h.receiver.track,rtpReceiver:h.receiver}}async stopReceiving(e){this._assertRecvDirection(),d.debug("stopReceiving() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(t.mid);const n={type:"offer",sdp:this._remoteSdp.getSdp()};d.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const i=await this._pc.createAnswer();d.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i)}async getReceiverStats(e){this._assertRecvDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:e,label:t,protocol:n}){this._assertRecvDirection();const{streamId:r,ordered:o,maxPacketLifeTime:s,maxRetransmits:a}=e,c={negotiated:!0,id:r,ordered:o,maxPacketLifeTime:s,maxRetransmits:a,protocol:n};d.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(t,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const e={type:"offer",sdp:this._remoteSdp.getSdp()};d.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=i.parse(t.sdp);await this._setupTransport({localDtlsRole:"client",localSdpObject:e})}d.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async _setupTransport({localDtlsRole:e,localSdpObject:t}){t||(t=i.parse(this._pc.localDescription.sdp));const n=a.extractDtlsParameters({sdpObject:t});n.role=e,this._remoteSdp.updateDtlsRole("client"===e?"server":"client"),await this.safeEmitAsPromise("@connect",{dtlsParameters:n}),this._transportReady=!0}_assertSendDirection(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}_assertRecvDirection(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}t.Safari12=p},k76L:function(e,t,n){var i=n("leix"),r=n("8Lyy");t.write=r,t.parse=i.parse,t.parseParams=i.parseParams,t.parseFmtpConfig=i.parseFmtpConfig,t.parsePayloads=i.parsePayloads,t.parseRemoteCandidates=i.parseRemoteCandidates,t.parseImageAttributes=i.parseImageAttributes,t.parseSimulcastStreamList=i.parseSimulcastStreamList},kSER:function(e,t){e.exports=function(e,t){for(var n=[],i=(t=t||0)||0;i<e.length;i++)n[i-t]=e[i];return n}},lKxJ:function(e,t,n){e.exports=n("2pII"),e.exports.parser=n("Wm4p")},leix:function(e,t,n){var i=function(e){return String(Number(e))===e?Number(e):e},r=function(e,t,n){var r=e.name&&e.names;e.push&&!t[e.push]?t[e.push]=[]:r&&!t[e.name]&&(t[e.name]={});var o=e.push?{}:r?t[e.name]:t;!function(e,t,n,r){if(r&&!n)t[r]=i(e[1]);else for(var o=0;o<n.length;o+=1)null!=e[o+1]&&(t[n[o]]=i(e[o+1]))}(n.match(e.reg),o,e.names,e.name),e.push&&t[e.push].push(o)},o=n("O6qx"),s=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(e){var t={},n=[],i=t;return e.split(/(\r\n|\r|\n)/).filter(s).forEach(function(e){var t=e[0],s=e.slice(2);"m"===t&&(n.push({rtp:[],fmtp:[]}),i=n[n.length-1]);for(var a=0;a<(o[t]||[]).length;a+=1){var c=o[t][a];if(c.reg.test(s))return r(c,i,s)}}),t.media=n,t};var a=function(e,t){var n=t.split(/=(.+)/,2);return 2===n.length?e[n[0]]=i(n[1]):1===n.length&&t.length>1&&(e[n[0]]=void 0),e};t.parseParams=function(e){return e.split(/;\s?/).reduce(a,{})},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(e){return e.toString().split(" ").map(Number)},t.parseRemoteCandidates=function(e){for(var t=[],n=e.split(" ").map(i),r=0;r<n.length;r+=3)t.push({component:n[r],ip:n[r+1],port:n[r+2]});return t},t.parseImageAttributes=function(e){return e.split(" ").map(function(e){return e.substring(1,e.length-1).split(",").reduce(a,{})})},t.parseSimulcastStreamList=function(e){return e.split(";").map(function(e){return e.split(",").map(function(e){var t,n=!1;return"~"!==e[0]?t=i(e):(t=i(e.substring(1,e.length)),n=!0),{scid:t,paused:n}})})}},luTP:function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},nAs4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i extends Error{constructor(e){super(e),this.name="UnsupportedError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,i):this.stack=new Error(e).stack}}t.UnsupportedError=i;class r extends Error{constructor(e){super(e),this.name="InvalidStateError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,r):this.stack=new Error(e).stack}}t.InvalidStateError=r},nreB:function(e,t,n){const i=n("NOtv")("h264-profile-level-id");i.log=console.info.bind(console),t.ProfileConstrainedBaseline=1,t.ProfileBaseline=2,t.ProfileMain=3,t.ProfileConstrainedHigh=4,t.ProfileHigh=5,t.Level1_b=0,t.Level1=10,t.Level1_1=11,t.Level1_2=12,t.Level1_3=13,t.Level2=20,t.Level2_1=21,t.Level2_2=22,t.Level3=30,t.Level3_1=31,t.Level3_2=32,t.Level4=40,t.Level4_1=41,t.Level4_2=42,t.Level5=50,t.Level5_1=51,t.Level5_2=52;class r{constructor(e,t){this.profile=e,this.level=t}}t.ProfileLevelId=r;const o=new r(1,31);class s{constructor(e){this._mask=~l("x",e),this._maskedValue=l("1",e)}isMatch(e){return this._maskedValue===(e&this._mask)}}class a{constructor(e,t,n){this.profile_idc=e,this.profile_iop=t,this.profile=n}}const c=[new a(66,new s("x1xx0000"),1),new a(77,new s("1xxx0000"),1),new a(88,new s("11xx0000"),1),new a(66,new s("x0xx0000"),2),new a(88,new s("10xx0000"),2),new a(77,new s("0x0x0000"),3),new a(100,new s("00000000"),5),new a(100,new s("00001100"),4)];function l(e,t){return(t[0]===e)<<7|(t[1]===e)<<6|(t[2]===e)<<5|(t[3]===e)<<4|(t[4]===e)<<3|(t[5]===e)<<2|(t[6]===e)<<1|(t[7]===e)<<0}function h(e={}){const t=e["level-asymmetry-allowed"];return 1===t||"1"===t}t.parseProfileLevelId=function(e){if("string"!=typeof e||6!==e.length)return null;const t=parseInt(e,16);if(0===t)return null;const n=255&t,o=t>>8&255,s=t>>16&255;let a;switch(n){case 11:a=0!=(16&o)?0:11;break;case 10:case 12:case 13:case 20:case 21:case 22:case 30:case 31:case 32:case 40:case 41:case 42:case 50:case 51:case 52:a=n;break;default:return i("parseProfileLevelId() | unrecognized level_idc:%s",n),null}for(const i of c)if(s===i.profile_idc&&i.profile_iop.isMatch(o))return new r(i.profile,a);return i("parseProfileLevelId() | unrecognized profile_idc/profile_iop combination"),null},t.profileLevelIdToString=function(e){if(0==e.level)switch(e.profile){case 1:return"42f00b";case 2:return"42100b";case 3:return"4d100b";default:return i("profileLevelIdToString() | Level 1_b not is allowed for profile:%s",e.profile),null}let t;switch(e.profile){case 1:t="42e0";break;case 2:t="4200";break;case 3:t="4d00";break;case 4:t="640c";break;case 5:t="6400";break;default:return i("profileLevelIdToString() | unrecognized profile:%s",e.profile),null}let n=e.level.toString(16);return 1===n.length&&(n="0"+n),`${t}${n}`},t.parseSdpProfileLevelId=function(e={}){const n=e["profile-level-id"];return n?t.parseProfileLevelId(n):o},t.isSameProfile=function(e={},n={}){const i=t.parseSdpProfileLevelId(e),r=t.parseSdpProfileLevelId(n);return Boolean(i&&r&&i.profile===r.profile)},t.generateProfileLevelIdForAnswer=function(e={},n={}){if(!e["profile-level-id"]&&!n["profile-level-id"])return i("generateProfileLevelIdForAnswer() | no profile-level-id in local and remote params"),null;const o=t.parseSdpProfileLevelId(e),s=t.parseSdpProfileLevelId(n);if(!o)throw new TypeError("invalid local_profile_level_id");if(!s)throw new TypeError("invalid remote_profile_level_id");if(o.profile!==s.profile)throw new TypeError("H264 Profile mismatch");const a=h(e)&&h(n),c=o.level,l=function(e,t){return 0===e?10!==t&&0!==t:0===t?10!==e:e<t}(d=c,u=s.level)?d:u;var d,u;const p=a?c:l;return i("generateProfileLevelIdForAnswer() | result: [profile:%s, level:%s]",o.profile,p),t.profileLevelIdToString(new r(o.profile,p))}},"oIG/":function(e,t){var n,i,r,o=String.fromCharCode;function s(e){for(var t,n,i=[],r=0,o=e.length;r<o;)(t=e.charCodeAt(r++))>=55296&&t<=56319&&r<o?56320==(64512&(n=e.charCodeAt(r++)))?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),r--):i.push(t);return i}function a(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function c(e,t){return o(e>>t&63|128)}function l(e,t){if(0==(4294967168&e))return o(e);var n="";return 0==(4294965248&e)?n=o(e>>6&31|192):0==(4294901760&e)?(a(e,t)||(e=65533),n=o(e>>12&15|224),n+=c(e,6)):0==(4292870144&e)&&(n=o(e>>18&7|240),n+=c(e,12),n+=c(e,6)),n+o(63&e|128)}function h(){if(r>=i)throw Error("Invalid byte index");var e=255&n[r];if(r++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function d(e){var t,o;if(r>i)throw Error("Invalid byte index");if(r==i)return!1;if(t=255&n[r],r++,0==(128&t))return t;if(192==(224&t)){if((o=(31&t)<<6|h())>=128)return o;throw Error("Invalid continuation byte")}if(224==(240&t)){if((o=(15&t)<<12|h()<<6|h())>=2048)return a(o,e)?o:65533;throw Error("Invalid continuation byte")}if(240==(248&t)&&(o=(7&t)<<18|h()<<12|h()<<6|h())>=65536&&o<=1114111)return o;throw Error("Invalid UTF-8 detected")}e.exports={version:"2.1.2",encode:function(e,t){for(var n=!1!==(t=t||{}).strict,i=s(e),r=i.length,o=-1,a="";++o<r;)a+=l(i[o],n);return a},decode:function(e,t){var a=!1!==(t=t||{}).strict;n=s(e),i=n.length,r=0;for(var c,l=[];!1!==(c=d(a));)l.push(c);return function(e){for(var t,n=e.length,i=-1,r="";++i<n;)(t=e[i])>65535&&(r+=o((t-=65536)>>>10&1023|55296),t=56320|1023&t),r+=o(t);return r}(l)}}},qGlh:function(e,t){e.exports=function(e){return n&&Buffer.isBuffer(e)||i&&(e instanceof ArrayBuffer||function(e){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer}(e))};var n="function"==typeof Buffer&&"function"==typeof Buffer.isBuffer,i="function"==typeof ArrayBuffer},sSRp:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRtpEncodings=function({offerMediaObject:e,track:t}){let n;const i=new Set;for(const s of e.ssrcs||[])if("msid"===s.attribute&&s.value.split(" ")[1]===t.id){const e=s.id;i.add(e),n||(n=e)}if(0===i.size)throw new Error(`a=ssrc line with msid information not found [track.id:${t.id}]`);const r=new Map;for(const s of e.ssrcGroups||[]){if("FID"!==s.semantics)continue;let[e,t]=s.ssrcs.split(/\s+/);e=Number(e),t=Number(t),i.has(e)&&(i.delete(e),i.delete(t),r.set(e,t))}for(const s of i)r.set(s,null);const o=[];for(const[s,a]of r){const e={ssrc:s};a&&(e.rtx={ssrc:a}),o.push(e)}return o},t.addLegacySimulcast=function({offerMediaObject:e,track:t,numStreams:n}){if(n<=1)throw new TypeError("numStreams must be greater than 1");let i,r,o;if(!(e.ssrcs||[]).find(e=>"msid"===e.attribute&&e.value.split(" ")[1]===t.id&&(i=e.id,o=e.value.split(" ")[0],!0)))throw new Error(`a=ssrc line with msid information not found [track.id:${t.id}]`);(e.ssrcGroups||[]).some(e=>{if("FID"!==e.semantics)return!1;const t=e.ssrcs.split(/\s+/);return Number(t[0])===i&&(r=Number(t[1]),!0)});const s=e.ssrcs.find(e=>"cname"===e.attribute&&e.id===i);if(!s)throw new Error(`a=ssrc line with cname information not found [track.id:${t.id}]`);const a=s.value,c=[],l=[];for(let h=0;h<n;++h)c.push(i+h),r&&l.push(r+h);e.ssrcGroups=e.ssrcGroups||[],e.ssrcs=e.ssrcs||[],e.ssrcGroups.push({semantics:"SIM",ssrcs:c.join(" ")});for(let h=0;h<c.length;++h){const n=c[h];e.ssrcs.push({id:n,attribute:"cname",value:a}),e.ssrcs.push({id:n,attribute:"msid",value:`${o} ${t.id}`})}for(let h=0;h<l.length;++h){const n=c[h],i=l[h];e.ssrcs.push({id:i,attribute:"cname",value:a}),e.ssrcs.push({id:i,attribute:"msid",value:`${o} ${t.id}`}),e.ssrcGroups.push({semantics:"FID",ssrcs:`${n} ${i}`})}}},sZ75:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("7h/2"),r=n("GygU"),o=n("nAs4"),s=new i.Logger("Consumer");t.Consumer=class extends r.EnhancedEventEmitter{constructor({id:e,localId:t,producerId:n,rtpReceiver:i,track:r,rtpParameters:o,appData:a}){super(),this._closed=!1,s.debug("constructor()"),this._id=e,this._localId=t,this._producerId=n,this._rtpReceiver=i,this._track=r,this._rtpParameters=o,this._paused=!r.enabled,this._appData=a,this._onTrackEnded=this._onTrackEnded.bind(this),this._handleTrack()}get id(){return this._id}get localId(){return this._localId}get producerId(){return this._producerId}get closed(){return this._closed}get kind(){return this._track.kind}get rtpReceiver(){return this._rtpReceiver}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get appData(){return this._appData}set appData(e){throw new Error("cannot override appData object")}close(){this._closed||(s.debug("close()"),this._closed=!0,this._destroyTrack(),this.emit("@close"))}transportClosed(){this._closed||(s.debug("transportClosed()"),this._closed=!0,this._destroyTrack(),this.safeEmit("transportclose"))}async getStats(){if(this._closed)throw new o.InvalidStateError("closed");return this.safeEmitAsPromise("@getstats")}pause(){s.debug("pause()"),this._closed?s.error("pause() | Consumer closed"):(this._paused=!0,this._track.enabled=!1)}resume(){s.debug("resume()"),this._closed?s.error("resume() | Consumer closed"):(this._paused=!1,this._track.enabled=!0)}_onTrackEnded(){s.debug('track "ended" event'),this.safeEmit("trackended")}_handleTrack(){this._track.addEventListener("ended",this._onTrackEnded)}_destroyTrack(){try{this._track.removeEventListener("ended",this._onTrackEnded),this._track.stop()}catch(e){}}}},x7D4:function(e,t,n){t.log=function(...e){return"object"==typeof console&&console.log&&console.log(...e)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let i=0,r=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(i++,"%c"===e&&(r=i))}),t.splice(r,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(n){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(n){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=n("L8wN")(t);const{formatters:i}=e.exports;i.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}},yeub:function(e,t){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(n){e.exports=!1}},ypnn:function(e,t){e.exports=function(e,t,n){var i=e.byteLength;if(t=t||0,n=n||i,e.slice)return e.slice(t,n);if(t<0&&(t+=i),n<0&&(n+=i),n>i&&(n=i),t>=i||t>=n||0===i)return new ArrayBuffer(0);for(var r=new Uint8Array(e),o=new Uint8Array(n-t),s=t,a=0;s<n;s++,a++)o[a]=r[s];return o.buffer}},zJ60:function(e,t,n){var i=n("Uxeu"),r=n("x7D4")("socket.io-client:url");e.exports=function(e,t){var n=e;t=t||"undefined"!=typeof location&&location,null==e&&(e=t.protocol+"//"+t.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(r("protocol-less url %s",e),e=void 0!==t?t.protocol+"//"+e:"https://"+e),r("parse %s",e),n=i(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";var o=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+o+":"+n.port,n.href=n.protocol+"://"+o+(t&&t.port===n.port?"":":"+n.port),n}},zMFY:function(e,t){function n(){}e.exports=function(e,t,i){var r=!1;return i=i||n,o.count=e,0===e?t():o;function o(e,n){if(o.count<=0)throw new Error("after called too many times");--o.count,e?(r=!0,t(e),t=i):0!==o.count||r||t(null,n)}}},zUnb:function(e,t,n){"use strict";function i(e){return"function"==typeof e}n.r(t);let r=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}};function s(e){setTimeout(()=>{throw e},0)}const a={closed:!0,next(e){},error(e){if(o.useDeprecatedSynchronousErrorHandling)throw e;s(e)},complete(){}},c=(()=>Array.isArray||(e=>e&&"number"==typeof e.length))();function l(e){return null!==e&&"object"==typeof e}const h=(()=>{function e(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e})();let d=(()=>{class e{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:r,_unsubscribe:o,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(let e=0;e<n.length;++e)n[e].remove(this);if(i(o)){r&&(this._unsubscribe=void 0);try{o.call(this)}catch(a){t=a instanceof h?u(a.errors):[a]}}if(c(s)){let e=-1,n=s.length;for(;++e<n;){const n=s[e];if(l(n))try{n.unsubscribe()}catch(a){t=t||[],a instanceof h?t=t.concat(u(a.errors)):t.push(a)}}}if(t)throw new h(t)}add(t){let n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){const t=n;n=new e,n._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:i}=n;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[n]:r.push(n),n}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}return e.EMPTY=function(e){return e.closed=!0,e}(new e),e})();function u(e){return e.reduce((e,t)=>e.concat(t instanceof h?t.errors:t),[])}const p=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class f extends d{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!e){this.destination=a;break}if("object"==typeof e){e instanceof f?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new m(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new m(this,e,t,n)}}[p](){return this}static create(e,t,n){const i=new f(e,t,n);return i.syncErrorThrowable=!1,i}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class m extends f{constructor(e,t,n,r){let o;super(),this._parentSubscriber=e;let s=this;i(t)?o=t:t&&(o=t.next,n=t.error,r=t.complete,t!==a&&(s=Object.create(t),i(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=n,this._complete=r}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=o;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):s(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;s(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;s(n)}}__tryOrSetError(e,t,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(i){return o.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=i,e.syncErrorThrown=!0,!0):(s(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const g=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function v(e){return e}let y=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(e,t,n){const{operator:i}=this,r=function(e,t,n){if(e){if(e instanceof f)return e;if(e[p])return e[p]()}return e||t||n?new f(e,t,n):new f(a)}(e,t,n);if(r.add(i?i.call(r,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),o.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r}_trySubscribe(e){try{return this._subscribe(e)}catch(t){o.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:n,isStopped:i}=e;if(t||i)return!1;e=n&&n instanceof f?n:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=b(t))((t,n)=>{let i;i=this.subscribe(t=>{try{e(t)}catch(r){n(r),i&&i.unsubscribe()}},n,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[g](){return this}pipe(...e){return 0===e.length?this:(0===(t=e).length?v:1===t.length?t[0]:function(e){return t.reduce((e,t)=>t(e),e)})(this);var t}toPromise(e){return new(e=b(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}return e.create=t=>new e(t),e})();function b(e){if(e||(e=o.Promise||Promise),!e)throw new Error("no Promise impl found");return e}const _=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})();class w extends d{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}class C extends f{constructor(e){super(e),this.destination=e}}let S=(()=>{class e extends y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[p](){return new C(this)}lift(e){const t=new k(this,this);return t.operator=e,t}next(e){if(this.closed)throw new _;if(!this.isStopped){const{observers:t}=this,n=t.length,i=t.slice();for(let r=0;r<n;r++)i[r].next(e)}}error(e){if(this.closed)throw new _;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,i=t.slice();for(let r=0;r<n;r++)i[r].error(e);this.observers.length=0}complete(){if(this.closed)throw new _;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let i=0;i<t;i++)n[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new _;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new _;return this.hasError?(e.error(this.thrownError),d.EMPTY):this.isStopped?(e.complete(),d.EMPTY):(this.observers.push(e),new w(this,e))}asObservable(){const e=new y;return e.source=this,e}}return e.create=(e,t)=>new k(e,t),e})();class k extends S{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):d.EMPTY}}function x(e){return e&&"function"==typeof e.schedule}function E(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new O(e,t))}}class O{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new T(e,this.project,this.thisArg))}}class T extends f{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}const P=e=>t=>{for(let n=0,i=e.length;n<i&&!t.closed;n++)t.next(e[n]);t.complete()};function R(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const I=R(),A=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function D(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}const M=e=>{if(e&&"function"==typeof e[g])return i=e,e=>{const t=i[g]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(A(e))return P(e);if(D(e))return n=e,e=>(n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,s),e);if(e&&"function"==typeof e[I])return t=e,e=>{const n=t[I]();for(;;){let t;try{t=n.next()}catch(i){return e.error(i),e}if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e};{const t=l(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var t,n,i};function N(e,t){return new y(n=>{const i=new d;let r=0;return i.add(t.schedule(function(){r!==e.length?(n.next(e[r++]),n.closed||i.add(this.schedule())):n.complete()})),i})}function F(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[g]}(e))return function(e,t){return new y(n=>{const i=new d;return i.add(t.schedule(()=>{const r=e[g]();i.add(r.subscribe({next(e){i.add(t.schedule(()=>n.next(e)))},error(e){i.add(t.schedule(()=>n.error(e)))},complete(){i.add(t.schedule(()=>n.complete()))}}))})),i})}(e,t);if(D(e))return function(e,t){return new y(n=>{const i=new d;return i.add(t.schedule(()=>e.then(e=>{i.add(t.schedule(()=>{n.next(e),i.add(t.schedule(()=>n.complete()))}))},e=>{i.add(t.schedule(()=>n.error(e)))}))),i})}(e,t);if(A(e))return N(e,t);if(function(e){return e&&"function"==typeof e[I]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new y(n=>{const i=new d;let r;return i.add(()=>{r&&"function"==typeof r.return&&r.return()}),i.add(t.schedule(()=>{r=e[I](),i.add(t.schedule(function(){if(n.closed)return;let e,t;try{const n=r.next();e=n.value,t=n.done}catch(i){return void n.error(i)}t?n.complete():(n.next(e),this.schedule())}))})),i})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof y?e:new y(M(e))}class L extends f{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class j extends f{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function B(e,t){if(!t.closed)return e instanceof y?e.subscribe(t):M(e)(t)}function z(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?i=>i.pipe(z((n,i)=>F(e(n,i)).pipe(E((e,r)=>t(n,e,i,r))),n)):("number"==typeof t&&(n=t),t=>t.lift(new V(e,n)))}class V{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new H(e,this.project,this.concurrent))}}class H extends j{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(t)}_innerSub(e){const t=new L(this),n=this.destination;n.add(t);const i=B(e,t);i!==t&&n.add(i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function U(e=Number.POSITIVE_INFINITY){return z(v,e)}function W(e,t){return t?N(e,t):new y(P(e))}function q(...e){let t=Number.POSITIVE_INFINITY,n=null,i=e[e.length-1];return x(i)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof i&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof y?e[0]:U(t)(W(e,n))}function $(){return function(e){return e.lift(new G(e))}}class G{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const i=new Y(e,n),r=t.subscribe(i);return i.closed||(i.connection=n.connect()),r}}class Y extends f{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,i=e._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}class X extends y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new d,e.add(this.source.subscribe(new Z(this.getSubject(),this))),e.closed&&(this._connection=null,e=d.EMPTY)),e}refCount(){return $()(this)}}const K=(()=>{const e=X.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class Z extends C{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function Q(){return new S}function J(){return e=>{return $()((t=Q,function(e){let n;n="function"==typeof t?t:function(){return t};const i=Object.create(e,K);return i.source=e,i.subjectFactory=n,i})(e));var t}}function ee(e){return{toString:e}.toString()}function te(e,t,n){return ee(()=>{const i=function(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}(t);function r(...e){if(this instanceof r)return i.apply(this,e),this;const t=new r(...e);return n.annotation=t,n;function n(e,n,i){const r=e.hasOwnProperty("__parameters__")?e.__parameters__:Object.defineProperty(e,"__parameters__",{value:[]}).__parameters__;for(;r.length<=i;)r.push(null);return(r[i]=r[i]||[]).push(t),e}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}const ne=te("Inject",e=>({token:e})),ie=te("Optional"),re=te("Self"),oe=te("SkipSelf");function se(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(se).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return""+e.overriddenName;if(e.name)return""+e.name;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function ae(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}function ce(e){for(let t in e)if(e[t]===ce)return t;throw Error("Could not find renamed property on target object.")}function le(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function he(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function de(e){return{factory:e.factory,providers:e.providers||[],imports:e.imports||[]}}function ue(e){return pe(e,me)||pe(e,ve)}function pe(e,t){return e.hasOwnProperty(t)?e[t]:null}function fe(e){return e&&(e.hasOwnProperty(ge)||e.hasOwnProperty(ye))?e[ge]:null}const me=ce({\u0275prov:ce}),ge=ce({\u0275inj:ce}),ve=ce({ngInjectableDef:ce}),ye=ce({ngInjectorDef:ce});class be{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=he({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return"InjectionToken "+this._desc}}const _e=new be("AnalyzeForEntryComponents");var we=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}({});const Ce="undefined"!=typeof globalThis&&globalThis,Se="undefined"!=typeof window&&window,ke="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,xe="undefined"!=typeof global&&global,Ee=Ce||xe||Se||ke,Oe=ce({__forward_ref__:ce});function Te(e){return e.__forward_ref__=Te,e.toString=function(){return se(this())},e}function Pe(e){return Re(e)?e():e}function Re(e){return"function"==typeof e&&e.hasOwnProperty(Oe)&&e.__forward_ref__===Te}const Ie=Function;function Ae(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let i=e[n];Array.isArray(i)?(t===e&&(t=e.slice(0,n)),Ae(i,t)):t!==e&&t.push(i)}return t}function De(e,t){e.forEach(e=>Array.isArray(e)?De(e,t):t(e))}function Me(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Ne(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Fe(e,t){const n=[];for(let i=0;i<e;i++)n.push(t);return n}function Le(e,t,n){let i=Be(e,t);return i>=0?e[1|i]=n:(i=~i,function(e,t,n,i){let r=e.length;if(r==t)e.push(n,i);else if(1===r)e.push(i,e[0]),e[0]=n;else{for(r--,e.push(e[r-1],e[r]);r>t;)e[r]=e[r-2],r--;e[t]=n,e[t+1]=i}}(e,i,t,n)),i}function je(e,t){const n=Be(e,t);if(n>=0)return e[1|n]}function Be(e,t){return function(e,t,n){let i=0,r=e.length>>1;for(;r!==i;){const n=i+(r-i>>1),o=e[n<<1];if(t===o)return n<<1;o>t?r=n:i=n+1}return~(r<<1)}(e,t)}var ze=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}({});const Ve={},He=[],Ue=ce({\u0275cmp:ce}),We=ce({\u0275dir:ce}),qe=ce({\u0275pipe:ce}),$e=ce({\u0275mod:ce}),Ge=ce({\u0275loc:ce}),Ye=ce({\u0275fac:ce}),Xe=ce({__NG_ELEMENT_ID__:ce});let Ke=0;function Ze(e){return ee(()=>{const t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===we.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||He,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||ze.Emulated,id:"c",styles:e.styles||He,_:null,setInput:null,schemas:e.schemas||null,tView:null},i=e.directives,r=e.features,o=e.pipes;return n.id+=Ke++,n.inputs=nt(e.inputs,t),n.outputs=nt(e.outputs),r&&r.forEach(e=>e(n)),n.directiveDefs=i?()=>("function"==typeof i?i():i).map(Qe):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(Je):null,n})}function Qe(e){return rt(e)||function(e){return e[We]||null}(e)}function Je(e){return function(e){return e[qe]||null}(e)}const et={};function tt(e){const t={type:e.type,bootstrap:e.bootstrap||He,declarations:e.declarations||He,imports:e.imports||He,exports:e.exports||He,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&ee(()=>{et[e.id]=e.type}),t}function nt(e,t){if(null==e)return Ve;const n={};for(const i in e)if(e.hasOwnProperty(i)){let r=e[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),n[r]=i,t&&(t[r]=o)}return n}const it=Ze;function rt(e){return e[Ue]||null}function ot(e,t){const n=e[$e]||null;if(!n&&!0===t)throw new Error(`Type ${se(e)} does not have '\u0275mod' property.`);return n}function st(e){return"string"==typeof e?e:null==e?"":""+e}function at(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():st(e)}var ct=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});let lt;function ht(e){const t=lt;return lt=e,t}function dt(e,t,n){const i=ue(e);if(i&&"root"==i.providedIn)return void 0===i.value?i.value=i.factory():i.value;if(n&ct.Optional)return null;if(void 0!==t)return t;throw new Error(`Injector: NOT_FOUND [${se(e)}]`)}const ut={},pt=/\n/gm,ft=ce({provide:String,useValue:ce});let mt=void 0;function gt(e){const t=mt;return mt=e,t}function vt(e,t=ct.Default){if(void 0===mt)throw new Error("inject() must be called from an injection context");return null===mt?dt(e,void 0,t):mt.get(e,t&ct.Optional?null:void 0,t)}function yt(e,t=ct.Default){return(lt||vt)(Pe(e),t)}const bt=yt;function _t(e){const t=[];for(let n=0;n<e.length;n++){const i=Pe(e[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let e=void 0,n=ct.Default;for(let t=0;t<i.length;t++){const r=i[t];r instanceof ie||"Optional"===r.ngMetadataName||r===ie?n|=ct.Optional:r instanceof oe||"SkipSelf"===r.ngMetadataName||r===oe?n|=ct.SkipSelf:r instanceof re||"Self"===r.ngMetadataName||r===re?n|=ct.Self:e=r instanceof ne||r===ne?r.token:r}t.push(yt(e,n))}else t.push(yt(i))}return t}let wt=void 0;function Ct(e){return Array.isArray(e)&&"object"==typeof e[1]}function St(e){return Array.isArray(e)&&!0===e[1]}function kt(e){return 0!=(8&e.flags)}function xt(e){return 2==(2&e.flags)}function Et(e){return 1==(1&e.flags)}function Ot(e){return null!==e.template}function Tt(e){return!!e.listen}const Pt={createRenderer:(e,t)=>void 0!==wt?wt:"undefined"!=typeof document?document:void 0};function Rt(e){for(;Array.isArray(e);)e=e[0];return e}function It(e,t){return Rt(t[e])}function At(e,t){return Rt(t[e.index])}function Dt(e,t){return e.data[t]}function Mt(e,t){const n=t[e];return Ct(n)?n:n[0]}function Nt(e){const t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Ft(e){return 4==(4&e[2])}function Lt(e){return 128==(128&e[2])}function jt(e,t){return null==t?null:e[t]}function Bt(e){e[18]=0}function zt(e,t){e[5]+=t;let n=e,i=e[3];for(;null!==i&&(1===t&&1===n[5]||-1===t&&0===n[5]);)i[5]+=t,n=i,i=i[3]}const Vt={lFrame:hn(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ht(){return Vt.bindingsEnabled}function Ut(){return Vt.lFrame.lView}function Wt(){return Vt.lFrame.tView}function qt(e){Vt.lFrame.contextLView=e}function $t(){let e=Gt();for(;null!==e&&64===e.type;)e=e.parent;return e}function Gt(){return Vt.lFrame.currentTNode}function Yt(e,t){const n=Vt.lFrame;n.currentTNode=e,n.isParent=t}function Xt(){return Vt.lFrame.isParent}function Kt(){Vt.lFrame.isParent=!1}function Zt(){return Vt.isInCheckNoChangesMode}function Qt(e){Vt.isInCheckNoChangesMode=e}function Jt(){return Vt.lFrame.bindingIndex++}function en(e){const t=Vt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function tn(e,t){const n=Vt.lFrame;n.bindingIndex=n.bindingRootIndex=e,nn(t)}function nn(e){Vt.lFrame.currentDirectiveIndex=e}function rn(){return Vt.lFrame.currentQueryIndex}function on(e){Vt.lFrame.currentQueryIndex=e}function sn(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function an(e,t,n){if(n&ct.SkipSelf){let i=t,r=e;for(;i=i.parent,!(null!==i||n&ct.Host||(i=sn(r),null===i)||(r=r[15],10&i.type)););if(null===i)return!1;t=i,e=r}const i=Vt.lFrame=ln();return i.currentTNode=t,i.lView=e,!0}function cn(e){const t=ln(),n=e[1];Vt.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function ln(){const e=Vt.lFrame,t=null===e?null:e.child;return null===t?hn(e):t}function hn(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function dn(){const e=Vt.lFrame;return Vt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const un=dn;function pn(){const e=dn();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function fn(){return Vt.lFrame.selectedIndex}function mn(e){Vt.lFrame.selectedIndex=e}function gn(){const e=Vt.lFrame;return Dt(e.tView,e.selectedIndex)}function vn(e){return e instanceof class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}?e.changingThisBreaksApplicationSecurity:e}let yn=!0,bn=!1;function _n(){return bn=!0,yn}function wn(e,t){return e.hasOwnProperty(Ye)?e[Ye]:null}class Cn extends Error{constructor(e,t){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(e,t)),this.code=e}}function Sn(e,t){const n=t?" in "+t:"";throw new Cn("201",`No provider for ${at(e)} found${n}`)}class kn{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function xn(){return En}function En(e){return e.type.prototype.ngOnChanges&&(e.setInput=Tn),On}function On(){const e=Pn(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===Ve)e.previous=t;else for(let e in t)n[e]=t[e];e.current=null,this.ngOnChanges(t)}}function Tn(e,t,n,i){const r=Pn(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:Ve,current:null}),o=r.current||(r.current={}),s=r.previous,a=this.declaredInputs[n],c=s[a];o[a]=new kn(c&&c.currentValue,t,s===Ve),e[i]=t}function Pn(e){return e.__ngSimpleChanges__||null}function Rn(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){const t=e.data[n].type.prototype,{ngAfterContentInit:i,ngAfterContentChecked:r,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=t;i&&(e.contentHooks||(e.contentHooks=[])).push(-n,i),r&&((e.contentHooks||(e.contentHooks=[])).push(n,r),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,r)),o&&(e.viewHooks||(e.viewHooks=[])).push(-n,o),s&&((e.viewHooks||(e.viewHooks=[])).push(n,s),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,s)),null!=a&&(e.destroyHooks||(e.destroyHooks=[])).push(n,a)}}function In(e,t,n){Mn(e,t,3,n)}function An(e,t,n,i){(3&e[2])===n&&Mn(e,t,n,i)}function Dn(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Mn(e,t,n,i){const r=null!=i?i:-1;let o=0;for(let s=void 0!==i?65535&e[18]:0;s<t.length;s++)if("number"==typeof t[s+1]){if(o=t[s],null!=i&&o>=i)break}else t[s]<0&&(e[18]+=65536),(o<r||-1==r)&&(Nn(e,n,t,s),e[18]=(4294901760&e[18])+s+2),s++}function Nn(e,t,n,i){const r=n[i]<0,o=n[i+1],s=e[r?-n[i]:n[i]];r?e[2]>>11<e[18]>>16&&(3&e[2])===t&&(e[2]+=2048,o.call(s)):o.call(s)}xn.ngInherit=!0;class Fn{constructor(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}function Ln(e,t,n){const i=Tt(e);let r=0;for(;r<n.length;){const o=n[r];if("number"==typeof o){if(0!==o)break;r++;const s=n[r++],a=n[r++],c=n[r++];i?e.setAttribute(t,a,c,s):t.setAttributeNS(s,a,c)}else{const s=o,a=n[++r];Bn(s)?i&&e.setProperty(t,s,a):i?e.setAttribute(t,s,a):t.setAttribute(s,a),r++}}return r}function jn(e){return 3===e||4===e||6===e}function Bn(e){return 64===e.charCodeAt(0)}function zn(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?n=r:0===n||Vn(e,n,r,null,-1===n||2===n?t[++i]:null)}}return e}function Vn(e,t,n,i,r){let o=0,s=e.length;if(-1===t)s=-1;else for(;o<e.length;){const n=e[o++];if("number"==typeof n){if(n===t){s=-1;break}if(n>t){s=o-1;break}}}for(;o<e.length;){const t=e[o];if("number"==typeof t)break;if(t===n){if(null===i)return void(null!==r&&(e[o+1]=r));if(i===e[o+1])return void(e[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),null!==i&&e.splice(o++,0,i),null!==r&&e.splice(o++,0,r)}function Hn(e){return-1!==e}function Un(e){return 32767&e}function Wn(e,t){let n=e>>16,i=t;for(;n>0;)i=i[15],n--;return i}let qn=!0;function $n(e){const t=qn;return qn=e,t}let Gn=0;function Yn(e,t){const n=Kn(e,t);if(-1!==n)return n;const i=t[1];i.firstCreatePass&&(e.injectorIndex=t.length,Xn(i.data,e),Xn(t,null),Xn(i.blueprint,null));const r=Zn(e,t),o=e.injectorIndex;if(Hn(r)){const e=Un(r),n=Wn(r,t),i=n[1].data;for(let r=0;r<8;r++)t[o+r]=n[e+r]|i[e+r]}return t[o+8]=r,o}function Xn(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Kn(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Zn(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,i=null,r=t;for(;null!==r;){const e=r[1],t=e.type;if(i=2===t?e.declTNode:1===t?r[6]:null,null===i)return-1;if(n++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return-1}function Qn(e,t,n){!function(e,t,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(Xe)&&(i=n[Xe]),null==i&&(i=n[Xe]=Gn++);const r=255&i,o=1<<r,s=64&r,a=32&r,c=t.data;128&r?s?a?c[e+7]|=o:c[e+6]|=o:a?c[e+5]|=o:c[e+4]|=o:s?a?c[e+3]|=o:c[e+2]|=o:a?c[e+1]|=o:c[e]|=o}(e,t,n)}function Jn(e,t,n){if(n&ct.Optional)return e;Sn(t,"NodeInjector")}function ei(e,t,n,i){if(n&ct.Optional&&void 0===i&&(i=null),0==(n&(ct.Self|ct.Host))){const r=e[9],o=ht(void 0);try{return r?r.get(t,i,n&ct.Optional):dt(t,i,n&ct.Optional)}finally{ht(o)}}return Jn(i,t,n)}function ti(e,t,n,i=ct.Default,r){if(null!==e){const o=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Xe)?e[Xe]:void 0;return"number"==typeof t?t>=0?255&t:ii:t}(n);if("function"==typeof o){if(!an(t,e,i))return i&ct.Host?Jn(r,n,i):ei(t,n,i,r);try{const e=o();if(null!=e||i&ct.Optional)return e;Sn(n)}finally{un()}}else if("number"==typeof o){let r=null,s=Kn(e,t),a=-1,c=i&ct.Host?t[16][6]:null;for((-1===s||i&ct.SkipSelf)&&(a=-1===s?Zn(e,t):t[s+8],-1!==a&&ci(i,!1)?(r=t[1],s=Un(a),t=Wn(a,t)):s=-1);-1!==s;){const e=t[1];if(ai(o,s,e.data)){const e=ri(s,t,n,r,i,c);if(e!==ni)return e}a=t[s+8],-1!==a&&ci(i,t[1].data[s+8]===c)&&ai(o,s,t)?(r=e,s=Un(a),t=Wn(a,t)):s=-1}}}return ei(t,n,i,r)}const ni={};function ii(){return new li($t(),Ut())}function ri(e,t,n,i,r,o){const s=t[1],a=s.data[e+8],c=oi(a,s,n,null==i?xt(a)&&qn:i!=s&&0!=(3&a.type),r&ct.Host&&o===a);return null!==c?si(t,s,c,a):ni}function oi(e,t,n,i,r){const o=e.providerIndexes,s=t.data,a=1048575&o,c=e.directiveStart,l=o>>20,h=r?a+l:e.directiveEnd;for(let d=i?a:a+l;d<h;d++){const e=s[d];if(d<c&&n===e||d>=c&&e.type===n)return d}if(r){const e=s[c];if(e&&Ot(e)&&e.type===n)return c}return null}function si(e,t,n,i){let r=e[n];const o=t.data;if(r instanceof Fn){const s=r;s.resolving&&function(e,t){throw new Cn("200","Circular dependency in DI detected for "+e)}(at(o[n]));const a=$n(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?ht(s.injectImpl):null;an(e,i,ct.Default);try{r=e[n]=s.factory(void 0,o,e,i),t.firstCreatePass&&n>=i.directiveStart&&function(e,t,n){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){const i=En(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,i)}r&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,r),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o))}(n,o[n],t)}finally{null!==c&&ht(c),$n(a),s.resolving=!1,un()}}return r}function ai(e,t,n){const i=64&e,r=32&e;let o;return o=128&e?i?r?n[t+7]:n[t+6]:r?n[t+5]:n[t+4]:i?r?n[t+3]:n[t+2]:r?n[t+1]:n[t],!!(o&1<<e)}function ci(e,t){return!(e&ct.Self||e&ct.Host&&t)}class li{constructor(e,t){this._tNode=e,this._lView=t}get(e,t){return ti(this._tNode,this._lView,e,void 0,t)}}function hi(e){const t=e;if(Re(e))return()=>{const e=hi(Pe(t));return e?e():null};let n=wn(t);if(null===n){const e=fe(t);n=e&&e.factory}return n||null}function di(e){return ee(()=>{const t=e.prototype.constructor,n=t[Ye]||hi(t),i=Object.prototype;let r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==i;){const e=r[Ye]||hi(r);if(e&&e!==n)return e;r=Object.getPrototypeOf(r)}return e=>new e})}function ui(e){return e.ngDebugContext}function pi(e){return e.ngOriginalError}function fi(e,...t){e.error(...t)}class mi{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),i=function(e){return e.ngErrorLogger||fi}(e);i(this._console,"ERROR",e),t&&i(this._console,"ORIGINAL ERROR",t),n&&i(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?ui(e)?ui(e):this._findContext(pi(e)):null}_findOriginalError(e){let t=pi(e);for(;t&&pi(t);)t=pi(t);return t}}function gi(e,t){e.__ngContext__=t}const vi=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ee))();function yi(e){return{name:"window",target:e.ownerDocument.defaultView}}function bi(e){return e instanceof Function?e():e}var _i=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}({});function wi(e,t){return(void 0)(e,t)}function Ci(e){const t=e[3];return St(t)?t[3]:t}function Si(e){return xi(e[13])}function ki(e){return xi(e[4])}function xi(e){for(;null!==e&&!St(e);)e=e[4];return e}function Ei(e,t,n,i,r){if(null!=i){let o,s=!1;St(i)?o=i:Ct(i)&&(s=!0,i=i[0]);const a=Rt(i);0===e&&null!==n?null==r?Mi(t,n,a):Di(t,n,a,r||null,!0):1===e&&null!==n?Di(t,n,a,r||null,!0):2===e?function(e,t,n){const i=Fi(e,t);i&&function(e,t,n,i){Tt(e)?e.removeChild(t,n,i):t.removeChild(n)}(e,i,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=o&&function(e,t,n,i,r){const o=n[7];o!==Rt(n)&&Ei(t,e,i,o,r);for(let s=10;s<n.length;s++){const r=n[s];Ui(r[1],r,e,t,i,o)}}(t,e,o,n,r)}}function Oi(e,t,n){return Tt(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Ti(e,t){const n=e[9],i=n.indexOf(t),r=t[3];1024&t[2]&&(t[2]&=-1025,zt(r,-1)),n.splice(i,1)}function Pi(e,t){if(e.length<=10)return;const n=10+t,i=e[n];if(i){const o=i[17];null!==o&&o!==e&&Ti(o,i),t>0&&(e[n-1][4]=i[4]);const s=Ne(e,10+t);Ui(i[1],r=i,r[11],2,null,null),r[0]=null,r[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-129}var r;return i}function Ri(e,t){if(!(256&t[2])){const n=t[11];Tt(n)&&n.destroyNode&&Ui(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return Ii(e[1],e);for(;t;){let n=null;if(Ct(t))n=t[13];else{const e=t[10];e&&(n=e)}if(!n){for(;t&&!t[4]&&t!==e;)Ct(t)&&Ii(t[1],t),t=t[3];null===t&&(t=e),Ct(t)&&Ii(t[1],t),n=t&&t[4]}t=n}}(t)}}function Ii(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let i=0;i<n.length;i+=2){const e=t[n[i]];if(!(e instanceof Fn)){const t=n[i+1];if(Array.isArray(t))for(let n=0;n<t.length;n+=2)t[n+1].call(e[t[n]]);else t.call(e)}}}(e,t),function(e,t){const n=e.cleanup;if(null!==n){const e=t[7];for(let i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){const r=n[i+1],o="function"==typeof r?r(t):Rt(t[r]),s=e[n[i+2]],a=n[i+3];"boolean"==typeof a?o.removeEventListener(n[i],s,a):a>=0?e[a]():e[-a].unsubscribe(),i+=2}else n[i].call(e[n[i+1]]);t[7]=null}}(e,t),1===t[1].type&&Tt(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&St(t[3])){n!==t[3]&&Ti(n,t);const i=t[19];null!==i&&i.detachView(e)}}}function Ai(e,t,n){return function(e,t,n){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return n[0];if(2&i.flags){const t=e.data[i.directiveStart].encapsulation;if(t===ze.None||t===ze.Emulated)return null}return At(i,n)}(e,t.parent,n)}function Di(e,t,n,i,r){Tt(e)?e.insertBefore(t,n,i,r):t.insertBefore(n,i,r)}function Mi(e,t,n){Tt(e)?e.appendChild(t,n):t.appendChild(n)}function Ni(e,t,n,i,r){null!==i?Di(e,t,n,i,r):Mi(e,t,n)}function Fi(e,t){return Tt(e)?e.parentNode(t):t.parentNode}function Li(e,t,n){return ji(e,t,n)}let ji=function(e,t,n){return 40&e.type?At(e,n):null};function Bi(e,t,n,i){const r=Ai(e,i,t),o=t[11],s=Li(i.parent||t[6],i,t);if(null!=r)if(Array.isArray(n))for(let a=0;a<n.length;a++)Ni(o,r,n[a],s,!1);else Ni(o,r,n,s,!1)}function zi(e,t){if(null!==t){const n=t.type;if(3&n)return At(t,e);if(4&n)return Vi(-1,e[t.index]);if(8&n){const n=t.child;if(null!==n)return zi(e,n);{const n=e[t.index];return St(n)?Vi(-1,n):Rt(n)}}if(32&n)return wi(t,e)()||Rt(e[t.index]);{const n=e[16],i=n[6],r=Ci(n),o=i.projection[t.projection];return null!=o?zi(r,o):zi(e,t.next)}}return null}function Vi(e,t){const n=10+e+1;if(n<t.length){const e=t[n],i=e[1].firstChild;if(null!==i)return zi(e,i)}return t[7]}function Hi(e,t,n,i,r,o,s){for(;null!=n;){const a=i[n.index],c=n.type;if(s&&0===t&&(a&&gi(Rt(a),i),n.flags|=4),64!=(64&n.flags))if(8&c)Hi(e,t,n.child,i,r,o,!1),Ei(t,e,r,a,o);else if(32&c){const s=wi(n,i);let c;for(;c=s();)Ei(t,e,r,c,o);Ei(t,e,r,a,o)}else 16&c?Wi(e,t,i,n,r,o):Ei(t,e,r,a,o);n=s?n.projectionNext:n.next}}function Ui(e,t,n,i,r,o){Hi(n,i,e.firstChild,t,r,o,!1)}function Wi(e,t,n,i,r,o){const s=n[16],a=s[6].projection[i.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)Ei(t,e,r,a[c],o);else Hi(e,t,a,s[3],r,o,!0)}function qi(e,t,n){Tt(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function $i(e,t,n){Tt(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function Gi(e,t,n){let i=e.length;for(;;){const r=e.indexOf(t,n);if(-1===r)return r;if(0===r||e.charCodeAt(r-1)<=32){const n=t.length;if(r+n===i||e.charCodeAt(r+n)<=32)return r}n=r+1}}function Yi(e,t,n){let i=0;for(;i<e.length;){let r=e[i++];if(n&&"class"===r){if(r=e[i],-1!==Gi(r.toLowerCase(),t,0))return!0}else if(1===r){for(;i<e.length&&"string"==typeof(r=e[i++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function Xi(e){return 4===e.type&&"ng-template"!==e.value}function Ki(e,t,n){return t===(4!==e.type||n?e.value:"ng-template")}function Zi(e,t,n){let i=4;const r=e.attrs||[],o=function(e){for(let t=0;t<e.length;t++)if(jn(e[t]))return t;return e.length}(r);let s=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!s)if(4&i){if(i=2|1&i,""!==c&&!Ki(e,c,n)||""===c&&1===t.length){if(Qi(i))return!1;s=!0}}else{const l=8&i?c:t[++a];if(8&i&&null!==e.attrs){if(!Yi(e.attrs,l,n)){if(Qi(i))return!1;s=!0}continue}const h=Ji(8&i?"class":c,r,Xi(e),n);if(-1===h){if(Qi(i))return!1;s=!0;continue}if(""!==l){let e;e=h>o?"":r[h+1].toLowerCase();const t=8&i?e:null;if(t&&-1!==Gi(t,l,0)||2&i&&l!==e){if(Qi(i))return!1;s=!0}}}}else{if(!s&&!Qi(i)&&!Qi(c))return!1;if(s&&Qi(c))continue;s=!1,i=c|1&i}}return Qi(i)||s}function Qi(e){return 0==(1&e)}function Ji(e,t,n,i){if(null===t)return-1;let r=0;if(i||!n){let n=!1;for(;r<t.length;){const i=t[r];if(i===e)return r;if(3===i||6===i)n=!0;else{if(1===i||2===i){let e=t[++r];for(;"string"==typeof e;)e=t[++r];continue}if(4===i)break;if(0===i){r+=4;continue}}r+=n?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const i=e[n];if("number"==typeof i)return-1;if(i===t)return n;n++}return-1}(t,e)}function er(e,t,n=!1){for(let i=0;i<t.length;i++)if(Zi(e,t[i],n))return!0;return!1}function tr(e,t){e:for(let n=0;n<t.length;n++){const i=t[n];if(e.length===i.length){for(let t=0;t<e.length;t++)if(e[t]!==i[t])continue e;return!0}}return!1}function nr(e,t){return e?":not("+t.trim()+")":t}function ir(e){let t=e[0],n=1,i=2,r="",o=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&i){const t=e[++n];r+="["+s+(t.length>0?'="'+t+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""===r||Qi(s)||(t+=nr(o,r),r=""),i=s,o=o||!Qi(i);n++}return""!==r&&(t+=nr(o,r)),t}const rr={};function or(e){sr(Wt(),Ut(),fn()+e,Zt())}function sr(e,t,n,i){if(!i)if(3==(3&t[2])){const i=e.preOrderCheckHooks;null!==i&&In(t,i,n)}else{const i=e.preOrderHooks;null!==i&&An(t,i,0,n)}mn(n)}function ar(e,t){return e<<17|t<<2}function cr(e){return e>>17&32767}function lr(e){return 2|e}function hr(e){return(131068&e)>>2}function dr(e,t){return-131069&e|t<<2}function ur(e){return 1|e}function pr(e,t){const n=e.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const r=n[i],o=n[i+1];if(-1!==o){const n=e.data[o];on(r),n.contentQueries(2,t[o],o)}}}function fr(e,t,n,i,r,o,s,a,c,l){const h=t.blueprint.slice();return h[0]=r,h[2]=140|i,Bt(h),h[3]=h[15]=e,h[8]=n,h[10]=s||e&&e[10],h[11]=a||e&&e[11],h[12]=c||e&&e[12]||null,h[9]=l||e&&e[9]||null,h[6]=o,h[16]=2==t.type?e[16]:h,h}function mr(e,t,n,i,r){let o=e.data[t];if(null===o)o=function(e,t,n,i,r){const o=Gt(),s=Xt(),a=e.data[t]=function(e,t,n,i,r,o){return{type:n,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,t,i,r);return null===e.firstChild&&(e.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(e,t,n,i,r),Vt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=i,o.attrs=r;const e=function(){const e=Vt.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();o.injectorIndex=null===e?-1:e.injectorIndex}return Yt(o,!0),o}function gr(e,t,n,i){if(0===n)return-1;const r=t.length;for(let o=0;o<n;o++)t.push(i),e.blueprint.push(i),e.data.push(null);return r}function vr(e,t,n){cn(t);try{const i=e.viewQuery;null!==i&&Gr(1,i,n);const r=e.template;null!==r&&_r(e,t,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&pr(e,t),e.staticViewQueries&&Gr(2,e.viewQuery,n);const o=e.components;null!==o&&function(e,t){for(let n=0;n<t.length;n++)Hr(e,t[n])}(t,o)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),i}finally{t[2]&=-5,pn()}}function yr(e,t,n,i){const r=t[2];if(256==(256&r))return;cn(t);const o=Zt();try{Bt(t),Vt.lFrame.bindingIndex=e.bindingStartIndex,null!==n&&_r(e,t,n,2,i);const s=3==(3&r);if(!o)if(s){const n=e.preOrderCheckHooks;null!==n&&In(t,n,null)}else{const n=e.preOrderHooks;null!==n&&An(t,n,0,null),Dn(t,0)}if(function(e){for(let t=Si(e);null!==t;t=ki(t)){if(!t[2])continue;const e=t[9];for(let t=0;t<e.length;t++){const n=e[t],i=n[3];0==(1024&n[2])&&zt(i,1),n[2]|=1024}}}(t),function(e){for(let t=Si(e);null!==t;t=ki(t))for(let e=10;e<t.length;e++){const n=t[e],i=n[1];Lt(n)&&yr(i,n,i.template,n[8])}}(t),null!==e.contentQueries&&pr(e,t),!o)if(s){const n=e.contentCheckHooks;null!==n&&In(t,n)}else{const n=e.contentHooks;null!==n&&An(t,n,1),Dn(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let e=0;e<n.length;e++){const i=n[e];if(i<0)mn(~i);else{const r=i,o=n[++e],s=n[++e];tn(o,r),s(2,t[r])}}}finally{mn(-1)}}(e,t);const a=e.components;null!==a&&function(e,t){for(let n=0;n<t.length;n++)zr(e,t[n])}(t,a);const c=e.viewQuery;if(null!==c&&Gr(2,c,i),!o)if(s){const n=e.viewCheckHooks;null!==n&&In(t,n)}else{const n=e.viewHooks;null!==n&&An(t,n,2),Dn(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),o||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,zt(t[3],-1))}finally{pn()}}function br(e,t,n,i){const r=t[10],o=!Zt(),s=Ft(t);try{o&&!s&&r.begin&&r.begin(),s&&vr(e,t,i),yr(e,t,n,i)}finally{o&&!s&&r.end&&r.end()}}function _r(e,t,n,i,r){const o=fn();try{mn(-1),2&i&&t.length>20&&sr(e,t,20,Zt()),n(i,r)}finally{mn(o)}}function wr(e,t,n){if(kt(t)){const i=t.directiveEnd;for(let r=t.directiveStart;r<i;r++){const t=e.data[r];t.contentQueries&&t.contentQueries(1,n[r],r)}}}function Cr(e,t,n){Ht()&&(function(e,t,n,i){const r=n.directiveStart,o=n.directiveEnd;e.firstCreatePass||Yn(n,t),gi(i,t);const s=n.initialInputs;for(let a=r;a<o;a++){const i=e.data[a],o=Ot(i);o&&Fr(t,n,i);const c=si(t,e,a,n);gi(c,t),null!==s&&Lr(0,a-r,c,i,0,s),o&&(Mt(n.index,t)[8]=c)}}(e,t,n,At(n,t)),128==(128&n.flags)&&function(e,t,n){const i=n.directiveStart,r=n.directiveEnd,o=n.index,s=Vt.lFrame.currentDirectiveIndex;try{mn(o);for(let n=i;n<r;n++){const i=e.data[n],r=t[n];nn(n),null===i.hostBindings&&0===i.hostVars&&null===i.hostAttrs||Ir(i,r)}}finally{mn(-1),nn(s)}}(e,t,n))}function Sr(e,t,n=At){const i=t.localNames;if(null!==i){let r=t.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?n(t,e):e[s];e[r++]=a}}}function kr(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=xr(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function xr(e,t,n,i,r,o,s,a,c,l){const h=20+i,d=h+r,u=function(e,t){const n=[];for(let i=0;i<t;i++)n.push(i<e?null:rr);return n}(h,d),p="function"==typeof l?l():l;return u[1]={type:e,blueprint:u,template:n,queries:null,viewQuery:a,declTNode:t,data:u.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1}}function Er(e,t,n,i){const r=Xr(t);r.push(n),e.firstCreatePass&&function(e){return e.cleanup||(e.cleanup=[])}(e).push(i,r.length-1)}function Or(e,t,n){for(let i in e)if(e.hasOwnProperty(i)){const r=e[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(t,r):n[i]=[t,r]}return n}function Tr(e,t,n,i,r,o,s,a){const c=At(t,n);let l,h=t.inputs;var d;!a&&null!=h&&(l=h[i])?(Zr(e,n,l,i,r),xt(t)&&function(e,t){const n=Mt(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(i="class"===(d=i)?"className":"for"===d?"htmlFor":"formaction"===d?"formAction":"innerHtml"===d?"innerHTML":"readonly"===d?"readOnly":"tabindex"===d?"tabIndex":d,r=null!=s?s(r,t.value||"",i):r,Tt(o)?o.setProperty(c,i,r):Bn(i)||(c.setProperty?c.setProperty(i,r):c[i]=r))}function Pr(e,t,n,i){let r=!1;if(Ht()){const o=function(e,t,n){const i=e.directiveRegistry;let r=null;if(i)for(let o=0;o<i.length;o++){const s=i[o];er(n,s.selectors,!1)&&(r||(r=[]),Qn(Yn(n,t),e,s.type),Ot(s)?(Ar(e,n),r.unshift(s)):r.push(s))}return r}(e,t,n),s=null===i?null:{"":-1};if(null!==o){r=!0,Mr(n,e.data.length,o.length);for(let e=0;e<o.length;e++){const t=o[e];t.providersResolver&&t.providersResolver(t)}let i=!1,a=!1,c=gr(e,t,o.length,null);for(let r=0;r<o.length;r++){const l=o[r];n.mergedAttrs=zn(n.mergedAttrs,l.hostAttrs),Nr(e,n,t,c,l),Dr(c,l,s),null!==l.contentQueries&&(n.flags|=8),null===l.hostBindings&&null===l.hostAttrs&&0===l.hostVars||(n.flags|=128);const h=l.type.prototype;!i&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),i=!0),a||!h.ngOnChanges&&!h.ngDoCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),a=!0),c++}!function(e,t){const n=t.directiveEnd,i=e.data,r=t.attrs,o=[];let s=null,a=null;for(let c=t.directiveStart;c<n;c++){const e=i[c],n=e.inputs,l=null===r||Xi(t)?null:jr(n,r);o.push(l),s=Or(n,c,s),a=Or(e.outputs,c,a)}null!==s&&(s.hasOwnProperty("class")&&(t.flags|=16),s.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=s,t.outputs=a}(e,n)}s&&function(e,t,n){if(t){const i=e.localNames=[];for(let e=0;e<t.length;e+=2){const r=n[t[e+1]];if(null==r)throw new Cn("301",`Export of name '${t[e+1]}' not found!`);i.push(t[e],r)}}}(n,i,s)}return n.mergedAttrs=zn(n.mergedAttrs,n.attrs),r}function Rr(e,t,n,i,r,o){const s=o.hostBindings;if(s){let n=e.hostBindingOpCodes;null===n&&(n=e.hostBindingOpCodes=[]);const o=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(i,r,s)}}function Ir(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Ar(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Dr(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;Ot(t)&&(n[""]=e)}}function Mr(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Nr(e,t,n,i,r){e.data[i]=r;const o=r.factory||(r.factory=wn(r.type)),s=new Fn(o,Ot(r),null);e.blueprint[i]=s,n[i]=s,Rr(e,t,0,i,gr(e,n,r.hostVars,rr),r)}function Fr(e,t,n){const i=At(t,e),r=kr(n),o=e[10],s=Ur(e,fr(e,r,null,n.onPush?64:16,i,t,o,o.createRenderer(i,n),null,null));e[t.index]=s}function Lr(e,t,n,i,r,o){const s=o[t];if(null!==s){const e=i.setInput;for(let t=0;t<s.length;){const r=s[t++],o=s[t++],a=s[t++];null!==e?i.setInput(n,a,r,o):n[o]=a}}}function jr(e,t){let n=null,i=0;for(;i<t.length;){const r=t[i];if(0!==r)if(5!==r){if("number"==typeof r)break;e.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,e[r],t[i+1])),i+=2}else i+=2;else i+=4}return n}function Br(e,t,n,i){return new Array(e,!0,!1,t,null,0,i,n,null,null)}function zr(e,t){const n=Mt(t,e);if(Lt(n)){const e=n[1];80&n[2]?yr(e,n,e.template,n[8]):n[5]>0&&Vr(n)}}function Vr(e){for(let n=Si(e);null!==n;n=ki(n))for(let e=10;e<n.length;e++){const t=n[e];if(1024&t[2]){const e=t[1];yr(e,t,e.template,t[8])}else t[5]>0&&Vr(t)}const t=e[1].components;if(null!==t)for(let n=0;n<t.length;n++){const i=Mt(t[n],e);Lt(i)&&i[5]>0&&Vr(i)}}function Hr(e,t){const n=Mt(t,e),i=n[1];!function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(i,n),vr(i,n,n[8])}function Ur(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function Wr(e){for(;e;){e[2]|=64;const t=Ci(e);if(0!=(512&e[2])&&!t)return e;e=t}return null}function qr(e,t,n){const i=t[10];i.begin&&i.begin();try{yr(e,t,e.template,n)}catch(r){throw Kr(t,r),r}finally{i.end&&i.end()}}function $r(e){!function(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],i=Nt(n),r=i[1];br(r,i,r.template,n)}}(e[8])}function Gr(e,t,n){on(0),t(e,n)}const Yr=(()=>Promise.resolve(null))();function Xr(e){return e[7]||(e[7]=[])}function Kr(e,t){const n=e[9],i=n?n.get(mi,null):null;i&&i.handleError(t)}function Zr(e,t,n,i,r){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],c=t[s],l=e.data[s];null!==l.setInput?l.setInput(c,r,i,a):c[a]=r}}function Qr(e,t,n){let i=n?e.styles:null,r=n?e.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const e=t[s];"number"==typeof e?o=e:1==o?r=ae(r,e):2==o&&(i=ae(i,e+": "+t[++s]+";"))}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=r:e.classesWithoutHost=r}const Jr=new be("INJECTOR",-1);class eo{get(e,t=ut){if(t===ut){const t=new Error(`NullInjectorError: No provider for ${se(e)}!`);throw t.name="NullInjectorError",t}return t}}const to=new be("Set Injector scope."),no={},io={},ro=[];let oo=void 0;function so(){return void 0===oo&&(oo=new eo),oo}function ao(e,t=null,n=null,i){return new co(e,n,t||so(),i)}class co{constructor(e,t,n,i=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const r=[];t&&De(t,n=>this.processProvider(n,e,t)),De([e],e=>this.processInjectorType(e,[],r)),this.records.set(Jr,uo(void 0,this));const o=this.records.get(to);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof e?null:se(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=ut,n=ct.Default){this.assertNotDestroyed();const i=gt(this);try{if(!(n&ct.SkipSelf)){let t=this.records.get(e);if(void 0===t){const n=("function"==typeof(r=e)||"object"==typeof r&&r instanceof be)&&ue(e);t=n&&this.injectableDefInScope(n)?uo(lo(e),no):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}return(n&ct.Self?so():this.parent).get(e,t=n&ct.Optional&&t===ut?null:t)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(se(e)),i)throw o;return function(e,t,n,i){const r=e.ngTempTokenPath;throw t.__source&&r.unshift(t.__source),e.message=function(e,t,n,i=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let r=se(t);if(Array.isArray(t))r=t.map(se).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let i=t[n];e.push(n+":"+("string"==typeof i?JSON.stringify(i):se(i)))}r=`{${e.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${e.replace(pt,"\n  ")}`}("\n"+e.message,r,n,i),e.ngTokenPath=r,e.ngTempTokenPath=null,e}(o,e,"R3InjectorError",this.source)}throw o}finally{gt(i)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((t,n)=>e.push(se(n))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,n){if(!(e=Pe(e)))return!1;let i=fe(e);const r=null==i&&e.ngModule||void 0,o=void 0===r?e:r,s=-1!==n.indexOf(o);if(void 0!==r&&(i=fe(r)),null==i)return!1;if(null!=i.imports&&!s){let e;n.push(o);try{De(i.imports,i=>{this.processInjectorType(i,t,n)&&(void 0===e&&(e=[]),e.push(i))})}finally{}if(void 0!==e)for(let t=0;t<e.length;t++){const{ngModule:n,providers:i}=e[t];De(i,e=>this.processProvider(e,n,i||ro))}}this.injectorDefTypes.add(o),this.records.set(o,uo(i.factory,no));const a=i.providers;if(null!=a&&!s){const t=e;De(a,e=>this.processProvider(e,t,a))}return void 0!==r&&void 0!==e.providers}processProvider(e,t,n){let i=fo(e=Pe(e))?e:Pe(e&&e.provide);const r=function(e,t,n){return po(e)?uo(void 0,e.useValue):uo(ho(e),no)}(e);if(fo(e)||!0!==e.multi)this.records.get(i);else{let t=this.records.get(i);t||(t=uo(void 0,no,!0),t.factory=()=>_t(t.multi),this.records.set(i,t)),i=e,t.multi.push(e)}this.records.set(i,r)}hydrate(e,t){var n;return t.value===no&&(t.value=io,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||e.providedIn===this.scope:this.injectorDefTypes.has(e.providedIn))}}function lo(e){const t=ue(e),n=null!==t?t.factory:wn(e);if(null!==n)return n;const i=fe(e);if(null!==i)return i.factory;if(e instanceof be)throw new Error(`Token ${se(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const n=Fe(t,"?");throw new Error(`Can't resolve all parameters for ${se(e)}: (${n.join(", ")}).`)}const n=function(e){const t=e&&(e[me]||e[ve]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function ho(e,t,n){let i=void 0;if(fo(e)){const t=Pe(e);return wn(t)||lo(t)}if(po(e))i=()=>Pe(e.useValue);else if((r=e)&&r.useFactory)i=()=>e.useFactory(..._t(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))i=()=>yt(Pe(e.useExisting));else{const t=Pe(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return wn(t)||lo(t);i=()=>new t(..._t(e.deps))}var r;return i}function uo(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function po(e){return null!==e&&"object"==typeof e&&ft in e}function fo(e){return"function"==typeof e}const mo=function(e,t,n){return function(e,t=null,n=null,i){const r=ao(e,t,n,i);return r._resolveInjectorDefTypes(),r}({name:n},t,e,n)};let go=(()=>{class e{static create(e,t){return Array.isArray(e)?mo(e,t,""):mo(e.providers,e.parent,e.name||"")}}return e.THROW_IF_NOT_FOUND=ut,e.NULL=new eo,e.\u0275prov=he({token:e,providedIn:"any",factory:()=>yt(Jr)}),e.__NG_ELEMENT_ID__=-1,e})();function vo(e,t){Rn(Nt(e)[1],$t())}function yo(e){let t=Object.getPrototypeOf(e.type.prototype).constructor,n=!0;const i=[e];for(;t;){let r=void 0;if(Ot(e))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");r=t.\u0275dir}if(r){if(n){i.push(r);const t=e;t.inputs=bo(e.inputs),t.declaredInputs=bo(e.declaredInputs),t.outputs=bo(e.outputs);const n=r.hostBindings;n&&Co(e,n);const o=r.viewQuery,s=r.contentQueries;if(o&&_o(e,o),s&&wo(e,s),le(e.inputs,r.inputs),le(e.declaredInputs,r.declaredInputs),le(e.outputs,r.outputs),Ot(r)&&r.data.animation){const t=e.data;t.animation=(t.animation||[]).concat(r.data.animation)}}const t=r.features;if(t)for(let i=0;i<t.length;i++){const r=t[i];r&&r.ngInherit&&r(e),r===yo&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let i=e.length-1;i>=0;i--){const r=e[i];r.hostVars=t+=r.hostVars,r.hostAttrs=zn(r.hostAttrs,n=zn(n,r.hostAttrs))}}(i)}function bo(e){return e===Ve?{}:e===He?[]:e}function _o(e,t){const n=e.viewQuery;e.viewQuery=n?(e,i)=>{t(e,i),n(e,i)}:t}function wo(e,t){const n=e.contentQueries;e.contentQueries=n?(e,i,r)=>{t(e,i,r),n(e,i,r)}:t}function Co(e,t){const n=e.hostBindings;e.hostBindings=n?(e,i)=>{t(e,i),n(e,i)}:t}let So=null;function ko(){if(!So){const e=Ee.Symbol;if(e&&e.iterator)So=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(So=n)}}}return So}function xo(e){return!!Eo(e)&&(Array.isArray(e)||!(e instanceof Map)&&ko()in e)}function Eo(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Oo(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function To(e,t,n,i){const r=Ut();return Oo(r,Jt(),t)&&(Wt(),function(e,t,n,i,r,o){const s=At(e,t);!function(e,t,n,i,r,o,s){if(null==o)Tt(e)?e.removeAttribute(t,r,n):t.removeAttribute(r);else{const a=null==s?st(o):s(o,i||"",r);Tt(e)?e.setAttribute(t,r,a,n):n?t.setAttributeNS(n,r,a):t.setAttribute(r,a)}}(t[11],s,o,e.value,n,i,r)}(gn(),r,e,t,n,i)),To}function Po(e,t,n,i){return Oo(e,Jt(),n)?t+st(n)+i:rr}function Ro(e,t,n,i,r,o,s,a){const c=Ut(),l=Wt(),h=e+20,d=l.firstCreatePass?function(e,t,n,i,r,o,s,a,c){const l=t.consts,h=mr(t,e,4,s||null,jt(l,a));Pr(t,n,h,jt(l,c)),Rn(t,h);const d=h.tViews=xr(2,h,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l);return null!==t.queries&&(t.queries.template(t,h),d.queries=t.queries.embeddedTView(h)),h}(h,l,c,t,n,i,r,o,s):l.data[h];Yt(d,!1);const u=c[11].createComment("");Bi(l,c,u,d),gi(u,c),Ur(c,c[h]=Br(u,c,u,d)),Et(d)&&Cr(l,c,d),null!=s&&Sr(c,d,a)}function Io(e,t=ct.Default){const n=Ut();return null===n?yt(e,t):ti($t(),n,Pe(e),t)}function Ao(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const e=n.length;let i=0;for(;i<e;){const r=n[i];if(jn(r))break;if(0===r)i+=2;else if("number"==typeof r)for(i++;i<e&&"string"==typeof n[i];)i++;else{if(r===t)return n[i+1];i+=2}}}return null}($t(),e)}function Do(e,t,n){const i=Ut();return Oo(i,Jt(),t)&&Tr(Wt(),gn(),i,e,t,i[11],n,!1),Do}function Mo(e,t,n,i,r){const o=r?"class":"style";Zr(e,n,t.inputs[o],o,i)}function No(e,t,n,i){const r=Ut(),o=Wt(),s=20+e,a=r[11],c=r[s]=Oi(a,t,Vt.lFrame.currentNamespace),l=o.firstCreatePass?function(e,t,n,i,r,o,s){const a=t.consts,c=mr(t,e,2,r,jt(a,o));return Pr(t,n,c,jt(a,s)),null!==c.attrs&&Qr(c,c.attrs,!1),null!==c.mergedAttrs&&Qr(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(s,o,r,0,t,n,i):o.data[s];Yt(l,!0);const h=l.mergedAttrs;null!==h&&Ln(a,c,h);const d=l.classes;null!==d&&$i(a,c,d);const u=l.styles;null!==u&&qi(a,c,u),64!=(64&l.flags)&&Bi(o,r,c,l),0===Vt.lFrame.elementDepthCount&&gi(c,r),Vt.lFrame.elementDepthCount++,Et(l)&&(Cr(o,r,l),wr(o,l,r)),null!==i&&Sr(r,l)}function Fo(){let e=$t();Xt()?Kt():(e=e.parent,Yt(e,!1));const t=e;Vt.lFrame.elementDepthCount--;const n=Wt();n.firstCreatePass&&(Rn(n,e),kt(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Mo(n,t,Ut(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Mo(n,t,Ut(),t.stylesWithoutHost,!1)}function Lo(e,t,n,i){No(e,t,n,i),Fo()}function jo(e,t,n){const i=Ut(),r=Wt(),o=e+20,s=r.firstCreatePass?function(e,t,n,i,r){const o=t.consts,s=jt(o,i),a=mr(t,e,8,"ng-container",s);return null!==s&&Qr(a,s,!0),Pr(t,n,a,jt(o,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(o,r,i,t,n):r.data[o];Yt(s,!0);const a=i[o]=i[11].createComment("");Bi(r,i,a,s),gi(a,i),Et(s)&&(Cr(r,i,s),wr(r,s,i)),null!=n&&Sr(i,s)}function Bo(){let e=$t();const t=Wt();Xt()?Kt():(e=e.parent,Yt(e,!1)),t.firstCreatePass&&(Rn(t,e),kt(e)&&t.queries.elementEnd(e))}function zo(){return Ut()}function Vo(e){return!!e&&"function"==typeof e.then}function Ho(e){return!!e&&"function"==typeof e.subscribe}function Uo(e,t,n=!1,i){const r=Ut(),o=Wt(),s=$t();return function(e,t,n,i,r,o,s=!1,a){const c=Et(i),l=e.firstCreatePass&&(e.cleanup||(e.cleanup=[])),h=Xr(t);let d=!0;if(3&i.type){const u=At(i,t),p=a?a(u):Ve,f=p.target||u,m=h.length,g=a?e=>a(Rt(e[i.index])).target:i.index;if(Tt(n)){let s=null;if(!a&&c&&(s=function(e,t,n,i){const r=e.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const e=r[o];if(e===n&&r[o+1]===i){const e=t[7],n=r[o+2];return e.length>n?e[n]:null}"string"==typeof e&&(o+=2)}return null}(e,t,r,i.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,d=!1;else{o=qo(i,t,o,!1);const e=n.listen(p.name||f,r,o);h.push(o,e),l&&l.push(r,g,m,m+1)}}else o=qo(i,t,o,!0),f.addEventListener(r,o,s),h.push(o),l&&l.push(r,g,m,s)}const u=i.outputs;let p;if(d&&null!==u&&(p=u[r])){const e=p.length;if(e)for(let n=0;n<e;n+=2){const e=t[p[n]][p[n+1]].subscribe(o),s=h.length;h.push(o,e),l&&l.push(r,i.index,s,-(s+1))}}}(o,r,r[11],s,e,t,n,i),Uo}function Wo(e,t,n){try{return!1!==t(n)}catch(i){return Kr(e,i),!1}}function qo(e,t,n,i){return function r(o){if(o===Function)return n;const s=2&e.flags?Mt(e.index,t):t;0==(32&t[2])&&Wr(s);let a=Wo(t,n,o),c=r.__ngNextListenerFn__;for(;c;)a=Wo(t,c,o)&&a,c=c.__ngNextListenerFn__;return i&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function $o(e=1){return function(e){return(Vt.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Vt.lFrame.contextLView))[8]}(e)}function Go(e,t){let n=null;const i=function(e){const t=e.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(e);for(let r=0;r<t.length;r++){const o=t[r];if("*"!==o){if(null===i?er(e,o,!0):tr(i,o))return r}else n=r}return n}function Yo(e){const t=Ut()[16][6];if(!t.projection){const n=t.projection=Fe(e?e.length:1,null),i=n.slice();let r=t.child;for(;null!==r;){const t=e?Go(r,e):0;null!==t&&(i[t]?i[t].projectionNext=r:n[t]=r,i[t]=r),r=r.next}}}function Xo(e,t=0,n){const i=Ut(),r=Wt(),o=mr(r,20+e,16,null,n||null);null===o.projection&&(o.projection=t),Kt(),64!=(64&o.flags)&&function(e,t,n){Wi(t[11],0,t,n,Ai(e,n,t),Li(n.parent||t[6],n,t))}(r,i,o)}function Ko(e,t,n){return Zo(e,"",t,"",n),Ko}function Zo(e,t,n,i,r){const o=Ut(),s=Po(o,t,n,i);return s!==rr&&Tr(Wt(),gn(),o,e,s,o[11],r,!1),Zo}const Qo=[];function Jo(e,t,n,i,r){const o=e[n+1],s=null===t;let a=i?cr(o):hr(o),c=!1;for(;0!==a&&(!1===c||s);){const n=e[a+1];es(e[a],t)&&(c=!0,e[a+1]=i?ur(n):lr(n)),a=i?cr(n):hr(n)}c&&(e[n+1]=i?lr(o):ur(o))}function es(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Be(e,t)>=0}const ts={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ns(e){return e.substring(ts.key,ts.keyEnd)}function is(e,t){const n=ts.textEnd;return n===t?-1:(t=ts.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,ts.key=t,n),rs(e,t,n))}function rs(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function os(e,t,n){return cs(e,t,n,!1),os}function ss(e,t){return cs(e,t,null,!0),ss}function as(e,t){for(let n=function(e){return function(e){ts.key=0,ts.keyEnd=0,ts.value=0,ts.valueEnd=0,ts.textEnd=e.length}(e),is(e,rs(e,0,ts.textEnd))}(t);n>=0;n=is(t,n))Le(e,ns(t),!0)}function cs(e,t,n,i){const r=Ut(),o=Wt(),s=en(2);o.firstUpdatePass&&hs(o,e,s,i),t!==rr&&Oo(r,s,t)&&ps(o,o.data[fn()],r,r[11],e,r[s+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=se(vn(e)))),e}(t,n),i,s)}function ls(e,t){return t>=e.expandoStartIndex}function hs(e,t,n,i){const r=e.data;if(null===r[n+1]){const o=r[fn()],s=ls(e,n);gs(o,i)&&null===t&&!s&&(t=!1),t=function(e,t,n,i){const r=function(e){const t=Vt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let o=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(n=us(n=ds(null,e,t,n,i),t.attrs,i),o=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==r)if(n=ds(r,e,t,n,i),null===o){let n=function(e,t,n){const i=n?t.classBindings:t.styleBindings;if(0!==hr(i))return e[cr(i)]}(e,t,i);void 0!==n&&Array.isArray(n)&&(n=ds(null,e,t,n[1],i),n=us(n,t.attrs,i),function(e,t,n,i){e[cr(n?t.classBindings:t.styleBindings)]=i}(e,t,i,n))}else o=function(e,t,n){let i=void 0;const r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++)i=us(i,e[o].hostAttrs,n);return us(i,t.attrs,n)}(e,t,i)}return void 0!==o&&(i?t.residualClasses=o:t.residualStyles=o),n}(r,o,t,i),function(e,t,n,i,r,o){let s=o?t.classBindings:t.styleBindings,a=cr(s),c=hr(s);e[i]=n;let l,h=!1;if(Array.isArray(n)){const e=n;l=e[1],(null===l||Be(e,l)>0)&&(h=!0)}else l=n;if(r)if(0!==c){const t=cr(e[a+1]);e[i+1]=ar(t,a),0!==t&&(e[t+1]=dr(e[t+1],i)),e[a+1]=131071&e[a+1]|i<<17}else e[i+1]=ar(a,0),0!==a&&(e[a+1]=dr(e[a+1],i)),a=i;else e[i+1]=ar(c,0),0===a?a=i:e[c+1]=dr(e[c+1],i),c=i;h&&(e[i+1]=lr(e[i+1])),Jo(e,l,i,!0),Jo(e,l,i,!1),function(e,t,n,i,r){const o=r?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&Be(o,t)>=0&&(n[i+1]=ur(n[i+1]))}(t,l,e,i,o),s=ar(a,c),o?t.classBindings=s:t.styleBindings=s}(r,o,t,n,s,i)}}function ds(e,t,n,i,r){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=t[a],i=us(i,o.hostAttrs,r),o!==e);)a++;return null!==e&&(n.directiveStylingLast=a),i}function us(e,t,n){const i=n?1:2;let r=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?r=s:r===i&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Le(e,s,!!n||t[++o]))}return void 0===e?null:e}function ps(e,t,n,i,r,o,s,a){if(!(3&t.type))return;const c=e.data,l=c[a+1];ms(1==(1&l)?fs(c,t,n,r,hr(l),s):void 0)||(ms(o)||2==(2&l)&&(o=fs(c,null,n,r,a,s)),function(e,t,n,i,r){const o=Tt(e);if(t)r?o?e.addClass(n,i):n.classList.add(i):o?e.removeClass(n,i):n.classList.remove(i);else{let t=-1===i.indexOf("-")?void 0:_i.DashCase;if(null==r)o?e.removeStyle(n,i,t):n.style.removeProperty(i);else{const s="string"==typeof r&&r.endsWith("!important");s&&(r=r.slice(0,-10),t|=_i.Important),o?e.setStyle(n,i,r,t):n.style.setProperty(i,r,s?"important":"")}}}(i,s,It(fn(),n),r,o))}function fs(e,t,n,i,r,o){const s=null===t;let a=void 0;for(;r>0;){const t=e[r],o=Array.isArray(t),c=o?t[1]:t,l=null===c;let h=n[r+1];h===rr&&(h=l?Qo:void 0);let d=l?je(h,i):c===i?h:void 0;if(o&&!ms(d)&&(d=je(t,i)),ms(d)&&(a=d,s))return a;const u=e[r+1];r=s?cr(u):hr(u)}if(null!==t){let e=o?t.residualClasses:t.residualStyles;null!=e&&(a=je(e,i))}return a}function ms(e){return void 0!==e}function gs(e,t){return 0!=(e.flags&(t?16:32))}function vs(e,t=""){const n=Ut(),i=Wt(),r=e+20,o=i.firstCreatePass?mr(i,r,1,t,null):i.data[r],s=n[r]=function(e,t){return Tt(e)?e.createText(t):e.createTextNode(t)}(n[11],t);Bi(i,n,s,o),Yt(o,!1)}function ys(e){return bs("",e,""),ys}function bs(e,t,n){const i=Ut(),r=Po(i,e,t,n);return r!==rr&&function(e,t,n){const i=It(t,e);!function(e,t,n){Tt(e)?e.setValue(t,n):t.textContent=n}(e[11],i,n)}(i,fn(),r),bs}function _s(e,t,n){const i=Ut();return Oo(i,Jt(),t)&&Tr(Wt(),gn(),i,e,t,i[11],n,!0),_s}const ws=void 0;var Cs=["en",[["a","p"],["AM","PM"],ws],[["AM","PM"],ws,ws],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ws,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ws,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ws,"{1} 'at' {0}",ws],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let Ss={};function ks(e){return e in Ss||(Ss[e]=Ee.ng&&Ee.ng.common&&Ee.ng.common.locales&&Ee.ng.common.locales[e]),Ss[e]}var xs=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}({});let Es="en-US";function Os(e){var t,n;n="Expected localeId to be defined",null==(t=e)&&function(e,t,n,i){throw new Error("ASSERTION ERROR: "+e+` [Expected=> null != ${t} <=Actual]`)}(n,t),"string"==typeof e&&(Es=e.toLowerCase().replace(/_/g,"-"))}function Ts(e,t,n,i,r){if(e=Pe(e),Array.isArray(e))for(let o=0;o<e.length;o++)Ts(e[o],t,n,i,r);else{const o=Wt(),s=Ut();let a=fo(e)?e:Pe(e.provide),c=ho(e);const l=$t(),h=1048575&l.providerIndexes,d=l.directiveStart,u=l.providerIndexes>>20;if(fo(e)||!e.multi){const i=new Fn(c,r,Io),p=Is(a,t,r?h:h+u,d);-1===p?(Qn(Yn(l,s),o,a),Ps(o,e,t.length),t.push(a),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),n.push(i),s.push(i)):(n[p]=i,s[p]=i)}else{const p=Is(a,t,h+u,d),f=Is(a,t,h,h+u),m=p>=0&&n[p],g=f>=0&&n[f];if(r&&!g||!r&&!m){Qn(Yn(l,s),o,a);const h=function(e,t,n,i,r){const o=new Fn(e,n,Io);return o.multi=[],o.index=t,o.componentProviders=0,Rs(o,r,i&&!n),o}(r?Ds:As,n.length,r,i,c);!r&&g&&(n[f].providerFactory=h),Ps(o,e,t.length,0),t.push(a),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),n.push(h),s.push(h)}else Ps(o,e,p>-1?p:f,Rs(n[r?f:p],c,!r&&i));!r&&i&&g&&n[f].componentProviders++}}}function Ps(e,t,n,i){const r=fo(t);if(r||t.useClass){const o=(t.useClass||t).prototype.ngOnDestroy;if(o){const s=e.destroyHooks||(e.destroyHooks=[]);if(!r&&t.multi){const e=s.indexOf(n);-1===e?s.push(n,[i,o]):s[e+1].push(i,o)}else s.push(n,o)}}}function Rs(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Is(e,t,n,i){for(let r=n;r<i;r++)if(t[r]===e)return r;return-1}function As(e,t,n,i){return Ms(this.multi,[])}function Ds(e,t,n,i){const r=this.multi;let o;if(this.providerFactory){const e=this.providerFactory.componentProviders,t=si(n,n[1],this.providerFactory.index,i);o=t.slice(0,e),Ms(r,o);for(let n=e;n<t.length;n++)o.push(t[n])}else o=[],Ms(r,o);return o}function Ms(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Ns(e,t=[]){return n=>{n.providersResolver=(n,i)=>function(e,t,n){const i=Wt();if(i.firstCreatePass){const r=Ot(e);Ts(n,i.data,i.blueprint,r,!0),Ts(t,i.data,i.blueprint,r,!1)}}(n,i?i(e):e,t)}}class Fs{}class Ls{resolveComponentFactory(e){throw function(e){const t=Error(`No component factory found for ${se(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(e)}}let js=(()=>{class e{}return e.NULL=new Ls,e})();function Bs(...e){}function zs(e,t){return new Hs(At(e,t))}const Vs=function(){return zs($t(),Ut())};let Hs=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=Vs,e})();class Us{}let Ws=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>qs(),e})();const qs=function(){const e=Ut(),t=Mt($t().index,e);return function(e){return e[11]}(Ct(t)?t:e)};let $s=(()=>{class e{}return e.\u0275prov=he({token:e,providedIn:"root",factory:()=>null}),e})();class Gs{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Ys=new Gs("11.0.2");class Xs{constructor(){}supports(e){return xo(e)}create(e){return new Zs(e)}}const Ks=(e,t)=>t;class Zs{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Ks}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,i=0,r=null;for(;t||n;){const o=!n||t&&t.currentIndex<ta(n,i,r)?t:n,s=ta(o,i,r),a=o.currentIndex;if(o===n)i--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{r||(r=[]);const e=s-i,t=a-i;if(e!=t){for(let n=0;n<e;n++){const i=n<r.length?r[n]:r[n]=0,o=i+n;t<=o&&o<e&&(r[n]=i+1)}r[o.previousIndex]=t-e}}s!==a&&e(o,s,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!xo(e))throw new Error(`Error trying to diff '${se(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,i,r=this._itHead,o=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)n=e[t],i=this._trackByFn(t,n),null!==r&&Object.is(r.trackById,i)?(o&&(r=this._verifyReinsertion(r,n,i,t)),Object.is(r.item,n)||this._addIdentityChange(r,n)):(r=this._mismatch(r,n,i,t),o=!0),r=r._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[ko()]();let i;for(;!(i=n.next()).done;)t(i.value)}}(e,e=>{i=this._trackByFn(t,e),null!==r&&Object.is(r.trackById,i)?(o&&(r=this._verifyReinsertion(r,e,i,t)),Object.is(r.item,e)||this._addIdentityChange(r,e)):(r=this._mismatch(r,e,i,t),o=!0),r=r._next,t++}),this.length=t;return this._truncate(r),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,i){let r;return null===e?r=this._itTail:(r=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,r,i)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,r,i)):e=this._addAfter(new Qs(t,n),r,i),e}_verifyReinsertion(e,t,n,i){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?e=this._reinsertAfter(r,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,r=e._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new ea),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ea),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Qs{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Js{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class ea{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new Js,this.map.set(t,n)),n.add(e)}get(e,t){const n=this.map.get(e);return n?n.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ta(e,t,n){const i=e.previousIndex;if(null===i)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+t+r}class na{constructor(){}supports(e){return e instanceof Map||Eo(e)}create(){return new ia}}class ia{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Eo(e)))throw new Error(`Error trying to diff '${se(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const i=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,i)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}const n=new ra(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class ra{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let oa=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(null!=n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new oe,new ie]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`);var n}}return e.\u0275prov=he({token:e,providedIn:"root",factory:()=>new e([new Xs])}),e})(),sa=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new oe,new ie]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.\u0275prov=he({token:e,providedIn:"root",factory:()=>new e([new na])}),e})();function aa(e,t,n,i,r=!1){for(;null!==n;){const o=t[n.index];if(null!==o&&i.push(Rt(o)),St(o))for(let e=10;e<o.length;e++){const t=o[e],n=t[1].firstChild;null!==n&&aa(t[1],t,n,i)}const s=n.type;if(8&s)aa(e,t,n.child,i);else if(32&s){const e=wi(n,t);let r;for(;r=e();)i.push(r)}else if(16&s){const e=t[16],r=e[6].projection[n.projection];if(Array.isArray(r))i.push(...r);else{const t=Ci(e);aa(t[1],t,r,i,!0)}}n=r?n.projectionNext:n.next}return i}class ca{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const e=this._lView,t=e[1];return aa(t,e,t.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const e=this._viewContainerRef.indexOf(this);e>-1&&this._viewContainerRef.detach(e),this._viewContainerRef=null}Ri(this._lView[1],this._lView)}onDestroy(e){Er(this._lView[1],this._lView,null,e)}markForCheck(){Wr(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){qr(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){Qt(!0);try{qr(e,t,n)}finally{Qt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}detachFromAppRef(){var e;this._appRef=null,Ui(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class la extends ca{constructor(e){super(e),this._view=e}detectChanges(){$r(this._view)}checkNoChanges(){!function(e){Qt(!0);try{$r(e)}finally{Qt(!1)}}(this._view)}get context(){return null}}const ha=function(e=!1){return function(e,t,n){if(!n&&xt(e)){const n=Mt(e.index,t);return new ca(n,n)}return 47&e.type?new ca(t[16],t):null}($t(),Ut(),e)};let da=(()=>{class e{}return e.__NG_ELEMENT_ID__=ha,e.__ChangeDetectorRef__=!0,e})();const ua=[new na],pa=new oa([new Xs]),fa=new sa(ua),ma=function(){return ba($t(),Ut())};let ga=(()=>{class e{}return e.__NG_ELEMENT_ID__=ma,e})();const va=ga,ya=class extends va{constructor(e,t,n){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=n}createEmbeddedView(e){const t=this._declarationTContainer.tViews,n=fr(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const i=this._declarationLView[19];return null!==i&&(n[19]=i.createEmbeddedView(t)),vr(t,n,e),new ca(n)}};function ba(e,t){return 4&e.type?new ya(t,e,zs(e,t)):null}class _a{}class wa{}const Ca=function(){return Ta($t(),Ut())};let Sa=(()=>{class e{}return e.__NG_ELEMENT_ID__=Ca,e})();const ka=Sa,xa=class extends ka{constructor(e,t,n){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=n}get element(){return zs(this._hostTNode,this._hostLView)}get injector(){return new li(this._hostTNode,this._hostLView)}get parentInjector(){const e=Zn(this._hostTNode,this._hostLView);if(Hn(e)){const t=Wn(e,this._hostLView),n=Un(e);return new li(t[1].data[n+8],t)}return new li(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=Ea(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,n){const i=e.createEmbeddedView(t||{});return this.insert(i,n),i}createComponent(e,t,n,i,r){const o=n||this.parentInjector;if(!r&&null==e.ngModule&&o){const e=o.get(_a,null);e&&(r=e)}const s=e.create(o,i,void 0,r);return this.insert(s.hostView,t),s}insert(e,t){const n=e._lView,i=n[1];if(St(n[3])){const t=this.indexOf(e);if(-1!==t)this.detach(t);else{const t=n[3],i=new xa(t,t[6],t[3]);i.detach(i.indexOf(e))}}const r=this._adjustIndex(t),o=this._lContainer;!function(e,t,n,i){const r=10+i,o=n.length;i>0&&(n[r-1][4]=t),i<o-10?(t[4]=n[r],Me(n,10+i,t)):(n.push(t),t[4]=null),t[3]=n;const s=t[17];null!==s&&n!==s&&function(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(s,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=128}(i,n,o,r);const s=Vi(r,o),a=n[11],c=Fi(a,o[7]);return null!==c&&function(e,t,n,i,r,o){i[0]=r,i[6]=t,Ui(e,i,n,1,r,o)}(i,o[6],a,n,c,s),e.attachToViewContainerRef(this),Me(Oa(o),r,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=Ea(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),n=Pi(this._lContainer,t);n&&(Ne(Oa(this._lContainer),t),Ri(n[1],n))}detach(e){const t=this._adjustIndex(e,-1),n=Pi(this._lContainer,t);return n&&null!=Ne(Oa(this._lContainer),t)?new ca(n):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function Ea(e){return e[8]}function Oa(e){return e[8]||(e[8]=[])}function Ta(e,t){let n;const i=t[e.index];if(St(i))n=i;else{let r;if(8&e.type)r=Rt(i);else{const n=t[11];r=n.createComment("");const i=At(e,t);Di(n,Fi(n,i),r,function(e,t){return Tt(e)?e.nextSibling(t):t.nextSibling}(n,i),!1)}t[e.index]=n=Br(i,t,r,e),Ur(t,n)}return new xa(n,e,t)}const Pa={};class Ra extends js{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=rt(e);return new Da(t,this.ngModule)}}function Ia(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const Aa=new be("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>vi});class Da extends Fs{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map(ir).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return Ia(this.componentDef.inputs)}get outputs(){return Ia(this.componentDef.outputs)}create(e,t,n,i){const r=(i=i||this.ngModule)?function(e,t){return{get:(n,i,r)=>{const o=e.get(n,Pa,r);return o!==Pa||i===Pa?o:t.get(n,i,r)}}}(e,i.injector):e,o=r.get(Us,Pt),s=r.get($s,null),a=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",l=n?function(e,t,n){if(Tt(e))return e.selectRootElement(t,n===ze.ShadowDom);let i="string"==typeof t?e.querySelector(t):t;return i.textContent="",i}(a,n,this.componentDef.encapsulation):Oi(o.createRenderer(null,this.componentDef),c,function(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(c)),h=this.componentDef.onPush?576:528,d={components:[],scheduler:vi,clean:Yr,playerHandler:null,flags:0},u=xr(0,null,null,1,0,null,null,null,null,null),p=fr(null,u,d,h,null,null,o,a,s,r);let f,m;cn(p);try{const e=function(e,t,n,i,r,o){const s=n[1];n[20]=e;const a=mr(s,20,2,"#host",null),c=a.mergedAttrs=t.hostAttrs;null!==c&&(Qr(a,c,!0),null!==e&&(Ln(r,e,c),null!==a.classes&&$i(r,e,a.classes),null!==a.styles&&qi(r,e,a.styles)));const l=i.createRenderer(e,t),h=fr(n,kr(t),null,t.onPush?64:16,n[20],a,i,l,null,null);return s.firstCreatePass&&(Qn(Yn(a,n),s,t.type),Ar(s,a),Mr(a,n.length,1)),Ur(n,h),n[20]=h}(l,this.componentDef,p,o,a);if(l)if(n)Ln(a,l,["ng-version",Ys.full]);else{const{attrs:e,classes:t}=function(e){const t=[],n=[];let i=1,r=2;for(;i<e.length;){let o=e[i];if("string"==typeof o)2===r?""!==o&&t.push(o,e[++i]):8===r&&n.push(o);else{if(!Qi(r))break;r=o}i++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);e&&Ln(a,l,e),t&&t.length>0&&$i(a,l,t.join(" "))}if(m=Dt(u,20),void 0!==t){const e=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const i=t[n];e.push(null!=i?Array.from(i):null)}}f=function(e,t,n,i,r){const o=n[1],s=function(e,t,n){const i=$t();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Nr(e,i,t,gr(e,t,1,null),n));const r=si(t,e,i.directiveStart,i);gi(r,t);const o=At(i,t);return o&&gi(o,t),r}(o,n,t);if(i.components.push(s),e[8]=s,r&&r.forEach(e=>e(s,t)),t.contentQueries){const e=$t();t.contentQueries(1,s,e.directiveStart)}const a=$t();return!o.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(mn(a.index),Rr(n[1],a,0,a.directiveStart,a.directiveEnd,t),Ir(t,s)),s}(e,this.componentDef,p,d,[vo]),vr(u,p,null)}finally{pn()}return new Ma(this.componentType,f,zs(m,p),p,m)}}class Ma extends class{}{constructor(e,t,n,i,r){super(),this.location=n,this._rootLView=i,this._tNode=r,this.destroyCbs=[],this.instance=t,this.hostView=this.changeDetectorRef=new la(i),this.componentType=e}get injector(){return new li(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(e=>e()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(e){this.destroyCbs&&this.destroyCbs.push(e)}}const Na=new Map;class Fa extends _a{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ra(this);const n=ot(e),i=e[Ge]||null;i&&Os(i),this._bootstrapComponents=bi(n.bootstrap),this._r3Injector=ao(e,t,[{provide:_a,useValue:this},{provide:js,useValue:this.componentFactoryResolver}],se(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=go.THROW_IF_NOT_FOUND,n=ct.Default){return e===go||e===_a||e===Jr?this:this._r3Injector.get(e,t,n)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class La extends wa{constructor(e){super(),this.moduleType=e,null!==ot(e)&&function(e){const t=new Set;!function e(n){const i=ot(n,!0),r=i.id;null!==r&&(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${se(t)} vs ${se(t.name)}`)}(r,Na.get(r),n),Na.set(r,n));const o=bi(i.imports);for(const s of o)t.has(s)||(t.add(s),e(s))}(e)}(e)}create(e){return new Fa(this.moduleType,e)}}const ja=class extends S{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){let i,r=e=>null,o=()=>null;e&&"object"==typeof e?(i=this.__isAsync?t=>{setTimeout(()=>e.next(t))}:t=>{e.next(t)},e.error&&(r=this.__isAsync?t=>{setTimeout(()=>e.error(t))}:t=>{e.error(t)}),e.complete&&(o=this.__isAsync?()=>{setTimeout(()=>e.complete())}:()=>{e.complete()})):(i=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)},t&&(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const s=super.subscribe(i,r,o);return e instanceof d&&e.add(s),s}};function Ba(){return this._results[ko()]()}class za{constructor(){this.dirty=!0,this._results=[],this.changes=new ja,this.length=0;const e=ko(),t=za.prototype;t[e]||(t[e]=Ba)}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e){this._results=Ae(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Va{constructor(e){this.queryList=e,this.matches=null}clone(){return new Va(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ha{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const n=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let e=0;e<n;e++){const n=t.getByIndex(e);i.push(this.queries[n.indexInDeclarationView].clone())}return new Ha(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==oc(e,t).matches&&this.queries[t].setDirty()}}class Ua{constructor(e,t,n,i=null){this.predicate=e,this.descendants=t,this.isStatic=n,this.read=i}}class Wa{constructor(e=[]){this.queries=e}elementStart(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let n=0;n<this.length;n++){const i=null!==t?t.length:0,r=this.getByIndex(n).embeddedTView(e,i);r&&(r.indexInDeclarationView=n,null!==t?t.push(r):t=[r])}return null!==t?new Wa(t):null}template(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class qa{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new qa(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&!1===this.metadata.descendants){const t=this._declarationNodeIndex;let n=e.parent;for(;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const n=this.metadata.predicate;if(Array.isArray(n))for(let i=0;i<n.length;i++){const r=n[i];this.matchTNodeWithReadOption(e,t,$a(t,r)),this.matchTNodeWithReadOption(e,t,oi(t,e,r,!1,!1))}else n===ga?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,oi(t,e,n,!1,!1))}matchTNodeWithReadOption(e,t,n){if(null!==n){const i=this.metadata.read;if(null!==i)if(i===Hs||i===Sa||i===ga&&4&t.type)this.addMatch(t.index,-2);else{const n=oi(t,e,i,!1,!1);null!==n&&this.addMatch(t.index,n)}else this.addMatch(t.index,n)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function $a(e,t){const n=e.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1];return null}function Ga(e,t,n,i){return-1===n?function(e,t){return 11&e.type?zs(e,t):4&e.type?ba(e,t):null}(t,e):-2===n?function(e,t,n){return n===Hs?zs(t,e):n===ga?ba(t,e):n===Sa?Ta(t,e):void 0}(e,t,i):si(e,e[1],n,t)}function Ya(e,t,n,i){const r=t[19].queries[i];if(null===r.matches){const i=e.data,o=n.matches,s=[];for(let e=0;e<o.length;e+=2){const r=o[e];s.push(r<0?null:Ga(t,i[r],o[e+1],n.metadata.read))}r.matches=s}return r.matches}function Xa(e,t,n,i){const r=e.queries.getByIndex(n),o=r.matches;if(null!==o){const s=Ya(e,t,r,n);for(let e=0;e<o.length;e+=2){const n=o[e];if(n>0)i.push(s[e/2]);else{const r=o[e+1],s=t[-n];for(let e=10;e<s.length;e++){const t=s[e];t[17]===t[3]&&Xa(t[1],t,r,i)}if(null!==s[9]){const e=s[9];for(let t=0;t<e.length;t++){const n=e[t];Xa(n[1],n,r,i)}}}}}return i}function Ka(e){const t=Ut(),n=Wt(),i=rn();on(i+1);const r=oc(n,i);if(e.dirty&&Ft(t)===r.metadata.isStatic){if(null===r.matches)e.reset([]);else{const o=r.crossesNgTemplate?Xa(n,t,i,[]):Ya(n,t,r,i);e.reset(o),e.notifyOnChanges()}return!0}return!1}function Za(e,t,n){Qa(Wt(),Ut(),e,t,n,!1)}function Qa(e,t,n,i,r,o){e.firstCreatePass&&(rc(e,new Ua(n,i,o,r),-1),o&&(e.staticViewQueries=!0)),ic(e,t)}function Ja(e,t,n,i){tc(Wt(),Ut(),t,n,i,!1,$t(),e)}function ec(e,t,n,i){tc(Wt(),Ut(),t,n,i,!0,$t(),e)}function tc(e,t,n,i,r,o,s,a){e.firstCreatePass&&(rc(e,new Ua(n,i,o,r),s.index),function(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(e,a),o&&(e.staticContentQueries=!0)),ic(e,t)}function nc(){return e=Ut(),t=rn(),e[19].queries[t].queryList;var e,t}function ic(e,t){const n=new za;Er(e,t,n,n.destroy),null===t[19]&&(t[19]=new Ha),t[19].queries.push(new Va(n))}function rc(e,t,n){null===e.queries&&(e.queries=new Wa),e.queries.track(new qa(t,n))}function oc(e,t){return e.queries.getByIndex(t)}function sc(e,t){return ba(e,t)}const ac=new be("Application Initializer");let cc=(()=>{class e{constructor(e){this.appInits=e,this.resolve=Bs,this.reject=Bs,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();Vo(t)&&e.push(t)}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)(yt(ac,8))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const lc=new be("AppId"),hc={provide:lc,useFactory:function(){return`${dc()}${dc()}${dc()}`},deps:[]};function dc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const uc=new be("Platform Initializer"),pc=new be("Platform ID"),fc=new be("appBootstrapListener");let mc=(()=>{class e{log(e){console.log(e)}warn(e){console.warn(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const gc=new be("LocaleId"),vc=new be("DefaultCurrencyCode");class yc{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const bc=function(e){return new La(e)},_c=bc,wc=function(e){return Promise.resolve(bc(e))},Cc=function(e){const t=bc(e),n=bi(ot(e).declarations).reduce((e,t)=>{const n=rt(t);return n&&e.push(new Da(n)),e},[]);return new yc(t,n)},Sc=Cc,kc=function(e){return Promise.resolve(Cc(e))};let xc=(()=>{class e{constructor(){this.compileModuleSync=_c,this.compileModuleAsync=wc,this.compileModuleAndAllComponentsSync=Sc,this.compileModuleAndAllComponentsAsync=kc}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const Ec=(()=>Promise.resolve(0))();function Oc(e){"undefined"==typeof Zone?Ec.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Tc{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ja(!1),this.onMicrotaskEmpty=new ja(!1),this.onStable=new ja(!1),this.onError=new ja(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=t,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let e=Ee.requestAnimationFrame,t=Ee.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=!!e.shouldCoalesceEventChangeDetection&&e.nativeRequestAnimationFrame&&(()=>{!function(e){-1===e.lastRequestAnimationFrameId&&(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Ee,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Ac(e),Ic(e)},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Ac(e))}(e)});e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:t},onInvokeTask:(n,i,r,o,s,a)=>{try{return Dc(e),n.invokeTask(r,o,s,a)}finally{t&&"eventTask"===o.type&&t(),Mc(e)}},onInvoke:(t,n,i,r,o,s,a)=>{try{return Dc(e),t.invoke(i,r,o,s,a)}finally{Mc(e)}},onHasTask:(t,n,i,r)=>{t.hasTask(i,r),n===i&&("microTask"==r.change?(e._hasPendingMicrotasks=r.microTask,Ac(e),Ic(e)):"macroTask"==r.change&&(e.hasPendingMacrotasks=r.macroTask))},onHandleError:(t,n,i,r)=>(t.handleError(i,r),e.runOutsideAngular(()=>e.onError.emit(r)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Tc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Tc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,i){const r=this._inner,o=r.scheduleEventTask("NgZoneEvent: "+i,e,Rc,Pc,Pc);try{return r.runTask(o,t,n)}finally{r.cancelTask(o)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}function Pc(){}const Rc={};function Ic(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Ac(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||e.shouldCoalesceEventChangeDetection&&-1!==e.lastRequestAnimationFrameId)}function Dc(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Mc(e){e._nesting--,Ic(e)}class Nc{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ja,this.onMicrotaskEmpty=new ja,this.onStable=new ja,this.onError=new ja}run(e,t,n){return e.apply(t,n)}runGuarded(e,t,n){return e.apply(t,n)}runOutsideAngular(e){return e()}runTask(e,t,n,i){return e.apply(t,n)}}let Fc=(()=>{class e{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Tc.assertNotInAngularZone(),Oc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Oc(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let i=-1;t&&t>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==i),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}return e.\u0275fac=function(t){return new(t||e)(yt(Tc))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),Lc=(()=>{class e{constructor(){this._applications=new Map,zc.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return zc.findTestabilityInTree(this,e,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();class jc{addToWindow(e){}findTestabilityInTree(e,t,n){return null}}let Bc,zc=new jc;const Vc=new be("AllowMultipleToken");class Hc{constructor(e,t){this.name=e,this.token=t}}function Uc(e,t,n=[]){const i="Platform: "+t,r=new be(i);return(t=[])=>{let o=Wc();if(!o||o.injector.get(Vc,!1))if(e)e(n.concat(t).concat({provide:r,useValue:!0}));else{const e=n.concat(t).concat({provide:r,useValue:!0},{provide:to,useValue:"platform"});!function(e){if(Bc&&!Bc.destroyed&&!Bc.injector.get(Vc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Bc=e.get(qc);const t=e.get(uc,null);t&&t.forEach(e=>e())}(go.create({providers:e,name:i}))}return function(e){const t=Wc();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(r)}}function Wc(){return Bc&&!Bc.destroyed?Bc:null}let qc=(()=>{class e{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n=function(e,t){let n;return n="noop"===e?new Nc:("zone.js"===e?void 0:e)||new Tc({enableLongStackTrace:_n(),shouldCoalesceEventChangeDetection:t}),n}(t?t.ngZone:void 0,t&&t.ngZoneEventCoalescing||!1),i=[{provide:Tc,useValue:n}];return n.run(()=>{const t=go.create({providers:i,parent:this.injector,name:e.moduleType.name}),r=e.create(t),o=r.injector.get(mi,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return r.onDestroy(()=>Yc(this._modules,r)),n.runOutsideAngular(()=>n.onError.subscribe({next:e=>{o.handleError(e)}})),function(e,t,n){try{const i=n();return Vo(i)?i.catch(n=>{throw t.runOutsideAngular(()=>e.handleError(n)),n}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}(o,n,()=>{const e=r.injector.get(cc);return e.runInitializers(),e.donePromise.then(()=>(Os(r.injector.get(gc,"en-US")||"en-US"),this._moduleDoBootstrap(r),r))})})}bootstrapModule(e,t=[]){const n=$c({},t);return function(e,t,n){const i=new La(n);return Promise.resolve(i)}(0,0,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(Gc);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${se(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(yt(go))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();function $c(e,t){return Array.isArray(t)?t.reduce($c,e):Object.assign(Object.assign({},e),t)}let Gc=(()=>{class e{constructor(e,t,n,i,r,o){this._zone=e,this._console=t,this._injector=n,this._exceptionHandler=i,this._componentFactoryResolver=r,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=_n(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new y(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),a=new y(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{Tc.assertNotInAngularZone(),Oc(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Tc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=q(s,a.pipe(J()))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof Fs?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const i=n.isBoundToModule?void 0:this._injector.get(_a),r=n.create(go.NULL,[],t||n.selector,i);r.onDestroy(()=>{this._unloadComponent(r)});const o=r.injector.get(Fc,null);return o&&r.injector.get(Lc).registerApplication(r.location.nativeElement,o),this._loadComponent(r),_n()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),r}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges();if(this._enforceNoNewChanges)for(let e of this._views)e.checkNoChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;Yc(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(fc,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}_unloadComponent(e){this.detachView(e.hostView),Yc(this.components,e)}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy())}get viewCount(){return this._views.length}}return e.\u0275fac=function(t){return new(t||e)(yt(Tc),yt(mc),yt(go),yt(mi),yt(js),yt(cc))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();function Yc(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Xc{}class Kc{}const Zc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Qc=(()=>{class e{constructor(e,t){this._compiler=e,this._config=t||Zc}load(e){return this.loadAndCompile(e)}loadAndCompile(e){let[t,i]=e.split("#");return void 0===i&&(i="default"),n("zn8P")(t).then(e=>e[i]).then(e=>Jc(e,t,i)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,i]=e.split("#"),r="NgFactory";return void 0===i&&(i="default",r=""),n("zn8P")(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[i+r]).then(e=>Jc(e,t,i))}}return e.\u0275fac=function(t){return new(t||e)(yt(xc),yt(Kc,8))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();function Jc(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}const el=Uc(null,"core",[{provide:pc,useValue:"unknown"},{provide:qc,deps:[go]},{provide:Lc,deps:[]},{provide:mc,deps:[]}]),tl=[{provide:Gc,useClass:Gc,deps:[Tc,mc,go,mi,js,cc]},{provide:Aa,deps:[Tc],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:cc,useClass:cc,deps:[[new ie,ac]]},{provide:xc,useClass:xc,deps:[]},hc,{provide:oa,useFactory:function(){return pa},deps:[]},{provide:sa,useFactory:function(){return fa},deps:[]},{provide:gc,useFactory:function(e){return Os(e=e||"undefined"!=typeof $localize&&$localize.locale||"en-US"),e},deps:[[new ne(gc),new ie,new oe]]},{provide:vc,useValue:"USD"}];let nl=(()=>{class e{constructor(e){}}return e.\u0275mod=tt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)(yt(Gc))},providers:tl}),e})(),il=null;function rl(){return il}const ol=new be("DocumentToken");let sl=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({factory:al,token:e,providedIn:"platform"}),e})();function al(){return yt(ll)}const cl=new be("Location Initialized");let ll=(()=>{class e extends sl{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=rl().getLocation(),this._history=rl().getHistory()}getBaseHrefFromDOM(){return rl().getBaseHref(this._doc)}onPopState(e){rl().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}onHashChange(e){rl().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){hl()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){hl()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)(yt(ol))},e.\u0275prov=he({factory:dl,token:e,providedIn:"platform"}),e})();function hl(){return!!window.history.pushState}function dl(){return new ll(yt(ol))}function ul(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function pl(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function fl(e){return e&&"?"!==e[0]?"?"+e:e}let ml=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({factory:gl,token:e,providedIn:"root"}),e})();function gl(e){const t=yt(ol).location;return new yl(yt(sl),t&&t.origin||"")}const vl=new be("appBaseHref");let yl=(()=>{class e extends ml{constructor(e,t){if(super(),this._platformLocation=e,null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ul(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+fl(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,i){const r=this.prepareExternalUrl(n+fl(i));this._platformLocation.pushState(e,t,r)}replaceState(e,t,n,i){const r=this.prepareExternalUrl(n+fl(i));this._platformLocation.replaceState(e,t,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return e.\u0275fac=function(t){return new(t||e)(yt(sl),yt(vl,8))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),bl=(()=>{class e extends ml{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",null!=t&&(this._baseHref=t)}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=ul(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,i){let r=this.prepareExternalUrl(n+fl(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(e,t,r)}replaceState(e,t,n,i){let r=this.prepareExternalUrl(n+fl(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return e.\u0275fac=function(t){return new(t||e)(yt(sl),yt(vl,8))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),_l=(()=>{class e{constructor(e,t){this._subject=new ja,this._urlChangeListeners=[],this._platformStrategy=e;const n=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=pl(Cl(n)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+fl(t))}normalize(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,Cl(t)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",n=null){this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+fl(t)),n)}replaceState(e,t="",n=null){this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+fl(t)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)}))}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(n=>n(e,t))}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}return e.\u0275fac=function(t){return new(t||e)(yt(ml),yt(sl))},e.normalizeQueryParams=fl,e.joinWithSlash=ul,e.stripTrailingSlash=pl,e.\u0275prov=he({factory:wl,token:e,providedIn:"root"}),e})();function wl(){return new _l(yt(ml),yt(sl))}function Cl(e){return e.replace(/\/index.html$/,"")}var Sl=function(e){return e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Few=3]="Few",e[e.Many=4]="Many",e[e.Other=5]="Other",e}({});class kl{}let xl=(()=>{class e extends kl{constructor(e){super(),this.locale=e}getPluralCategory(e,t){switch(function(e){return function(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=ks(t);if(n)return n;const i=t.split("-")[0];if(n=ks(i),n)return n;if("en"===i)return Cs;throw new Error(`Missing locale data for the locale "${e}".`)}(e)[xs.PluralCase]}(t||this.locale)(e)){case Sl.Zero:return"zero";case Sl.One:return"one";case Sl.Two:return"two";case Sl.Few:return"few";case Sl.Many:return"many";default:return"other"}}}return e.\u0275fac=function(t){return new(t||e)(yt(gc))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();function El(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[i,r]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(i.trim()===t)return decodeURIComponent(r)}return null}let Ol=(()=>{class e{constructor(e,t,n,i){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=n,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(xo(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachChangedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachRemovedItem(e=>{e.previousValue&&this._toggleClass(e.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(e=>{if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+se(e.item));this._toggleClass(e.item,!0)}),e.forEachRemovedItem(e=>this._toggleClass(e.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!0)):Object.keys(e).forEach(t=>this._toggleClass(t,!!e[t])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!1)):Object.keys(e).forEach(e=>this._toggleClass(e,!1)))}_toggleClass(e,t){(e=e.trim())&&e.split(/\s+/g).forEach(e=>{t?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)})}}return e.\u0275fac=function(t){return new(t||e)(Io(oa),Io(sa),Io(Hs),Io(Ws))},e.\u0275dir=it({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e})(),Tl=(()=>{class e{constructor(e,t){this._viewContainer=e,this._context=new Pl,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Rl("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Rl("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(Io(Sa),Io(ga))},e.\u0275dir=it({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e})();class Pl{constructor(){this.$implicit=null,this.ngIf=null}}function Rl(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${se(t)}'.`)}class Il{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Al=(()=>{class e{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let t=0;t<this._defaultViews.length;t++)this._defaultViews[t].enforceState(e)}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=it({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),e})(),Dl=(()=>{class e{constructor(e,t,n){this.ngSwitch=n,n._addCase(),this._view=new Il(e,t)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return e.\u0275fac=function(t){return new(t||e)(Io(Sa),Io(ga),Io(Al,1))},e.\u0275dir=it({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),e})(),Ml=(()=>{class e{constructor(e,t,n){n._addDefault(new Il(e,t))}}return e.\u0275fac=function(t){return new(t||e)(Io(Sa),Io(ga),Io(Al,1))},e.\u0275dir=it({type:e,selectors:[["","ngSwitchDefault",""]]}),e})(),Nl=(()=>{class e{constructor(e,t,n){this._ngEl=e,this._differs=t,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,t){const[n,i]=e.split(".");null!=(t=null!=t&&i?`${t}${i}`:t)?this._renderer.setStyle(this._ngEl.nativeElement,n,t):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(e){e.forEachRemovedItem(e=>this._setStyle(e.key,null)),e.forEachAddedItem(e=>this._setStyle(e.key,e.currentValue)),e.forEachChangedItem(e=>this._setStyle(e.key,e.currentValue))}}return e.\u0275fac=function(t){return new(t||e)(Io(Hs),Io(sa),Io(Ws))},e.\u0275dir=it({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),e})(),Fl=(()=>{class e{}return e.\u0275mod=tt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)},providers:[{provide:kl,useClass:xl}]}),e})(),Ll=(()=>{class e{}return e.\u0275prov=he({token:e,providedIn:"root",factory:()=>new jl(yt(ol),window,yt(mi))}),e})();class jl{constructor(e,t,n){this.document=e,this.window=t,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(this.supportsScrolling()){const t=this.document.getElementById(e)||this.document.getElementsByName(e)[0];t&&this.scrollToElement(t)}}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],i-r[1])}supportScrollRestoration(){try{if(!this.window||!this.window.scrollTo)return!1;const e=Bl(this.window.history)||Bl(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window.scrollTo}catch(e){return!1}}}function Bl(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class zl extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var e;e=new zl,il||(il=e)}getProperty(e,t){return e[t]}log(e){window.console&&window.console.log&&window.console.log(e)}logGroup(e){window.console&&window.console.group&&window.console.group(e)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){return e.parentNode&&e.parentNode.removeChild(e),e}getValue(e){return e.value}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(e){const t=Hl||(Hl=document.querySelector("base"),Hl)?Hl.getAttribute("href"):null;return null==t?null:(n=t,Vl||(Vl=document.createElement("a")),Vl.setAttribute("href",n),"/"===Vl.pathname.charAt(0)?Vl.pathname:"/"+Vl.pathname);var n}resetBaseElement(){Hl=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(e){return El(document.cookie,e)}}let Vl,Hl=null;const Ul=new be("TRANSITION_ID"),Wl=[{provide:ac,useFactory:function(e,t,n){return()=>{n.get(cc).donePromise.then(()=>{const n=rl();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(t=>t.getAttribute("ng-transition")===e).forEach(e=>n.remove(e))})}},deps:[Ul,ol,go],multi:!0}];class ql{static init(){var e;e=new ql,zc=e}addToWindow(e){Ee.getAngularTestability=(t,n=!0)=>{const i=e.findTestabilityInTree(t,n);if(null==i)throw new Error("Could not find testability for element.");return i},Ee.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ee.getAllAngularRootElements=()=>e.getAllRootElements(),Ee.frameworkStabilizers||(Ee.frameworkStabilizers=[]),Ee.frameworkStabilizers.push(e=>{const t=Ee.getAllAngularTestabilities();let n=t.length,i=!1;const r=function(t){i=i||t,n--,0==n&&e(i)};t.forEach(function(e){e.whenStable(r)})})}findTestabilityInTree(e,t,n){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:n?rl().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}const $l=new be("EventManagerPlugins");let Gl=(()=>{class e{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let i=0;i<n.length;i++){const t=n[i];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error("No event manager plugin found for event "+e)}}return e.\u0275fac=function(t){return new(t||e)(yt($l),yt(Tc))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();class Yl{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const i=rl().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,n)}}let Xl=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),Kl=(()=>{class e extends Xl{constructor(e){super(),this._doc=e,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(e.head)}_addStylesToHost(e,t){e.forEach(e=>{const n=this._doc.createElement("style");n.textContent=e,this._styleNodes.add(t.appendChild(n))})}addHost(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}removeHost(e){this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach(t=>this._addStylesToHost(e,t))}ngOnDestroy(){this._styleNodes.forEach(e=>rl().remove(e))}}return e.\u0275fac=function(t){return new(t||e)(yt(ol))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const Zl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ql=/%COMP%/g;function Jl(e,t,n){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Jl(e,r,n):(r=r.replace(Ql,e),n.push(r))}return n}function eh(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let th=(()=>{class e{constructor(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new nh(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case ze.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new ih(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case 1:case ze.ShadowDom:return new rh(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=Jl(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(yt(Gl),yt(Kl),yt(lc))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();class nh{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(Zl[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,i){if(i){t=i+":"+t;const r=Zl[i];r?e.setAttributeNS(r,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const i=Zl[n];i?e.removeAttributeNS(i,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,i){i&(_i.DashCase|_i.Important)?e.style.setProperty(t,n,i&_i.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&_i.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,eh(n)):this.eventManager.addEventListener(e,t,eh(n))}}class ih extends nh{constructor(e,t,n,i){super(e),this.component=n;const r=Jl(i+"-"+n.id,n.styles,[]);t.addStyles(r),this.contentAttr="_ngcontent-%COMP%".replace(Ql,i+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(Ql,i+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class rh extends nh{constructor(e,t,n,i){super(e),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const r=Jl(i.id,i.styles,[]);for(let o=0;o<r.length;o++){const e=document.createElement("style");e.textContent=r[o],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let oh=(()=>{class e extends Yl{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,n){return e.addEventListener(t,n,!1),()=>this.removeEventListener(e,t,n)}removeEventListener(e,t,n){return e.removeEventListener(t,n)}}return e.\u0275fac=function(t){return new(t||e)(yt(ol))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const sh=["alt","control","meta","shift"],ah={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ch={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},lh={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let hh=(()=>{class e extends Yl{constructor(e){super(e)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,n,i){const r=e.parseEventName(n),o=e.eventCallback(r.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>rl().onAndCancel(t,r.domEventName,o))}static parseEventName(t){const n=t.toLowerCase().split("."),i=n.shift();if(0===n.length||"keydown"!==i&&"keyup"!==i)return null;const r=e._normalizeKey(n.pop());let o="";if(sh.forEach(e=>{const t=n.indexOf(e);t>-1&&(n.splice(t,1),o+=e+".")}),o+=r,0!=n.length||0===r.length)return null;const s={};return s.domEventName=i,s.fullKey=o,s}static getEventFullKey(e){let t="",n=function(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&ch.hasOwnProperty(t)&&(t=ch[t]))}return ah[t]||t}(e);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),sh.forEach(i=>{i!=n&&(0,lh[i])(e)&&(t+=i+".")}),t+=n,t}static eventCallback(t,n,i){return r=>{e.getEventFullKey(r)===t&&i.runGuarded(()=>n(r))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return e.\u0275fac=function(t){return new(t||e)(yt(ol))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const dh=Uc(el,"browser",[{provide:pc,useValue:"browser"},{provide:uc,useValue:function(){zl.makeCurrent(),ql.init()},multi:!0},{provide:ol,useFactory:function(){return function(e){wt=e}(document),document},deps:[]}]),uh=[[],{provide:to,useValue:"root"},{provide:mi,useFactory:function(){return new mi},deps:[]},{provide:$l,useClass:oh,multi:!0,deps:[ol,Tc,pc]},{provide:$l,useClass:hh,multi:!0,deps:[ol]},[],{provide:th,useClass:th,deps:[Gl,Kl,lc]},{provide:Us,useExisting:th},{provide:Xl,useExisting:Kl},{provide:Kl,useClass:Kl,deps:[ol]},{provide:Fc,useClass:Fc,deps:[Tc]},{provide:Gl,useClass:Gl,deps:[$l,Tc]},[]];let ph=(()=>{class e{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:e,providers:[{provide:lc,useValue:t.appId},{provide:Ul,useExisting:lc},Wl]}}}return e.\u0275mod=tt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)(yt(e,12))},providers:uh,imports:[Fl,nl]}),e})();function fh(...e){let t=e[e.length-1];return x(t)?(e.pop(),N(e,t)):W(e)}"undefined"!=typeof window&&window;class mh extends S{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new _;return this._value}next(e){super.next(this._value=e)}}class gh extends f{notifyNext(e,t,n,i,r){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class vh extends f{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function yh(e,t,n,i,r=new vh(e,n,i)){if(!r.closed)return t instanceof y?t.subscribe(r):M(t)(r)}const bh={};class _h{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new wh(e,this.resultSelector))}}class wh extends gh{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(bh),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++)this.add(yh(this,e[n],void 0,n))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n){const i=this.values,r=this.toRespond?i[n]===bh?--this.toRespond:this.toRespond:0;i[n]=t,0===r&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}const Ch=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})(),Sh=new y(e=>e.complete());function kh(e){return e?function(e){return new y(t=>e.schedule(()=>t.complete()))}(e):Sh}function xh(e){return new y(t=>{let n;try{n=e()}catch(i){return void t.error(i)}return(n?F(n):kh()).subscribe(t)})}function Eh(){return U(1)}function Oh(e,t){return function(n){return n.lift(new Th(e,t))}}class Th{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new Ph(e,this.predicate,this.thisArg))}}class Ph extends f{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}const Rh=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})();function Ih(e){return function(t){return 0===e?kh():t.lift(new Ah(e))}}class Ah{constructor(e){if(this.total=e,this.total<0)throw new Rh}call(e,t){return t.subscribe(new Dh(e,this.total))}}class Dh extends f{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,i=this.count++;t.length<n?t.push(e):t[i%n]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,i=this.ring;for(let r=0;r<n;r++){const r=t++%n;e.next(i[r])}}e.complete()}}function Mh(e=Lh){return t=>t.lift(new Nh(e))}class Nh{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new Fh(e,this.errorFactory))}}class Fh extends f{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function Lh(){return new Ch}function jh(e=null){return t=>t.lift(new Bh(e))}class Bh{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new zh(e,this.defaultValue))}}class zh extends f{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Vh(e,t){return"function"==typeof t?n=>n.pipe(Vh((n,i)=>F(e(n,i)).pipe(E((e,r)=>t(n,e,i,r))))):t=>t.lift(new Hh(e))}class Hh{constructor(e){this.project=e}call(e,t){return t.subscribe(new Uh(e,this.project))}}class Uh extends j{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(i){return void this.destination.error(i)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const n=new L(this),i=this.destination;i.add(n),this.innerSubscription=B(e,n),this.innerSubscription!==n&&i.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}function Wh(e){return t=>0===e?kh():t.lift(new qh(e))}class qh{constructor(e){if(this.total=e,this.total<0)throw new Rh}call(e,t){return t.subscribe(new $h(e,this.total))}}class $h extends f{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}function Gh(...e){return Eh()(fh(...e))}function Yh(...e){const t=e[e.length-1];return x(t)?(e.pop(),n=>Gh(e,n,t)):t=>Gh(e,t)}class Xh{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new Kh(e,this.accumulator,this.seed,this.hasSeed))}}class Kh extends f{constructor(e,t,n,i){super(e),this.accumulator=t,this._seed=n,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(i){this.destination.error(i)}this.seed=n,this.destination.next(n)}}function Zh(e){return function(t){const n=new Qh(e),i=t.lift(n);return n.caught=i}}class Qh{constructor(e){this.selector=e}call(e,t){return t.subscribe(new Jh(e,this.selector,this.caught))}}class Jh extends j{constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const i=new L(this);this.add(i);const r=B(n,i);r!==i&&this.add(r)}}}function ed(e,t){return z(e,t,1)}function td(e,t){const n=arguments.length>=2;return i=>i.pipe(e?Oh((t,n)=>e(t,n,i)):v,Wh(1),n?jh(t):Mh(()=>new Ch))}function nd(){}function id(e,t,n){return function(i){return i.lift(new rd(e,t,n))}}class rd{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new od(e,this.nextOrObserver,this.error,this.complete))}}class od extends f{constructor(e,t,n,r){super(e),this._tapNext=nd,this._tapError=nd,this._tapComplete=nd,this._tapError=n||nd,this._tapComplete=r||nd,i(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||nd,this._tapError=t.error||nd,this._tapComplete=t.complete||nd)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}class sd{constructor(e){this.callback=e}call(e,t){return t.subscribe(new ad(e,this.callback))}}class ad extends f{constructor(e,t){super(e),this.add(new d(t))}}class cd{constructor(e,t){this.id=e,this.url=t}}class ld extends cd{constructor(e,t,n="imperative",i=null){super(e,t),this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class hd extends cd{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class dd extends cd{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ud extends cd{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class pd extends cd{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fd extends cd{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class md extends cd{constructor(e,t,n,i,r){super(e,t),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class gd extends cd{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vd extends cd{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yd{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class bd{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class _d{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wd{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cd{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sd{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kd{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class xd{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ed(e){return new xd(e)}function Od(e){const t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function Td(e,t,n){const i=n.path.split("/");if(i.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||i.length<e.length))return null;const r={};for(let o=0;o<i.length;o++){const t=i[o],n=e[o];if(t.startsWith(":"))r[t.substring(1)]=n;else if(t!==n.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function Pd(e,t){const n=Object.keys(e),i=Object.keys(t);if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!Rd(e[r],t[r]))return!1;return!0}function Rd(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),i=[...t].sort();return n.every((e,t)=>i[t]===e)}return e===t}function Id(e){return Array.prototype.concat.apply([],e)}function Ad(e){return e.length>0?e[e.length-1]:null}function Dd(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Md(e){return Ho(e)?e:Vo(e)?F(Promise.resolve(e)):fh(e)}function Nd(e,t,n){return n?function(e,t){return Pd(e,t)}(e.queryParams,t.queryParams)&&Fd(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>Rd(e[n],t[n]))}(e.queryParams,t.queryParams)&&Ld(e.root,t.root)}function Fd(e,t){if(!Hd(e.segments,t.segments))return!1;if(e.numberOfChildren!==t.numberOfChildren)return!1;for(const n in t.children){if(!e.children[n])return!1;if(!Fd(e.children[n],t.children[n]))return!1}return!0}function Ld(e,t){return jd(e,t,t.segments)}function jd(e,t,n){if(e.segments.length>n.length)return!!Hd(e.segments.slice(0,n.length),n)&&!t.hasChildren();if(e.segments.length===n.length){if(!Hd(e.segments,n))return!1;for(const n in t.children){if(!e.children[n])return!1;if(!Ld(e.children[n],t.children[n]))return!1}return!0}{const i=n.slice(0,e.segments.length),r=n.slice(e.segments.length);return!!Hd(e.segments,i)&&!!e.children.primary&&jd(e.children.primary,t,r)}}class Bd{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ed(this.queryParams)),this._queryParamMap}toString(){return $d.serialize(this)}}class zd{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Dd(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Gd(this)}}class Vd{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ed(this.parameters)),this._parameterMap}toString(){return eu(this)}}function Hd(e,t){return e.length===t.length&&e.every((e,n)=>e.path===t[n].path)}function Ud(e,t){let n=[];return Dd(e.children,(e,i)=>{"primary"===i&&(n=n.concat(t(e,i)))}),Dd(e.children,(e,i)=>{"primary"!==i&&(n=n.concat(t(e,i)))}),n}class Wd{}class qd{parse(e){const t=new ou(e);return new Bd(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){return`${"/"+Yd(e.root,!0)}${function(e){const t=Object.keys(e).map(t=>{const n=e[t];return Array.isArray(n)?n.map(e=>`${Kd(t)}=${Kd(e)}`).join("&"):`${Kd(t)}=${Kd(n)}`});return t.length?"?"+t.join("&"):""}(e.queryParams)}${"string"==typeof e.fragment?"#"+encodeURI(e.fragment):""}`}}const $d=new qd;function Gd(e){return e.segments.map(e=>eu(e)).join("/")}function Yd(e,t){if(!e.hasChildren())return Gd(e);if(t){const t=e.children.primary?Yd(e.children.primary,!1):"",n=[];return Dd(e.children,(e,t)=>{"primary"!==t&&n.push(`${t}:${Yd(e,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}{const t=Ud(e,(t,n)=>"primary"===n?[Yd(e.children.primary,!1)]:[`${n}:${Yd(t,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children.primary?`${Gd(e)}/${t[0]}`:`${Gd(e)}/(${t.join("//")})`}}function Xd(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Kd(e){return Xd(e).replace(/%3B/gi,";")}function Zd(e){return Xd(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Qd(e){return decodeURIComponent(e)}function Jd(e){return Qd(e.replace(/\+/g,"%20"))}function eu(e){return`${Zd(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${Zd(e)}=${Zd(t[e])}`).join("")}`;var t}const tu=/^[^\/()?;=#]+/;function nu(e){const t=e.match(tu);return t?t[0]:""}const iu=/^[^=?&#]+/,ru=/^[^?&#]+/;class ou{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new zd([],{}):new zd([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new zd(e,t)),n}parseSegment(){const e=nu(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Vd(Qd(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=nu(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=nu(this.remaining);e&&(n=e,this.capture(n))}e[Qd(t)]=Qd(n)}parseQueryParam(e){const t=function(e){const t=e.match(iu);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(ru);return t?t[0]:""}(this.remaining);e&&(n=e,this.capture(n))}const i=Jd(t),r=Jd(n);if(e.hasOwnProperty(i)){let t=e[i];Array.isArray(t)||(t=[t],e[i]=t),t.push(r)}else e[i]=r}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=nu(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let r=void 0;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):e&&(r="primary");const o=this.parseChildren();t[r]=1===Object.keys(o).length?o.primary:new zd([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class su{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=au(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=au(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=cu(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return cu(e,this._root).map(e=>e.value)}}function au(e,t){if(e===t.value)return t;for(const n of t.children){const t=au(e,n);if(t)return t}return null}function cu(e,t){if(e===t.value)return[t];for(const n of t.children){const i=cu(e,n);if(i.length)return i.unshift(t),i}return[]}class lu{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function hu(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class du extends su{constructor(e,t){super(e),this.snapshot=t,vu(this,e)}toString(){return this.snapshot.toString()}}function uu(e,t){const n=function(e,t){const n=new mu([],{},{},"",{},"primary",t,null,e.root,-1,{});return new gu("",new lu(n,[]))}(e,t),i=new mh([new Vd("",{})]),r=new mh({}),o=new mh({}),s=new mh({}),a=new mh(""),c=new pu(i,r,s,a,o,"primary",t,n.root);return c.snapshot=n.root,new du(new lu(c,[]),n)}class pu{constructor(e,t,n,i,r,o,s,a){this.url=e,this.params=t,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(E(e=>Ed(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(E(e=>Ed(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function fu(e,t="emptyOnly"){const n=e.pathFromRoot;let i=0;if("always"!==t)for(i=n.length-1;i>=1;){const e=n[i],t=n[i-1];if(e.routeConfig&&""===e.routeConfig.path)i--;else{if(t.component)break;i--}}return function(e){return e.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(i))}class mu{constructor(e,t,n,i,r,o,s,a,c,l,h){this.url=e,this.params=t,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=l,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ed(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ed(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class gu extends su{constructor(e,t){super(t),this.url=e,vu(this,t)}toString(){return yu(this._root)}}function vu(e,t){t.value._routerState=e,t.children.forEach(t=>vu(e,t))}function yu(e){const t=e.children.length>0?` { ${e.children.map(yu).join(", ")} } `:"";return`${e.value}${t}`}function bu(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Pd(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Pd(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Pd(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Pd(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function _u(e,t){var n,i;return Pd(e.params,t.params)&&Hd(n=e.url,i=t.url)&&n.every((e,t)=>Pd(e.parameters,i[t].parameters))&&!(!e.parent!=!t.parent)&&(!e.parent||_u(e.parent,t.parent))}function wu(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const i=n.value;i._futureSnapshot=t.value;const r=function(e,t,n){return t.children.map(t=>{for(const i of n.children)if(e.shouldReuseRoute(t.value,i.value.snapshot))return wu(e,t,i);return wu(e,t)})}(e,t,n);return new lu(i,r)}{const n=e.retrieve(t.value);if(n){const e=n.route;return Cu(t,e),e}{const n=new pu(new mh((i=t.value).url),new mh(i.params),new mh(i.queryParams),new mh(i.fragment),new mh(i.data),i.outlet,i.component,i),r=t.children.map(t=>wu(e,t));return new lu(n,r)}}var i}function Cu(e,t){if(e.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=e.value;for(let n=0;n<e.children.length;++n)Cu(e.children[n],t.children[n])}function Su(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function ku(e){return"object"==typeof e&&null!=e&&e.outlets}function xu(e,t,n,i,r){let o={};return i&&Dd(i,(e,t)=>{o[t]=Array.isArray(e)?e.map(e=>""+e):""+e}),new Bd(n.root===e?t:Eu(n.root,e,t),o,r)}function Eu(e,t,n){const i={};return Dd(e.children,(e,r)=>{i[r]=e===t?n:Eu(e,t,n)}),new zd(e.segments,i)}class Ou{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&Su(n[0]))throw new Error("Root segment cannot have matrix parameters");const i=n.find(ku);if(i&&i!==Ad(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Tu{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function Pu(e,t,n){if(e||(e=new zd([],{})),0===e.segments.length&&e.hasChildren())return Ru(e,t,n);const i=function(e,t,n){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(i>=n.length)return o;const t=e.segments[r],s=n[i];if(ku(s))break;const a=""+s,c=i<n.length-1?n[i+1]:null;if(r>0&&void 0===a)break;if(a&&c&&"object"==typeof c&&void 0===c.outlets){if(!Mu(a,c,t))return o;i+=2}else{if(!Mu(a,{},t))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(e,t,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){const t=new zd(e.segments.slice(0,i.pathIndex),{});return t.children.primary=new zd(e.segments.slice(i.pathIndex),e.children),Ru(t,0,r)}return i.match&&0===r.length?new zd(e.segments,{}):i.match&&!e.hasChildren()?Iu(e,t,n):i.match?Ru(e,0,r):Iu(e,t,n)}function Ru(e,t,n){if(0===n.length)return new zd(e.segments,{});{const i=function(e){return ku(e[0])?e[0].outlets:{primary:e}}(n),r={};return Dd(i,(n,i)=>{null!==n&&(r[i]=Pu(e.children[i],t,n))}),Dd(e.children,(e,t)=>{void 0===i[t]&&(r[t]=e)}),new zd(e.segments,r)}}function Iu(e,t,n){const i=e.segments.slice(0,t);let r=0;for(;r<n.length;){const o=n[r];if(ku(o)){const e=Au(o.outlets);return new zd(i,e)}if(0===r&&Su(n[0])){i.push(new Vd(e.segments[t].path,n[0])),r++;continue}const s=ku(o)?o.outlets.primary:""+o,a=r<n.length-1?n[r+1]:null;s&&a&&Su(a)?(i.push(new Vd(s,Du(a))),r+=2):(i.push(new Vd(s,{})),r++)}return new zd(i,{})}function Au(e){const t={};return Dd(e,(e,n)=>{null!==e&&(t[n]=Iu(new zd([],{}),0,e))}),t}function Du(e){const t={};return Dd(e,(e,n)=>t[n]=""+e),t}function Mu(e,t,n){return e==n.path&&Pd(t,n.parameters)}class Nu{constructor(e,t,n,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=i}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),bu(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const i=hu(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,i[t],n),delete i[t]}),Dd(i,(e,t)=>{this.deactivateRouteAndItsChildren(e,n)})}deactivateRoutes(e,t,n){const i=e.value,r=t?t.value:null;if(i===r)if(i.component){const r=n.getContext(i.outlet);r&&this.deactivateChildRoutes(e,t,r.children)}else this.deactivateChildRoutes(e,t,n);else r&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet);if(n&&n.outlet){const t=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:i})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet);if(n){const i=hu(e),r=e.value.component?n.children:t;Dd(i,(e,t)=>this.deactivateRouteAndItsChildren(e,r)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(e,t,n){const i=hu(t);e.children.forEach(e=>{this.activateRoutes(e,i[e.value.outlet],n),this.forwardEvent(new Sd(e.value.snapshot))}),e.children.length&&this.forwardEvent(new wd(e.value.snapshot))}activateRoutes(e,t,n){const i=e.value,r=t?t.value:null;if(bu(i),i===r)if(i.component){const r=n.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,r.children)}else this.activateChildRoutes(e,t,n);else if(i.component){const t=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const e=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),Fu(e.route)}else{const n=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(i.snapshot),r=n?n.module.componentFactoryResolver:null;t.attachRef=null,t.route=i,t.resolver=r,t.outlet&&t.outlet.activateWith(i,r),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}function Fu(e){bu(e.value),e.children.forEach(Fu)}class Lu{constructor(e,t){this.routes=e,this.module=t}}function ju(e){return"function"==typeof e}function Bu(e){return e instanceof Bd}const zu=Symbol("INITIAL_VALUE");function Vu(){return Vh(e=>function(...e){let t=void 0,n=void 0;return x(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&c(e[0])&&(e=e[0]),W(e,n).lift(new _h(t))}(...e.map(e=>e.pipe(Wh(1),Yh(zu)))).pipe(function(e,t){let n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new Xh(e,t,n))}}((e,t)=>{let n=!1;return t.reduce((e,i,r)=>{if(e!==zu)return e;if(i===zu&&(n=!0),!n){if(!1===i)return i;if(r===t.length-1||Bu(i))return i}return e},e)},zu),Oh(e=>e!==zu),E(e=>Bu(e)?e:!0===e),Wh(1)))}let Hu=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Ze({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&Lo(0,"router-outlet")},directives:function(){return[Dp]},encapsulation:2}),e})();function Uu(e,t=""){for(let n=0;n<e.length;n++){const i=e[n];Wu(i,qu(t,i))}}function Wu(e,t){e.children&&Uu(e.children,t)}function qu(e,t){return t?e||t.path?e&&!t.path?e+"/":!e&&t.path?t.path:`${e}/${t.path}`:"":e}function $u(e){const t=e.children&&e.children.map($u),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Hu),n}function Gu(e){return e.outlet||"primary"}class Yu{constructor(e){this.segmentGroup=e||null}}class Xu{constructor(e){this.urlTree=e}}function Ku(e){return new y(t=>t.error(new Yu(e)))}function Zu(e){return new y(t=>t.error(new Xu(e)))}function Qu(e){return new y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class Ju{constructor(e,t,n,i,r){this.configLoader=t,this.urlSerializer=n,this.urlTree=i,this.config=r,this.allowRedirects=!0,this.ngModule=e.get(_a)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(E(e=>this.createUrlTree(e,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Zh(e=>{if(e instanceof Xu)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof Yu)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,"primary").pipe(E(t=>this.createUrlTree(t,e.queryParams,e.fragment))).pipe(Zh(e=>{if(e instanceof Yu)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const i=e.segments.length>0?new zd([],{primary:e}):e;return new Bd(i,t,n)}expandSegmentGroup(e,t,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(E(e=>new zd([],e))):this.expandSegment(e,n,t,n.segments,i,!0)}expandChildren(e,t,n){return function(e,t){if(0===Object.keys(e).length)return fh({});const n=[],i=[],r={};return Dd(e,(e,o)=>{const s=t(o,e).pipe(E(e=>r[o]=e));"primary"===o?n.push(s):i.push(s)}),fh.apply(null,n.concat(i)).pipe(Eh(),function(e,t){const n=arguments.length>=2;return i=>i.pipe(e?Oh((t,n)=>e(t,n,i)):v,Ih(1),n?jh(t):Mh(()=>new Ch))}(),E(()=>r))}(n.children,(n,i)=>this.expandSegmentGroup(e,t,i,n))}expandSegment(e,t,n,i,r,o){const s=function(e){return e.reduce((e,t)=>{const n=Gu(t);return e.has(n)?e.get(n).push(t):e.set(n,[t]),e},new Map)}(n);s.has(r)||s.set(r,[]);const a=n=>F(n).pipe(ed(s=>this.expandSegmentAgainstRoute(e,t,n,s,i,r,o).pipe(Zh(e=>{if(e instanceof Yu)return fh(null);throw e}))),td(e=>null!==e),Zh(e=>{if(e instanceof Ch||"EmptyError"===e.name){if(this.noLeftoversInUrl(t,i,r))return fh(new zd([],{}));throw new Yu(t)}throw e}));return F(Array.from(s.entries()).map(([e,t])=>{const n=a(t);return e===r?n:n.pipe(E(()=>null),Zh(()=>fh(null)))})).pipe(e=>e.lift(new _h(void 0)),td(),E(e=>e.find(e=>null!==e)))}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}expandSegmentAgainstRoute(e,t,n,i,r,o,s){return Gu(i)!==o&&""!==i.path?Ku(t):void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,r):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,i,r,o):Ku(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,i,r,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,i,r,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,i){const r=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Zu(r):this.lineralizeSegments(n,r).pipe(z(n=>{const r=new zd(n,{});return this.expandSegment(e,r,t,n,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,i,r,o){const{matched:s,consumedSegments:a,lastChild:c,positionalParamSegments:l}=ep(t,i,r);if(!s)return Ku(t);const h=this.applyRedirectCommands(a,i.redirectTo,l);return i.redirectTo.startsWith("/")?Zu(h):this.lineralizeSegments(i,h).pipe(z(i=>this.expandSegment(e,t,n,i.concat(r.slice(c)),o,!1)))}matchSegmentAgainstRoute(e,t,n,i){if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(E(e=>(n._loadedConfig=e,new zd(i,{})))):fh(new zd(i,{}));const{matched:r,consumedSegments:o,lastChild:s}=ep(t,n,i);if(!r)return Ku(t);const a=i.slice(s);return this.getChildConfig(e,n,i).pipe(z(e=>{const n=e.module,i=e.routes,{segmentGroup:r,slicedSegments:s}=function(e,t,n,i){return n.length>0&&function(e,t,n){return n.some(n=>np(e,t,n)&&"primary"!==Gu(n))}(e,n,i)?{segmentGroup:tp(new zd(t,function(e,t){const n={};n.primary=t;for(const i of e)""===i.path&&"primary"!==Gu(i)&&(n[Gu(i)]=new zd([],{}));return n}(i,new zd(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return n.some(n=>np(e,t,n))}(e,n,i)?{segmentGroup:tp(new zd(e.segments,function(e,t,n,i){const r={};for(const o of n)np(e,t,o)&&!i[Gu(o)]&&(r[Gu(o)]=new zd([],{}));return Object.assign(Object.assign({},i),r)}(e,n,i,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,o,a,i);return 0===s.length&&r.hasChildren()?this.expandChildren(n,i,r).pipe(E(e=>new zd(o,e))):0===i.length&&0===s.length?fh(new zd(o,{})):this.expandSegment(n,r,i,s,"primary",!0).pipe(E(e=>new zd(o.concat(e.segments),e.children)))}))}getChildConfig(e,t,n){return t.children?fh(new Lu(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?fh(t._loadedConfig):this.runCanLoadGuards(e.injector,t,n).pipe(z(n=>n?this.configLoader.load(e.injector,t).pipe(E(e=>(t._loadedConfig=e,e))):function(e){return new y(t=>t.error(Od(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):fh(new Lu([],e))}runCanLoadGuards(e,t,n){const i=t.canLoad;return i&&0!==i.length?fh(i.map(i=>{const r=e.get(i);let o;if(function(e){return e&&ju(e.canLoad)}(r))o=r.canLoad(t,n);else{if(!ju(r))throw new Error("Invalid CanLoad guard");o=r(t,n)}return Md(o)})).pipe(Vu(),id(e=>{if(!Bu(e))return;const t=Od(`Redirecting to "${this.urlSerializer.serialize(e)}"`);throw t.url=e,t}),E(e=>!0===e)):fh(!0)}lineralizeSegments(e,t){let n=[],i=t.root;for(;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return fh(n);if(i.numberOfChildren>1||!i.children.primary)return Qu(e.redirectTo);i=i.children.primary}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,i){const r=this.createSegmentGroup(e,t.root,n,i);return new Bd(r,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return Dd(e,(e,i)=>{if("string"==typeof e&&e.startsWith(":")){const r=e.substring(1);n[i]=t[r]}else n[i]=e}),n}createSegmentGroup(e,t,n,i){const r=this.createSegments(e,t.segments,n,i);let o={};return Dd(t.children,(t,r)=>{o[r]=this.createSegmentGroup(e,t,n,i)}),new zd(r,o)}createSegments(e,t,n,i){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,i):this.findOrReturn(t,n))}findPosParam(e,t,n){const i=n[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let n=0;for(const i of t){if(i.path===e.path)return t.splice(n),i;n++}return e}}function ep(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const i=(t.matcher||Td)(n,e,t);return i?{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,positionalParamSegments:i.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function tp(e){if(1===e.numberOfChildren&&e.children.primary){const t=e.children.primary;return new zd(e.segments.concat(t.segments),t.children)}return e}function np(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}class ip{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class rp{constructor(e,t){this.component=e,this.route=t}}function op(e,t,n){const i=e._root;return ap(i,t?t._root:null,n,[i.value])}function sp(e,t,n){const i=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:n).get(e)}function ap(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=hu(t);return e.children.forEach(e=>{!function(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Hd(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Hd(e.url,t.url)||!Pd(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_u(e,t)||!Pd(e.queryParams,t.queryParams);case"paramsChange":default:return!_u(e,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new ip(i)):(o.data=s.data,o._resolvedData=s._resolvedData),ap(e,t,o.component?a?a.children:null:n,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new rp(a.outlet.component,s))}else s&&cp(t,a,r),r.canActivateChecks.push(new ip(i)),ap(e,null,o.component?a?a.children:null:n,i,r)}(e,o[e.value.outlet],n,i.concat([e.value]),r),delete o[e.value.outlet]}),Dd(o,(e,t)=>cp(e,n.getContext(t),r)),r}function cp(e,t,n){const i=hu(e),r=e.value;Dd(i,(e,i)=>{cp(e,r.component?t?t.children.getContext(i):null:t,n)}),n.canDeactivateChecks.push(new rp(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function lp(e,t){return null!==e&&t&&t(new Cd(e)),fh(!0)}function hp(e,t){return null!==e&&t&&t(new _d(e)),fh(!0)}function dp(e,t,n){const i=t.routeConfig?t.routeConfig.canActivate:null;return i&&0!==i.length?fh(i.map(i=>xh(()=>{const r=sp(i,t,n);let o;if(function(e){return e&&ju(e.canActivate)}(r))o=Md(r.canActivate(t,e));else{if(!ju(r))throw new Error("Invalid CanActivate guard");o=Md(r(t,e))}return o.pipe(td())}))).pipe(Vu()):fh(!0)}function up(e,t,n){const i=t[t.length-1],r=t.slice(0,t.length-1).reverse().map(e=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)).filter(e=>null!==e).map(t=>xh(()=>fh(t.guards.map(r=>{const o=sp(r,t.node,n);let s;if(function(e){return e&&ju(e.canActivateChild)}(o))s=Md(o.canActivateChild(i,e));else{if(!ju(o))throw new Error("Invalid CanActivateChild guard");s=Md(o(i,e))}return s.pipe(td())})).pipe(Vu())));return fh(r).pipe(Vu())}class pp{}class fp{constructor(e,t,n,i,r,o){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=i,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=o}recognize(){try{const e=vp(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,"primary"),n=new mu([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),i=new lu(n,t),r=new gu(this.url,i);return this.inheritParamsAndData(r._root),fh(r)}catch(e){return new y(t=>t.error(e))}}inheritParamsAndData(e){const t=e.value,n=fu(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=Ud(t,(t,n)=>this.processSegmentGroup(e,t,n));return function(e){const t={};e.forEach(e=>{const n=t[e.value.outlet];if(n){const t=n.url.map(e=>e.toString()).join("/"),i=e.value.url.map(e=>e.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${t}' and '${i}'.`)}t[e.value.outlet]=e.value})}(n),n.sort((e,t)=>"primary"===e.value.outlet?-1:"primary"===t.value.outlet?1:e.value.outlet.localeCompare(t.value.outlet)),n}processSegment(e,t,n,i){for(const o of e)try{return this.processSegmentAgainstRoute(o,t,n,i)}catch(r){if(!(r instanceof pp))throw r}if(this.noLeftoversInUrl(t,n,i))return[];throw new pp}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}processSegmentAgainstRoute(e,t,n,i){if(e.redirectTo)throw new pp;if((e.outlet||"primary")!==i)throw new pp;let r,o=[],s=[];if("**"===e.path){const o=n.length>0?Ad(n).parameters:{};r=new mu(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,_p(e),i,e.component,e,mp(t),gp(t)+n.length,wp(e))}else{const a=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new pp;return{consumedSegments:[],lastChild:0,parameters:{}}}const i=(t.matcher||Td)(n,e,t);if(!i)throw new pp;const r={};Dd(i.posParams,(e,t)=>{r[t]=e.path});const o=i.consumed.length>0?Object.assign(Object.assign({},r),i.consumed[i.consumed.length-1].parameters):r;return{consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o}}(t,e,n);o=a.consumedSegments,s=n.slice(a.lastChild),r=new mu(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,_p(e),i,e.component,e,mp(t),gp(t)+o.length,wp(e))}const a=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),{segmentGroup:c,slicedSegments:l}=vp(t,o,s,a,this.relativeLinkResolution);if(0===l.length&&c.hasChildren()){const e=this.processChildren(a,c);return[new lu(r,e)]}if(0===a.length&&0===l.length)return[new lu(r,[])];const h=this.processSegment(a,c,l,"primary");return[new lu(r,h)]}}function mp(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function gp(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift?t._segmentIndexShift:0;return n-1}function vp(e,t,n,i,r){if(n.length>0&&function(e,t,n){return n.some(n=>yp(e,t,n)&&"primary"!==bp(n))}(e,n,i)){const r=new zd(t,function(e,t,n,i){const r={};r.primary=i,i._sourceSegment=e,i._segmentIndexShift=t.length;for(const o of n)if(""===o.path&&"primary"!==bp(o)){const n=new zd([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,r[bp(o)]=n}return r}(e,t,i,new zd(n,e.children)));return r._sourceSegment=e,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(n=>yp(e,t,n))}(e,n,i)){const o=new zd(e.segments,function(e,t,n,i,r,o){const s={};for(const a of i)if(yp(e,n,a)&&!r[bp(a)]){const n=new zd([],{});n._sourceSegment=e,n._segmentIndexShift="legacy"===o?e.segments.length:t.length,s[bp(a)]=n}return Object.assign(Object.assign({},r),s)}(e,t,n,i,e.children,r));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:n}}const o=new zd(e.segments,e.children);return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:n}}function yp(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function bp(e){return e.outlet||"primary"}function _p(e){return e.data||{}}function wp(e){return e.resolve||{}}function Cp(e){return function(t){return t.pipe(Vh(t=>{const n=e(t);return n?F(n).pipe(E(()=>t)):F([t])}))}}class Sp extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const kp=new be("ROUTES");class xp{constructor(e,t,n,i){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=i}load(e,t){return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(E(n=>{this.onLoadEndListener&&this.onLoadEndListener(t);const i=n.create(e);return new Lu(Id(i.injector.get(kp)).map($u),i)}))}loadModuleFactory(e){return"string"==typeof e?F(this.loader.load(e)):Md(e()).pipe(z(e=>e instanceof wa?fh(e):F(this.compiler.compileModuleAsync(e))))}}class Ep{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Op,this.attachRef=null}}class Op{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Ep,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class Tp{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Pp(e){throw e}function Rp(e,t,n){return t.parse("/")}function Ip(e,t){return fh(null)}let Ap=(()=>{class e{constructor(e,t,n,i,r,o,s,a){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=i,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new S,this.errorHandler=Pp,this.malformedUriErrorHandler=Rp,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ip,afterPreactivation:Ip},this.urlHandlingStrategy=new Tp,this.routeReuseStrategy=new Sp,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=r.get(_a),this.console=r.get(mc);const c=r.get(Tc);this.isNgZoneEnabled=c instanceof Tc,this.resetConfig(a),this.currentUrlTree=new Bd(new zd([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new xp(o,s,e=>this.triggerEvent(new yd(e)),e=>this.triggerEvent(new bd(e))),this.routerState=uu(this.currentUrlTree,this.rootComponentType),this.transitions=new mh({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(e){const t=this.events;return e.pipe(Oh(e=>0!==e.id),E(e=>Object.assign(Object.assign({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),Vh(e=>{let n=!1,i=!1;return fh(e).pipe(id(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Vh(e=>{const n=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return fh(e).pipe(Vh(e=>{const n=this.transitions.getValue();return t.next(new ld(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),n!==this.transitions.getValue()?Sh:[e]}),Vh(e=>Promise.resolve(e)),(i=this.ngModule.injector,r=this.configLoader,o=this.urlSerializer,s=this.config,function(e){return e.pipe(Vh(e=>function(e,t,n,i,r){return new Ju(e,t,n,i,r).apply()}(i,r,o,e.extractedUrl,s).pipe(E(t=>Object.assign(Object.assign({},e),{urlAfterRedirects:t})))))}),id(e=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,t,n,i,r){return function(o){return o.pipe(z(o=>function(e,t,n,i,r="emptyOnly",o="legacy"){return new fp(e,t,n,i,r,o).recognize()}(e,t,o.urlAfterRedirects,n(o.urlAfterRedirects),i,r).pipe(E(e=>Object.assign(Object.assign({},o),{targetSnapshot:e})))))}}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),id(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),id(e=>{const n=new pd(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(n)}));var i,r,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:i,source:r,restoredState:o,extras:s}=e,a=new ld(n,this.serializeUrl(i),r,o);t.next(a);const c=uu(i,this.rootComponentType).snapshot;return fh(Object.assign(Object.assign({},e),{targetSnapshot:c,urlAfterRedirects:i,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),Sh}),Cp(e=>{const{targetSnapshot:t,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:o,replaceUrl:s}}=e;return this.hooks.beforePreactivation(t,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!o,replaceUrl:!!s})}),id(e=>{const t=new fd(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),E(e=>Object.assign(Object.assign({},e),{guards:op(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return function(n){return n.pipe(z(n=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?fh(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,i){return F(e).pipe(z(e=>function(e,t,n,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?fh(o.map(o=>{const s=sp(o,t,r);let a;if(function(e){return e&&ju(e.canDeactivate)}(s))a=Md(s.canDeactivate(e,t,n,i));else{if(!ju(s))throw new Error("Invalid CanDeactivate guard");a=Md(s(e,t,n,i))}return a.pipe(td())})).pipe(Vu()):fh(!0)}(e.component,e.route,n,t,i)),td(e=>!0!==e,!0))}(s,i,r,e).pipe(z(n=>n&&"boolean"==typeof n?function(e,t,n,i){return F(t).pipe(ed(t=>F([hp(t.route.parent,i),lp(t.route,i),up(e,t.path,n),dp(e,t.route,n)]).pipe(Eh(),td(e=>!0!==e,!0))),td(e=>!0!==e,!0))}(i,o,e,t):fh(n)),E(e=>Object.assign(Object.assign({},n),{guardsResult:e})))}))}}(this.ngModule.injector,e=>this.triggerEvent(e)),id(e=>{if(Bu(e.guardsResult)){const t=Od(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}}),id(e=>{const t=new md(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),Oh(e=>{if(!e.guardsResult){this.resetUrlToCurrentUrlTree();const n=new dd(e.id,this.serializeUrl(e.extractedUrl),"");return t.next(n),e.resolve(!1),!1}return!0}),Cp(e=>{if(e.guards.canActivateChecks.length)return fh(e).pipe(id(e=>{const t=new gd(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),Vh(e=>{let n=!1;return fh(e).pipe((i=this.paramsInheritanceStrategy,r=this.ngModule.injector,function(e){return e.pipe(z(e=>{const{targetSnapshot:t,guards:{canActivateChecks:n}}=e;if(!n.length)return fh(e);let o=0;return F(n).pipe(ed(e=>function(e,t,n,i){return function(e,t,n,i){const r=Object.keys(e);if(0===r.length)return fh({});const o={};return F(r).pipe(z(r=>function(e,t,n,i){const r=sp(e,t,i);return Md(r.resolve?r.resolve(t,n):r(t,n))}(e[r],t,n,i).pipe(id(e=>{o[r]=e}))),Ih(1),z(()=>Object.keys(o).length===r.length?fh(o):Sh))}(e._resolve,e,t,i).pipe(E(t=>(e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),fu(e,n).resolve),null)))}(e.route,t,i,r)),id(()=>o++),Ih(1),z(t=>o===n.length?fh(e):Sh))}))}),id({next:()=>n=!0,complete:()=>{if(!n){const n=new dd(e.id,this.serializeUrl(e.extractedUrl),"At least one route resolver didn't emit any value.");t.next(n),e.resolve(!1)}}}));var i,r}),id(e=>{const t=new vd(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}))}),Cp(e=>{const{targetSnapshot:t,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:o,replaceUrl:s}}=e;return this.hooks.afterPreactivation(t,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!o,replaceUrl:!!s})}),E(e=>{const t=function(e,t,n){const i=wu(e,t._root,n?n._root:void 0);return new du(i,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:t})}),id(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=e=>this.triggerEvent(e),E(e=>(new Nu(s,e.targetRouterState,e.currentRouterState,a).activate(o),e))),id({next(){n=!0},complete(){n=!0}}),(r=()=>{if(!n&&!i){this.resetUrlToCurrentUrlTree();const n=new dd(e.id,this.serializeUrl(e.extractedUrl),`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`);t.next(n),e.resolve(!1)}this.currentNavigation=null},e=>e.lift(new sd(r))),Zh(n=>{if(i=!0,(r=n)&&r.ngNavigationCancelingError){const i=Bu(n.url);i||(this.navigated=!0,this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));const r=new dd(e.id,this.serializeUrl(e.extractedUrl),n.message);t.next(r),i?setTimeout(()=>{const t=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(t,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);const i=new ud(e.id,this.serializeUrl(e.extractedUrl),n);t.next(i);try{e.resolve(this.errorHandler(n))}catch(o){e.reject(o)}}var r;return Sh}));var r,o,s,a}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const t=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,t)&&setTimeout(()=>{const{source:e,state:n,urlTree:i}=t,r={replaceUrl:!0};if(n){const e=Object.assign({},n);delete e.navigationId,0!==Object.keys(e).length&&(r.state=e)}this.scheduleNavigation(i,e,n,r)},0),this.lastLocationChangeInfo=t}))}extractLocationChangeInfoFromEvent(e){var t;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(t=e.state)||void 0===t?void 0:t.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,t){if(!e)return!0;const n=t.urlTree.toString()===e.urlTree.toString();return!(t.transitionId===e.transitionId&&n&&("hashchange"===t.source&&"popstate"===e.source||"popstate"===t.source&&"hashchange"===e.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Uu(e),this.config=e.map($u),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(e,t={}){const{relativeTo:n,queryParams:i,fragment:r,queryParamsHandling:o,preserveFragment:s}=t,a=n||this.routerState.root,c=s?this.currentUrlTree.fragment:r;let l=null;switch(o){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=i||null}return null!==l&&(l=this.removeEmptyProps(l)),function(e,t,n,i,r){if(0===n.length)return xu(t.root,t.root,t,i,r);const o=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Ou(!0,0,e);let t=0,n=!1;const i=e.reduce((e,i,r)=>{if("object"==typeof i&&null!=i){if(i.outlets){const t={};return Dd(i.outlets,(e,n)=>{t[n]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(i.segmentPath)return[...e,i.segmentPath]}return"string"!=typeof i?[...e,i]:0===r?(i.split("/").forEach((i,r)=>{0==r&&"."===i||(0==r&&""===i?n=!0:".."===i?t++:""!=i&&e.push(i))}),e):[...e,i]},[]);return new Ou(n,t,i)}(n);if(o.toRoot())return xu(t.root,new zd([],{}),t,i,r);const s=function(e,t,n){if(e.isAbsolute)return new Tu(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){const e=n.snapshot._urlSegment;return new Tu(e,e===t.root,0)}const i=Su(e.commands[0])?0:1;return function(e,t,n){let i=e,r=t,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new Tu(i,!1,r-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,e.numberOfDoubleDots)}(o,t,e),a=s.processChildren?Ru(s.segmentGroup,s.index,o.commands):Pu(s.segmentGroup,s.index,o.commands);return xu(s.segmentGroup,a,t,i,r)}(a,this.currentUrlTree,e,l,c)}navigateByUrl(e,t={skipLocationChange:!1}){const n=Bu(e)?e:this.parseUrl(e),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}isActive(e,t){if(Bu(e))return Nd(this.currentUrlTree,e,t);const n=this.parseUrl(e);return Nd(this.currentUrlTree,n,t)}removeEmptyProps(e){return Object.keys(e).reduce((t,n)=>{const i=e[n];return null!=i&&(t[n]=i),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.events.next(new hd(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,n,i,r){const o=this.getTransition(),s="imperative"!==t&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===e.toString();if(s&&a)return Promise.resolve(!0);let c,l,h;r?(c=r.resolve,l=r.reject,h=r.promise):h=new Promise((e,t)=>{c=e,l=t});const d=++this.navigationId;return this.setTransition({id:d,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:i,resolve:c,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(e=>Promise.reject(e))}setBrowserUrl(e,t,n,i){const r=this.urlSerializer.serialize(e);i=i||{},this.location.isCurrentPathEqualTo(r)||t?this.location.replaceState(r,"",Object.assign(Object.assign({},i),{navigationId:n})):this.location.go(r,"",Object.assign(Object.assign({},i),{navigationId:n}))}resetStateAndUrl(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return e.\u0275fac=function(t){return new(t||e)(yt(Ie),yt(Wd),yt(Op),yt(_l),yt(go),yt(Xc),yt(xc),yt(void 0))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),Dp=(()=>{class e{constructor(e,t,n,i,r){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=r,this.activated=null,this._activatedRoute=null,this.activateEvents=new ja,this.deactivateEvents=new ja,this.name=i||"primary",e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,r=new Mp(e,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)(Io(Op),Io(Sa),Io(js),Ao("name"),Io(da))},e.\u0275dir=it({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class Mp{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===pu?this.route:e===Op?this.childContexts:this.parent.get(e,t)}}class Np{}class Fp{preload(e,t){return fh(null)}}let Lp=(()=>{class e{constructor(e,t,n,i,r){this.router=e,this.injector=i,this.preloadingStrategy=r,this.loader=new xp(t,n,t=>e.triggerEvent(new yd(t)),t=>e.triggerEvent(new bd(t)))}setUpPreloading(){this.subscription=this.router.events.pipe(Oh(e=>e instanceof hd),ed(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(_a);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,t){const n=[];for(const i of t)if(i.loadChildren&&!i.canLoad&&i._loadedConfig){const e=i._loadedConfig;n.push(this.processRoutes(e.module,e.routes))}else i.loadChildren&&!i.canLoad?n.push(this.preloadConfig(e,i)):i.children&&n.push(this.processRoutes(e,i.children));return F(n).pipe(U(),E(e=>{}))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>this.loader.load(e.injector,t).pipe(z(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}return e.\u0275fac=function(t){return new(t||e)(yt(Ap),yt(Xc),yt(xc),yt(go),yt(Np))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),jp=(()=>{class e{constructor(e,t,n={}){this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof ld?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof hd&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof kd&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new kd(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(yt(Ap),yt(Ll),yt(void 0))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const Bp=new be("ROUTER_CONFIGURATION"),zp=new be("ROUTER_FORROOT_GUARD"),Vp=[_l,{provide:Wd,useClass:qd},{provide:Ap,useFactory:function(e,t,n,i,r,o,s,a={},c,l){const h=new Ap(null,e,t,n,i,r,o,Id(s));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy)}(a,h),a.enableTracing){const e=rl();h.events.subscribe(t=>{e.logGroup("Router Event: "+t.constructor.name),e.log(t.toString()),e.log(t),e.logGroupEnd()})}return h},deps:[Wd,Op,_l,go,Xc,xc,kp,Bp,[class{},new ie],[class{},new ie]]},Op,{provide:pu,useFactory:function(e){return e.routerState.root},deps:[Ap]},{provide:Xc,useClass:Qc},Lp,Fp,class{preload(e,t){return t().pipe(Zh(()=>fh(null)))}},{provide:Bp,useValue:{enableTracing:!1}}];function Hp(){return new Hc("Router",Ap)}let Up=(()=>{class e{constructor(e,t){}static forRoot(t,n){return{ngModule:e,providers:[Vp,Gp(t),{provide:zp,useFactory:$p,deps:[[Ap,new ie,new oe]]},{provide:Bp,useValue:n||{}},{provide:ml,useFactory:qp,deps:[sl,[new ne(vl),new ie],Bp]},{provide:jp,useFactory:Wp,deps:[Ap,Ll,Bp]},{provide:Np,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Fp},{provide:Hc,multi:!0,useFactory:Hp},[Yp,{provide:ac,multi:!0,useFactory:Xp,deps:[Yp]},{provide:Zp,useFactory:Kp,deps:[Yp]},{provide:fc,multi:!0,useExisting:Zp}]]}}static forChild(t){return{ngModule:e,providers:[Gp(t)]}}}return e.\u0275mod=tt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)(yt(zp,8),yt(Ap,8))}}),e})();function Wp(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new jp(e,t,n)}function qp(e,t,n={}){return n.useHash?new bl(e,t):new yl(e,t)}function $p(e){return"guarded"}function Gp(e){return[{provide:_e,multi:!0,useValue:e},{provide:kp,multi:!0,useValue:e}]}let Yp=(()=>{class e{constructor(e){this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new S}appInitializer(){return this.injector.get(cl,Promise.resolve(null)).then(()=>{let e=null;const t=new Promise(t=>e=t),n=this.injector.get(Ap),i=this.injector.get(Bp);return"disabled"===i.initialNavigation?(n.setUpLocationChangeListener(),e(!0)):"enabled"===i.initialNavigation||"enabledBlocking"===i.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?fh(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),n.initialNavigation()):e(!0),t})}bootstrapListener(e){const t=this.injector.get(Bp),n=this.injector.get(Lp),i=this.injector.get(jp),r=this.injector.get(Ap),o=this.injector.get(Gc);e===o.components[0]&&("enabledNonBlocking"!==t.initialNavigation&&void 0!==t.initialNavigation||r.initialNavigation(),n.setUpPreloading(),i.init(),r.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return e.\u0275fac=function(t){return new(t||e)(yt(go))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();function Xp(e){return e.appInitializer.bind(e)}function Kp(e){return e.bootstrapListener.bind(e)}const Zp=new be("Router Initializer");function Qp(e,t,n,i){return new(n||(n=Promise))(function(r,o){function s(e){try{c(i.next(e))}catch(t){o(t)}}function a(e){try{c(i.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((i=i.apply(e,t||[])).next())})}var Jp=n("BNHZ");const ef=new WeakSet,tf=new WeakMap,nf=new WeakMap,rf=new WeakMap,of=new WeakMap,sf=new WeakMap,af=new WeakMap,cf=new WeakMap,lf=new WeakMap,hf=new WeakMap,df={construct:()=>df},uf=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,pf=(e,t)=>{const n=[];let i=e.replace(/^[\s]+/,""),r=i.match(uf);for(;null!==r;){const e=r[1].slice(1,-1),o=r[0].replace(/([\s]+)?;?$/,"").replace(e,new URL(e,t).toString());n.push(o),i=i.slice(r[0].length).replace(/^[\s]+/,""),r=i.match(uf)}return[n.join(";"),i]},ff=e=>{if(void 0!==e&&!Array.isArray(e))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},mf=e=>{if(!(e=>{try{new new Proxy(e,df)}catch{return!1}return!0})(e))throw new TypeError("The given value for processorCtor should be a constructor.");if(null===e.prototype||"object"!=typeof e.prototype)throw new TypeError("The given value for processorCtor should have a prototype.")},gf=(e,t)=>{const n=e.get(t);if(void 0===n)throw new Error("A value with the given key could not be found.");return n},vf=(e,t)=>{const n=Array.from(e).filter(t);if(n.length>1)throw Error("More than one element was found.");if(0===n.length)throw Error("No element was found.");const[i]=n;return e.delete(i),i},yf=(e,t,n,i)=>{const r=gf(e,t),o=vf(r,e=>e[0]===n&&e[1]===i);return 0===r.size&&e.delete(t),o},bf=e=>gf(af,e),_f=e=>{if(ef.has(e))throw new Error("The AudioNode is already stored.");ef.add(e),bf(e).forEach(e=>e(!0))},wf=e=>"port"in e,Cf=e=>{if(!ef.has(e))throw new Error("The AudioNode is not stored.");ef.delete(e),bf(e).forEach(e=>e(!1))},Sf=(e,t)=>{!wf(e)&&t.every(e=>0===e.size)&&Cf(e)},kf={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},xf=(e,t)=>e.context===t,Ef=e=>{try{e.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},Of=()=>new DOMException("","IndexSizeError"),Tf=e=>{var t;e.getChannelData=(t=e.getChannelData,n=>{try{return t.call(e,n)}catch(i){if(12===i.code)throw Of();throw i}})},Pf={numberOfChannels:1},Rf=-34028234663852886e22,If=-Rf,Af=e=>ef.has(e),Df={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},Mf=e=>gf(tf,e),Nf=e=>gf(rf,e),Ff=(e,t)=>{const{activeInputs:n}=Mf(e);n.forEach(n=>n.forEach(([n])=>{t.includes(e)||Ff(n,[...t,e])}));const i=(e=>"playbackRate"in e)(e)?[e.playbackRate]:wf(e)?Array.from(e.parameters.values()):(e=>"frequency"in e&&"gain"in e)(e)?[e.Q,e.detune,e.frequency,e.gain]:(e=>"offset"in e)(e)?[e.offset]:(e=>!("frequency"in e)&&"gain"in e)(e)?[e.gain]:(e=>"detune"in e&&"frequency"in e)(e)?[e.detune,e.frequency]:(e=>"pan"in e)(e)?[e.pan]:[];for(const r of i){const e=Nf(r);void 0!==e&&e.activeInputs.forEach(([e])=>Ff(e,t))}Af(e)&&Cf(e)},Lf=e=>"context"in e,jf=e=>Lf(e[0]),Bf=(e,t,n,i)=>{for(const r of e)if(n(r)){if(i)return!1;throw Error("The set contains at least one similar element.")}return e.add(t),!0},zf=(e,t,[n,i],r)=>{Bf(e,[t,n,i],e=>e[0]===t&&e[1]===n,r)},Vf=(e,[t,n,i],r)=>{const o=e.get(t);void 0===o?e.set(t,new Set([[n,i]])):Bf(o,[n,i],e=>e[0]===n,r)},Hf=e=>"inputs"in e,Uf=(e,t,n,i)=>{if(Hf(t)){const r=t.inputs[i];return e.connect(r,n,0),[r,n,0]}return e.connect(t,n,i),[t,n,i]},Wf=(e,t,n)=>{for(const i of e)if(i[0]===t&&i[1]===n)return e.delete(i),i;return null},qf=(e,t)=>{if(!bf(e).delete(t))throw new Error("Missing the expected event listener.")},$f=(e,t,n)=>{const i=gf(e,t),r=vf(i,e=>e[0]===n);return 0===i.size&&e.delete(t),r},Gf=(e,t,n,i)=>{Hf(t)?e.disconnect(t.inputs[i],n,0):e.disconnect(t,n,i)},Yf=e=>gf(nf,e),Xf=e=>gf(of,e),Kf=e=>cf.has(e),Zf=e=>!ef.has(e),Qf=e=>new Promise(t=>{const n=e.createScriptProcessor(256,1,1),i=e.createGain(),r=e.createBuffer(1,2,44100),o=r.getChannelData(0);o[0]=1,o[1]=1;const s=e.createBufferSource();s.buffer=r,s.loop=!0,s.connect(n).connect(e.destination),s.connect(i),s.disconnect(i),n.onaudioprocess=i=>{const r=i.inputBuffer.getChannelData(0);Array.prototype.some.call(r,e=>1===e)?t(!0):t(!1),s.stop(),n.onaudioprocess=null,s.disconnect(n),n.disconnect(e.destination)},s.start()}),Jf=(e,t)=>{const n=new Map;for(const i of e)for(const e of i){const t=n.get(e);n.set(e,void 0===t?1:t+1)}n.forEach((e,n)=>t(n,e))},em=e=>"context"in e,tm=(e,t,n,i,r)=>{const[o,s]=((e,t,n,i)=>{const{activeInputs:r,passiveInputs:o}=Mf(t),s=Wf(r[i],e,n);return null===s?[yf(o,e,n,i)[2],!1]:[s[2],!0]})(e,n,i,r);if(null!==o&&(qf(e,o),!s||t||Kf(e)||Gf(Yf(e),Yf(n),i,r)),Af(n)){const{activeInputs:e}=Mf(n);Sf(n,e)}},nm=(e,t,n,i)=>{const[r,o]=((e,t,n)=>{const{activeInputs:i,passiveInputs:r}=Nf(t),o=Wf(i,e,n);return null===o?[$f(r,e,n)[1],!1]:[o[2],!0]})(e,n,i);null!==r&&(qf(e,r),!o||t||Kf(e)||Yf(e).disconnect(Xf(n),i))};class im{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,t=null){return this._map.forEach((n,i)=>e.call(t,n,i,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const rm={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}};function om(e,t,n,i,r){if("function"==typeof e.copyFromChannel)0===t[n].byteLength&&(t[n]=new Float32Array(128)),e.copyFromChannel(t[n],i,r);else{const o=e.getChannelData(i);if(0===t[n].byteLength)t[n]=o.slice(r,r+128);else{const e=new Float32Array(o.buffer,r*Float32Array.BYTES_PER_ELEMENT,128);t[n].set(e)}}}const sm=(e,t,n,i,r)=>{"function"==typeof e.copyToChannel?0!==t[n].byteLength&&e.copyToChannel(t[n],i,r):0!==t[n].byteLength&&e.getChannelData(i).set(t[n],r)},am=(e,t)=>{const n=[];for(let i=0;i<e;i+=1){const e=[],r="number"==typeof t?t:t[i];for(let t=0;t<r;t+=1)e.push(new Float32Array(128));n.push(e)}return n},cm={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},lm={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},hm={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},dm={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},um={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},pm={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},fm=(e,t,n)=>{const i=t[n];if(void 0===i)throw e();return i},mm={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},gm={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},vm=()=>new DOMException("","InvalidStateError"),ym=()=>new DOMException("","InvalidAccessError"),bm={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},_m=(e,t,n,i,r,o,s,a,c,l,h)=>{const d=l.length;let u=a;for(let p=0;p<d;p+=1){let a=n[0]*l[p];for(let t=1;t<r;t+=1){const i=u-t&c-1;a+=n[t]*o[i],a-=e[t]*s[i]}for(let e=r;e<i;e+=1)a+=n[e]*o[u-e&c-1];for(let n=r;n<t;n+=1)a-=e[n]*s[u-n&c-1];o[u]=l[p],s[u]=a,u=u+1&c-1,h[p]=a}return u},wm={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},Cm=e=>{const t=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=e.decodeAudioData(t.buffer,()=>{});return void 0!==n&&(n.catch(()=>{}),!0)}catch{}return!1},Sm=(e,t,n)=>{const i=t[n];void 0!==i&&i!==e[n]&&(e[n]=i)},km=(e,t)=>{Sm(e,t,"channelCount"),Sm(e,t,"channelCountMode"),Sm(e,t,"channelInterpretation")},xm=e=>"function"==typeof e.getFloatTimeDomainData,Em=(e,t,n)=>{const i=t[n];void 0!==i&&i!==e[n].value&&(e[n].value=i)},Om=e=>{var t;e.start=(t=e.start,(n=0,i=0,r)=>{if("number"==typeof r&&r<0||i<0||n<0)throw new RangeError("The parameters can't be negative.");t.call(e,n,i,r)})},Tm=e=>{var t;e.stop=(t=e.stop,(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");t.call(e,n)})},Pm=(e,t)=>null===e?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(e*t))))),Rm=(e,t)=>{const n=e.createBiquadFilter();return km(n,t),Em(n,t,"Q"),Em(n,t,"detune"),Em(n,t,"frequency"),Em(n,t,"gain"),Sm(n,t,"type"),n},Im=(e,t)=>{const n=e.createChannelSplitter(t.numberOfOutputs);return km(n,t),(e=>{const t=e.numberOfOutputs;Object.defineProperty(e,"channelCount",{get:()=>t,set:e=>{if(e!==t)throw vm()}}),Object.defineProperty(e,"channelCountMode",{get:()=>"explicit",set:e=>{if("explicit"!==e)throw vm()}}),Object.defineProperty(e,"channelInterpretation",{get:()=>"discrete",set:e=>{if("discrete"!==e)throw vm()}})})(n),n},Am=(e,t)=>(e.connect=t.connect.bind(t),e.disconnect=t.disconnect.bind(t),e),Dm=(e,t)=>{const n=e.createDelay(t.maxDelayTime);return km(n,t),Em(n,t,"delayTime"),n},Mm=(e,t)=>{const n=e.createGain();return km(n,t),Em(n,t,"gain"),n};function Nm(e,t){const n=t[0]*t[0]+t[1]*t[1];return[(e[0]*t[0]+e[1]*t[1])/n,(e[1]*t[0]-e[0]*t[1])/n]}function Fm(e,t){let n=[0,0];for(let o=e.length-1;o>=0;o-=1)n=[(i=n)[0]*(r=t)[0]-i[1]*r[1],i[0]*r[1]+i[1]*r[0]],n[0]+=e[o];var i,r;return n}const Lm=(e,t,n,i)=>e.createScriptProcessor(t,n,i),jm=()=>new DOMException("","NotSupportedError"),Bm={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},zm={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},Vm={disableNormalization:!1},Hm={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},Um={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},Wm=e=>{if(null===e)return!1;const t=e.length;return t%2!=0?0!==e[Math.floor(t/2)]:e[t/2-1]+e[t/2]!==0},qm=(e,t,n,i)=>{let r=Object.getPrototypeOf(e);for(;!r.hasOwnProperty(t);)r=Object.getPrototypeOf(r);const{get:o,set:s}=Object.getOwnPropertyDescriptor(r,t);Object.defineProperty(e,t,{get:n(o),set:i(s)})},$m=(e,t,n)=>{try{e.setValueAtTime(t,n)}catch(i){if(9!==i.code)throw i;$m(e,t,n+1e-7)}},Gm=e=>{const t=e.createOscillator();try{t.start(-1)}catch(n){return n instanceof RangeError}return!1},Ym=e=>{const t=e.createBuffer(1,1,44100),n=e.createBufferSource();n.buffer=t,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},Xm=e=>{const t=e.createOscillator();try{t.stop(-1)}catch(n){return n instanceof RangeError}return!1},Km=(e,t)=>{const n=t.createGain();e.connect(n);const i=(r=e.disconnect,()=>{r.call(e,n),e.removeEventListener("ended",i)});var r;e.addEventListener("ended",i),Am(e,n),e.stop=(t=>{let i=!1;return(r=0)=>{if(i)try{t.call(e,r)}catch{n.gain.setValueAtTime(0,r)}else t.call(e,r),i=!0}})(e.stop)},Zm=(e,t)=>n=>{const i={value:e};return Object.defineProperties(n,{currentTarget:i,target:i}),"function"==typeof t?t.call(e,n):t.handleEvent.call(e,n)},Qm=(Jm=Bf,(e,t,[n,i,r],o)=>{Jm(e[i],[t,n,r],e=>e[0]===t&&e[1]===n,o)});var Jm;const eg=(e=>(t,n,[i,r,o],s)=>{const a=t.get(i);void 0===a?t.set(i,new Set([[r,n,o]])):e(a,[r,n,o],e=>e[0]===r&&e[1]===n,s)})(Bf),tg=(e=>(t,n,i,r)=>e(t[r],e=>e[0]===n&&e[1]===i))(vf),ng=new WeakMap,ig=(e=>t=>{var n;return null!==(n=e.get(t))&&void 0!==n?n:0})(ng),rg=(og=new Map,sg=new WeakMap,(e,t)=>{const n=sg.get(e);if(void 0!==n)return n;const i=og.get(e);if(void 0!==i)return i;try{const n=t();return n instanceof Promise?(og.set(e,n),n.catch(()=>!1).then(t=>(og.delete(e),sg.set(e,t),t))):(sg.set(e,n),n)}catch{return sg.set(e,!1),!1}});var og,sg;const ag="undefined"==typeof window?null:window,cg=(lg=rg,hg=Of,(e,t)=>{const n=e.createAnalyser();if(km(n,t),!(t.maxDecibels>t.minDecibels))throw hg();return Sm(n,t,"fftSize"),Sm(n,t,"maxDecibels"),Sm(n,t,"minDecibels"),Sm(n,t,"smoothingTimeConstant"),lg(xm,()=>xm(n))||(e=>{e.getFloatTimeDomainData=t=>{const n=new Uint8Array(t.length);e.getByteTimeDomainData(n);const i=Math.max(n.length,e.fftSize);for(let e=0;e<i;e+=1)t[e]=.0078125*(n[e]-128);return t}})(n),n});var lg,hg;const dg=(ug=Mf,e=>{const t=ug(e);if(null===t.renderer)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return t.renderer});var ug;const pg=((e,t,n)=>async(i,r,o,s)=>{const a=e(i),c=[...s,i];await Promise.all(a.activeInputs.map((e,s)=>Array.from(e).filter(([e])=>!c.includes(e)).map(async([e,a])=>{const l=t(e),h=await l.render(e,r,c),d=i.context.destination;n(e)||i===d&&n(i)||h.connect(o,a,s)})).reduce((e,t)=>[...e,...t],[]))})(Mf,dg,Kf),fg=(mg=cg,gg=Yf,vg=pg,()=>{const e=new WeakMap;return{render(t,n,i){const r=e.get(n);return void 0!==r?Promise.resolve(r):(async(t,n,i)=>{let r=gg(t);return xf(r,n)||(r=mg(n,{channelCount:r.channelCount,channelCountMode:r.channelCountMode,channelInterpretation:r.channelInterpretation,fftSize:r.fftSize,maxDecibels:r.maxDecibels,minDecibels:r.minDecibels,smoothingTimeConstant:r.smoothingTimeConstant})),e.set(n,r),await vg(t,n,r,i),r})(t,n,i)}}});var mg,gg,vg;const yg=(bg=sf,e=>{const t=bg.get(e);if(void 0===t)throw vm();return t});var bg;const _g=(e=>null===e?null:e.hasOwnProperty("OfflineAudioContext")?e.OfflineAudioContext:e.hasOwnProperty("webkitOfflineAudioContext")?e.webkitOfflineAudioContext:null)(ag),wg=(Cg=_g,e=>null!==Cg&&e instanceof Cg);var Cg;const Sg=new WeakMap,kg=(xg=Zm,class{constructor(e){this._nativeEventTarget=e,this._listeners=new WeakMap}addEventListener(e,t,n){if(null!==t){let i=this._listeners.get(t);void 0===i&&(i=xg(this,t),"function"==typeof t&&this._listeners.set(t,i)),this._nativeEventTarget.addEventListener(e,i,n)}}dispatchEvent(e){return this._nativeEventTarget.dispatchEvent(e)}removeEventListener(e,t,n){const i=null===t?void 0:this._listeners.get(t);this._nativeEventTarget.removeEventListener(e,void 0===i?null:i,n)}});var xg;const Eg=(e=>null===e?null:e.hasOwnProperty("AudioContext")?e.AudioContext:e.hasOwnProperty("webkitAudioContext")?e.webkitAudioContext:null)(ag),Og=(Tg=Eg,e=>null!==Tg&&e instanceof Tg);var Tg;const Pg=(e=>t=>null!==e&&"function"==typeof e.AudioNode&&t instanceof e.AudioNode)(ag),Rg=(e=>t=>null!==e&&"function"==typeof e.AudioParam&&t instanceof e.AudioParam)(ag),Ig=((e,t,n,i,r,o,s,a,c,l,h,d,u,p,f)=>class extends l{constructor(t,i,r,o){super(r),this._context=t,this._nativeAudioNode=r;const s=h(t);d(s)&&!0!==n(Qf,()=>Qf(s))&&(e=>{const t=new Map;var n,i;e.connect=(n=e.connect.bind(e),(e,i=0,r=0)=>{const o=em(e)?n(e,i,r):n(e,i),s=t.get(e);return void 0===s?t.set(e,[{input:r,output:i}]):s.every(e=>e.input!==r||e.output!==i)&&s.push({input:r,output:i}),o}),e.disconnect=(i=e.disconnect,(n,r,o)=>{if(i.apply(e),void 0===n)t.clear();else if("number"==typeof n)for(const[e,i]of t){const r=i.filter(e=>e.output!==n);0===r.length?t.delete(e):t.set(e,r)}else if(t.has(n))if(void 0===r)t.delete(n);else{const e=t.get(n);if(void 0!==e){const i=e.filter(e=>e.output!==r&&(e.input!==o||void 0===o));0===i.length?t.delete(n):t.set(n,i)}}for(const[i,s]of t)s.forEach(t=>{em(i)?e.connect(i,t.output,t.input):e.connect(i,t.output)})})})(r),nf.set(this,r),af.set(this,new Set),"closed"!==t.state&&i&&_f(this),e(this,o,r)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(e){this._nativeAudioNode.channelCount=e}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(e){this._nativeAudioNode.channelCountMode=e}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(e){this._nativeAudioNode.channelInterpretation=e}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(e,n=0,a=0){if(n<0||n>=this._nativeAudioNode.numberOfOutputs)throw r();const l=h(this._context),d=f(l);if(u(e)||p(e))throw o();if(Lf(e)){const r=Yf(e);try{const t=Uf(this._nativeAudioNode,r,n,a),i=Zf(this);(d||i)&&this._nativeAudioNode.disconnect(...t),"closed"!==this.context.state&&!i&&Zf(e)&&_f(e)}catch(g){if(12===g.code)throw o();throw g}if(t(this,e,n,a,d)){const t=c([this],e);Jf(t,i(d))}return e}const m=Xf(e);if("playbackRate"===m.name)throw s();try{this._nativeAudioNode.connect(m,n),(d||Zf(this))&&this._nativeAudioNode.disconnect(m,n)}catch(g){if(12===g.code)throw o();throw g}if(((e,t,n,i)=>{const{activeInputs:r,passiveInputs:o}=Nf(t),{outputs:s}=Mf(e),a=bf(e),c=s=>{const a=Yf(e),c=Xf(t);if(s){const t=$f(o,e,n);zf(r,e,t,!1),i||Kf(e)||a.connect(c,n)}else{const t=((e,t,n)=>vf(e,e=>e[0]===t&&e[1]===n))(r,e,n);Vf(o,t,!1),i||Kf(e)||a.disconnect(c,n)}};return!!Bf(s,[t,n],e=>e[0]===t&&e[1]===n,!0)&&(a.add(c),Af(e)?zf(r,e,[n,c],!0):Vf(o,[e,n,c],!0),!0)})(this,e,n,d)){const t=c([this],e);Jf(t,i(d))}}disconnect(e,t,n){let i;const s=h(this._context),l=f(s);if(void 0===e)i=((e,t)=>{const n=Mf(e),i=[];for(const r of n.outputs)jf(r)?tm(e,t,...r):nm(e,t,...r),i.push(r[0]);return n.outputs.clear(),i})(this,l);else if("number"==typeof e){if(e<0||e>=this.numberOfOutputs)throw r();i=((e,t,n)=>{const i=Mf(e),r=[];for(const o of i.outputs)o[1]===n&&(jf(o)?tm(e,t,...o):nm(e,t,...o),r.push(o[0]),i.outputs.delete(o));return r})(this,l,e)}else{if(void 0!==t&&(t<0||t>=this.numberOfOutputs))throw r();if(Lf(e)&&void 0!==n&&(n<0||n>=e.numberOfInputs))throw r();if(i=((e,t,n,i,r)=>{const o=Mf(e);return Array.from(o.outputs).filter(e=>!(e[0]!==n||void 0!==i&&e[1]!==i||void 0!==r&&e[2]!==r)).map(n=>(jf(n)?tm(e,t,...n):nm(e,t,...n),o.outputs.delete(n),n[0]))})(this,l,e,t,n),0===i.length)throw o()}for(const r of i){const e=c([this],r);Jf(e,a)}}})((Ag=tf,(e,t,n)=>{const i=[];for(let r=0;r<n.numberOfInputs;r+=1)i.push(new Set);Ag.set(e,{activeInputs:i,outputs:new Set,passiveInputs:new WeakMap,renderer:t})}),((e,t,n,i,r,o,s,a,c,l,h,d,u)=>{const p=new WeakMap;return(f,m,g,v,y)=>{const{activeInputs:b,passiveInputs:_}=o(m),{outputs:w}=o(f),C=a(f),S=o=>{const a=c(m),l=c(f);if(o){const t=yf(_,f,g,v);e(b,f,t,!1),y||d(f)||n(l,a,g,v),u(m)&&_f(m)}else{const e=i(b,f,g,v);t(_,v,e,!1),y||d(f)||r(l,a,g,v);const n=s(m);if(0===n)h(m)&&Sf(m,b);else{const e=p.get(m);void 0!==e&&clearTimeout(e),p.set(m,setTimeout(()=>{h(m)&&Sf(m,b)},1e3*n))}}};return!!l(w,[m,g,v],e=>e[0]===m&&e[1]===g&&e[2]===v,!0)&&(C.add(S),h(f)?e(b,f,[g,v,S],!0):t(_,v,[f,g,S],!0),!0)}})(Qm,eg,Uf,tg,Gf,Mf,ig,bf,Yf,Bf,Af,Kf,Zf),rg,((e,t,n,i,r,o)=>s=>(a,c)=>{const l=e.get(a);if(void 0===l){if(!s&&o(a)){const e=i(a),{outputs:o}=n(a);for(const n of o)if(jf(n)){const r=i(n[0]);t(e,r,n[1],n[2])}else{const t=r(n[0]);e.disconnect(t,n[1])}}e.set(a,c)}else e.set(a,l+c)})(cf,Gf,Mf,Yf,Xf,Af),Of,ym,jm,((e,t,n,i,r,o,s,a)=>(c,l)=>{const h=t.get(c);if(void 0===h)throw new Error("Missing the expected cycle count.");const d=o(c.context),u=a(d);if(h===l){if(t.delete(c),!u&&s(c)){const t=i(c),{outputs:o}=n(c);for(const n of o)if(jf(n)){const r=i(n[0]);e(t,r,n[1],n[2])}else{const e=r(n[0]);t.connect(e,n[1])}}}else t.set(c,h-l)})(Uf,cf,Mf,Yf,Xf,yg,Af,wg),((e,t,n)=>function i(r,o){const s=Lf(o)?o:n(e,o);if((e=>"delayTime"in e)(s))return[];if(r[0]===s)return[r];if(r.includes(s))return[];const{outputs:a}=t(s);return Array.from(a).map(e=>i([...r,s],e[0])).reduce((e,t)=>e.concat(t),[])})(Sg,Mf,gf),kg,yg,Og,Pg,Rg,wg);var Ag;const Dg=((e,t,n,i,r,o)=>class extends e{constructor(e,n){const s=r(e),a={...kf,...n},c=i(s,a);super(e,!1,c,o(s)?t():null),this._nativeAnalyserNode=c}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(e){this._nativeAnalyserNode.fftSize=e}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(e){const t=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=e,!(e>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=t,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(e){const t=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=e,!(this._nativeAnalyserNode.maxDecibels>e))throw this._nativeAnalyserNode.minDecibels=t,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(e){this._nativeAnalyserNode.smoothingTimeConstant=e}getByteFrequencyData(e){this._nativeAnalyserNode.getByteFrequencyData(e)}getByteTimeDomainData(e){this._nativeAnalyserNode.getByteTimeDomainData(e)}getFloatFrequencyData(e){this._nativeAnalyserNode.getFloatFrequencyData(e)}getFloatTimeDomainData(e){this._nativeAnalyserNode.getFloatTimeDomainData(e)}})(Ig,fg,Of,cg,yg,wg),Mg=new WeakSet,Ng=(e=>null===e?null:e.hasOwnProperty("AudioBuffer")?e.AudioBuffer:null)(ag),Fg=(Lg=new Uint32Array(1),e=>(Lg[0]=e,Lg[0]));var Lg;const jg=((e,t)=>n=>{n.copyFromChannel=(i,r,o=0)=>{const s=e(o),a=e(r);if(a>=n.numberOfChannels)throw t();const c=n.length,l=n.getChannelData(a),h=i.length;for(let e=s<0?-s:0;e+s<c&&e<h;e+=1)i[e]=l[e+s]},n.copyToChannel=(i,r,o=0)=>{const s=e(o),a=e(r);if(a>=n.numberOfChannels)throw t();const c=n.length,l=n.getChannelData(a),h=i.length;for(let e=s<0?-s:0;e+s<c&&e<h;e+=1)l[e+s]=i[e]}})(Fg,Of),Bg=(e=>t=>{t.copyFromChannel=(n=>(i,r,o=0)=>{const s=e(o),a=e(r);if(s<t.length)return n.call(t,i,a,s)})(t.copyFromChannel),t.copyToChannel=(n=>(i,r,o=0)=>{const s=e(o),a=e(r);if(s<t.length)return n.call(t,i,a,s)})(t.copyToChannel)})(Fg),zg=((e,t,n,i,r,o,s,a)=>{let c=null;return class l{constructor(l){if(null===r)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:h,numberOfChannels:d,sampleRate:u}={...Pf,...l};null===c&&(c=new r(1,1,44100));const p=null!==i&&t(o,o)?new i({length:h,numberOfChannels:d,sampleRate:u}):c.createBuffer(d,h,u);if(0===p.numberOfChannels)throw n();return"function"!=typeof p.copyFromChannel?(s(p),Tf(p)):t(Ef,()=>Ef(p))||a(p),e.add(p),p}static[Symbol.hasInstance](t){return null!==t&&"object"==typeof t&&Object.getPrototypeOf(t)===l.prototype||e.has(t)}}})(Mg,rg,jm,Ng,_g,(Vg=Ng,()=>{if(null===Vg)return!1;try{new Vg({length:1,sampleRate:44100})}catch{return!1}return!0}),jg,Bg);var Vg;const Hg=(Ug=Mm,(e,t)=>{const n=Ug(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});t.connect(n).connect(e.destination);const i=()=>{t.removeEventListener("ended",i),t.disconnect(n),n.disconnect()};t.addEventListener("ended",i)});var Ug;const Wg=((e,t,n)=>async(i,r,o,s)=>{const a=t(i);await Promise.all(Array.from(a.activeInputs).map(async([t,i])=>{const a=e(t),c=await a.render(t,r,s);n(t)||c.connect(o,i)}))})(dg,Nf,Kf),qg=(e=>(t,n,i,r)=>e(n,t,i,r))(Wg),$g=((e,t,n,i,r,o,s,a,c,l,h)=>(c,d)=>{const u=c.createBufferSource();return km(u,d),Em(u,d,"playbackRate"),Sm(u,d,"buffer"),Sm(u,d,"loop"),Sm(u,d,"loopEnd"),Sm(u,d,"loopStart"),t(n,()=>n(c))||(e=>{e.start=(t=>{let n=!1;return(i=0,r=0,o)=>{if(n)throw vm();t.call(e,i,r,o),n=!0}})(e.start)})(u),t(i,()=>i(c))||(e=>{var t;e.start=(t=e.start,(n=0,i=0,r)=>{const o=e.buffer,s=null===o?i:Math.min(o.duration,i);null!==o&&s>o.duration-.5/e.context.sampleRate?t.call(e,n,0,0):t.call(e,n,s,r)})})(u),t(r,()=>r(c))||l(u,c),t(o,()=>o(c))||Om(u),t(s,()=>s(c))||h(u,c),t(a,()=>a(c))||Tm(u),e(c,u),u})(Hg,rg,e=>{const t=e.createBufferSource();t.start();try{t.start()}catch{return!0}return!1},e=>{const t=e.createBufferSource(),n=e.createBuffer(1,1,44100);t.buffer=n;try{t.start(0,1)}catch{return!1}return!0},e=>{const t=e.createBufferSource();t.start();try{t.stop()}catch{return!1}return!0},Gm,Ym,Xm,0,(Gg=qm,(e,t)=>{const n=t.createBuffer(1,1,44100);null===e.buffer&&(e.buffer=n),Gg(e,"buffer",t=>()=>{const i=t.call(e);return i===n?null:i},t=>i=>t.call(e,null===i?n:i))}),Km);var Gg;const Yg=((e,t)=>(n,i,r,o)=>(e(i).replay(r),t(i,n,r,o)))((e=>t=>{const n=e(t);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer})(Nf),Wg),Xg=((e,t,n,i,r)=>()=>{const o=new WeakMap;let s=null,a=null;return{set start(e){s=e},set stop(e){a=e},render(c,l,h){const d=o.get(l);return void 0!==d?Promise.resolve(d):(async(c,l,h)=>{let d=n(c);const u=xf(d,l);return u||(d=t(l,{buffer:d.buffer,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,loop:d.loop,loopEnd:d.loopEnd,loopStart:d.loopStart,playbackRate:d.playbackRate.value}),null!==s&&d.start(...s),null!==a&&d.stop(a)),o.set(l,d),u?await e(l,c.playbackRate,d.playbackRate,h):await i(l,c.playbackRate,d.playbackRate,h),await r(c,l,d,h),d})(c,l,h)}}})(qg,$g,Yf,Yg,pg),Kg=((e,t,n,i,r,o,s,a,c,l,h,d,u)=>(i,p,f,m=null,g=null)=>{const v=new Jp.AutomationEventList(f.defaultValue),y=p?(e=>({replay(t){for(const n of e)if("exponentialRampToValue"===n.type){const{endTime:e,value:i}=n;t.exponentialRampToValueAtTime(i,e)}else if("linearRampToValue"===n.type){const{endTime:e,value:i}=n;t.linearRampToValueAtTime(i,e)}else if("setTarget"===n.type){const{startTime:e,target:i,timeConstant:r}=n;t.setTargetAtTime(i,e,r)}else if("setValue"===n.type){const{startTime:e,value:i}=n;t.setValueAtTime(i,e)}else{if("setValueCurve"!==n.type)throw new Error("Can't apply an unknown automation.");{const{duration:e,startTime:i,values:r}=n;t.setValueCurveAtTime(r,i,e)}}}}))(v):null,b={get defaultValue(){return f.defaultValue},get maxValue(){return null===m?f.maxValue:m},get minValue(){return null===g?f.minValue:g},get value(){return f.value},set value(e){f.value=e,b.setValueAtTime(e,i.context.currentTime)},cancelAndHoldAtTime(e){if("function"==typeof f.cancelAndHoldAtTime)null===y&&v.flush(i.context.currentTime),v.add(r(e)),f.cancelAndHoldAtTime(e);else{const t=Array.from(v).pop();null===y&&v.flush(i.context.currentTime),v.add(r(e));const n=Array.from(v).pop();f.cancelScheduledValues(e),t!==n&&void 0!==n&&("exponentialRampToValue"===n.type?f.exponentialRampToValueAtTime(n.value,n.endTime):"linearRampToValue"===n.type?f.linearRampToValueAtTime(n.value,n.endTime):"setValue"===n.type?f.setValueAtTime(n.value,n.startTime):"setValueCurve"===n.type&&f.setValueCurveAtTime(n.values,n.startTime,n.duration))}return b},cancelScheduledValues:e=>(null===y&&v.flush(i.context.currentTime),v.add(o(e)),f.cancelScheduledValues(e),b),exponentialRampToValueAtTime(e,t){if(0===e)throw new RangeError;if(!Number.isFinite(t)||t<0)throw new RangeError;return null===y&&v.flush(i.context.currentTime),v.add(s(e,t)),f.exponentialRampToValueAtTime(e,t),b},linearRampToValueAtTime:(e,t)=>(null===y&&v.flush(i.context.currentTime),v.add(a(e,t)),f.linearRampToValueAtTime(e,t),b),setTargetAtTime:(e,t,n)=>(null===y&&v.flush(i.context.currentTime),v.add(c(e,t,n)),f.setTargetAtTime(e,t,n),b),setValueAtTime:(e,t)=>(null===y&&v.flush(i.context.currentTime),v.add(l(e,t)),f.setValueAtTime(e,t),b),setValueCurveAtTime(e,t,n){const r=e instanceof Float32Array?e:new Float32Array(e);if(null!==d&&"webkitAudioContext"===d.name){const e=t+n,o=i.context.sampleRate,s=Math.ceil(t*o),a=Math.floor(e*o),c=a-s,l=new Float32Array(c);for(let i=0;i<c;i+=1){const e=(r.length-1)/n*((s+i)/o-t),a=Math.floor(e),c=Math.ceil(e);l[i]=a===c?r[a]:(1-(e-a))*r[a]+(1-(c-e))*r[c]}null===y&&v.flush(i.context.currentTime),v.add(h(l,t,n)),f.setValueCurveAtTime(l,t,n);const d=a/o;d<e&&u(b,l[l.length-1],d),u(b,r[r.length-1],e)}else null===y&&v.flush(i.context.currentTime),v.add(h(r,t,n)),f.setValueCurveAtTime(r,t,n);return b}};return n.set(b,f),t.set(b,i),e(b,y),b})((Zg=rf,(e,t)=>{Zg.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:t})}),Sg,of,0,Jp.createCancelAndHoldAutomationEvent,Jp.createCancelScheduledValuesAutomationEvent,Jp.createExponentialRampToValueAutomationEvent,Jp.createLinearRampToValueAutomationEvent,Jp.createSetTargetAutomationEvent,Jp.createSetValueAutomationEvent,Jp.createSetValueCurveAutomationEvent,Eg,$m);var Zg;const Qg=((e,t,n,i,r,o,s,a)=>class extends e{constructor(e,i){const a=o(e),c={...Df,...i},l=r(a,c),h=s(a),d=h?t():null;super(e,!1,l,d),this._audioBufferSourceNodeRenderer=d,this._isBufferNullified=!1,this._isBufferSet=null!==c.buffer,this._nativeAudioBufferSourceNode=l,this._onended=null,this._playbackRate=n(this,h,l.playbackRate,If,Rf)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(e){if(this._nativeAudioBufferSourceNode.buffer=e,null!==e){if(this._isBufferSet)throw i();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(e){this._nativeAudioBufferSourceNode.loop=e}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(e){this._nativeAudioBufferSourceNode.loopEnd=e}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(e){this._nativeAudioBufferSourceNode.loopStart=e}get onended(){return this._onended}set onended(e){const t="function"==typeof e?a(this,e):null;this._nativeAudioBufferSourceNode.onended=t;const n=this._nativeAudioBufferSourceNode.onended;this._onended=null!==n&&n===t?e:n}get playbackRate(){return this._playbackRate}start(e=0,t=0,n){if(this._nativeAudioBufferSourceNode.start(e,t,n),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.start=void 0===n?[e,t]:[e,t,n]),"closed"!==this.context.state){_f(this);const e=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",e),Af(this)&&Cf(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",e)}}stop(e=0){this._nativeAudioBufferSourceNode.stop(e),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.stop=e)}})(Ig,Xg,Kg,vm,$g,yg,wg,Zm),Jg=((e,t,n,i,r,o,s,a)=>class extends e{constructor(e,t){const n=o(e),i=s(n),c=r(n,t,i);super(e,!1,c,i?(e=>{let t=null;return{render:(n,i,r)=>(null===t&&(t=(async(t,n,i)=>{const r=n.destination;return await e(t,n,r,i),r})(n,i,r)),t)}})(a):null),this._isNodeOfNativeOfflineAudioContext=i,this._nativeAudioDestinationNode=c}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(e){if(this._isNodeOfNativeOfflineAudioContext)throw i();if(e>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=e}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(e){if(this._isNodeOfNativeOfflineAudioContext)throw i();this._nativeAudioDestinationNode.channelCountMode=e}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}})(Ig,0,Of,vm,((e,t)=>(n,i,r)=>{const o=n.destination;if(o.channelCount!==i)try{o.channelCount=i}catch{}r&&"explicit"!==o.channelCountMode&&(o.channelCountMode="explicit"),0===o.maxChannelCount&&Object.defineProperty(o,"maxChannelCount",{value:i});const s=e(n,{channelCount:i,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,gain:1});return t(s,"channelCount",e=>()=>e.call(s),e=>t=>{e.call(s,t);try{o.channelCount=t}catch(n){if(t>o.maxChannelCount)throw n}}),t(s,"channelCountMode",e=>()=>e.call(s),e=>t=>{e.call(s,t),o.channelCountMode=t}),t(s,"channelInterpretation",e=>()=>e.call(s),e=>t=>{e.call(s,t),o.channelInterpretation=t}),Object.defineProperty(s,"maxChannelCount",{get:()=>o.maxChannelCount}),s.connect(o),s})(Mm,qm),yg,wg,pg),ev=((e,t,n,i,r)=>()=>{const o=new WeakMap;return{render(s,a,c){const l=o.get(a);return void 0!==l?Promise.resolve(l):(async(s,a,c)=>{let l=n(s);const h=xf(l,a);return h||(l=t(a,{Q:l.Q.value,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,detune:l.detune.value,frequency:l.frequency.value,gain:l.gain.value,type:l.type})),o.set(a,l),h?(await e(a,s.Q,l.Q,c),await e(a,s.detune,l.detune,c),await e(a,s.frequency,l.frequency,c),await e(a,s.gain,l.gain,c)):(await i(a,s.Q,l.Q,c),await i(a,s.detune,l.detune,c),await i(a,s.frequency,l.frequency,c),await i(a,s.gain,l.gain,c)),await r(s,a,l,c),l})(s,a,c)}}})(qg,Rm,Yf,Yg,pg),tv=(e=>(t,n)=>e.set(t,n))(ng),nv=(iv=Ig,rv=Kg,ov=ev,sv=ym,av=Rm,cv=yg,lv=wg,hv=tv,class extends iv{constructor(e,t){const n=cv(e),i={...cm,...t},r=av(n,i),o=lv(n);super(e,!1,r,o?ov():null),this._Q=rv(this,o,r.Q,If,Rf),this._detune=rv(this,o,r.detune,1200*Math.log2(If),-1200*Math.log2(If)),this._frequency=rv(this,o,r.frequency,e.sampleRate/2,0),this._gain=rv(this,o,r.gain,40*Math.log10(If),Rf),this._nativeBiquadFilterNode=r,hv(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(e){this._nativeBiquadFilterNode.type=e}getFrequencyResponse(e,t,n){try{this._nativeBiquadFilterNode.getFrequencyResponse(e,t,n)}catch(i){if(11===i.code)throw sv();throw i}if(e.length!==t.length||t.length!==n.length)throw sv()}});var iv,rv,ov,sv,av,cv,lv,hv;const dv=((e,t)=>(n,i,r)=>{const o=new Set;var s,a;return n.connect=(s=n.connect,(r,a=0,c=0)=>{const l=0===o.size;if(t(r))return s.call(n,r,a,c),e(o,[r,a,c],e=>e[0]===r&&e[1]===a&&e[2]===c,!0),l&&i(),r;s.call(n,r,a),e(o,[r,a],e=>e[0]===r&&e[1]===a,!0),l&&i()}),n.disconnect=(a=n.disconnect,(e,i,s)=>{const c=o.size>0;if(void 0===e)a.apply(n),o.clear();else if("number"==typeof e){a.call(n,e);for(const t of o)t[1]===e&&o.delete(t)}else{t(e)?a.call(n,e,i,s):a.call(n,e,i);for(const t of o)t[0]!==e||void 0!==i&&t[1]!==i||void 0!==s&&t[2]!==s||o.delete(t)}c&&0===o.size&&r()}),n})(Bf,Pg);var uv,pv;const fv=((e,t)=>(n,i)=>{const r=n.createChannelMerger(i.numberOfInputs);return null!==e&&"webkitAudioContext"===e.name&&t(n,r),km(r,i),r})(Eg,(uv=vm,pv=dv,(e,t)=>{t.channelCount=1,t.channelCountMode="explicit",Object.defineProperty(t,"channelCount",{get:()=>1,set:()=>{throw uv()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:()=>{throw uv()}});const n=e.createBufferSource();pv(t,()=>{const e=t.numberOfInputs;for(let i=0;i<e;i+=1)n.connect(t,0,i)},()=>n.disconnect(t))})),mv=((e,t,n,i,r)=>class extends e{constructor(e,o){const s=i(e),a={...lm,...o};super(e,!1,n(s,a),r(s)?t():null)}})(Ig,((e,t,n)=>()=>{const i=new WeakMap;return{render(r,o,s){const a=i.get(o);return void 0!==a?Promise.resolve(a):(async(r,o,s)=>{let a=t(r);return xf(a,o)||(a=e(o,{channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfInputs:a.numberOfInputs})),i.set(o,a),await n(r,o,a,s),a})(r,o,s)}}})(fv,Yf,pg),fv,yg,wg),gv=((e,t,n,i,r,o)=>class extends e{constructor(e,o){const s=i(e),a=(e=>({...e,channelCount:e.numberOfOutputs}))({...hm,...o});super(e,!1,n(s,a),r(s)?t():null)}})(Ig,((e,t,n)=>()=>{const i=new WeakMap;return{render(r,o,s){const a=i.get(o);return void 0!==a?Promise.resolve(a):(async(r,o,s)=>{let a=t(r);return xf(a,o)||(a=e(o,{channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfOutputs:a.numberOfOutputs})),i.set(o,a),await n(r,o,a,s),a})(r,o,s)}}})(Im,Yf,pg),Im,yg,wg),vv=((e,t,n,i,r)=>(o,s)=>{if(void 0===o.createConstantSource)return n(o,s);const a=o.createConstantSource();return km(a,s),Em(a,s,"offset"),t(i,()=>i(o))||Om(a),t(r,()=>r(o))||Tm(a),e(o,a),a})(Hg,rg,((e,t,n,i)=>(r,{offset:o,...s})=>{const a=r.createBuffer(1,2,44100),c=t(r,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),l=n(r,{...s,gain:o}),h=a.getChannelData(0);h[0]=1,h[1]=1,c.buffer=a,c.loop=!0;const d={get bufferSize(){},get channelCount(){return l.channelCount},set channelCount(e){l.channelCount=e},get channelCountMode(){return l.channelCountMode},set channelCountMode(e){l.channelCountMode=e},get channelInterpretation(){return l.channelInterpretation},set channelInterpretation(e){l.channelInterpretation=e},get context(){return l.context},get inputs(){return[]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return l.numberOfOutputs},get offset(){return l.gain},get onended(){return c.onended},set onended(e){c.onended=e},addEventListener:(...e)=>c.addEventListener(e[0],e[1],e[2]),dispatchEvent:(...e)=>c.dispatchEvent(e[0]),removeEventListener:(...e)=>c.removeEventListener(e[0],e[1],e[2]),start(e=0){c.start.call(c,e)},stop(e=0){c.stop.call(c,e)}};return e(r,c),i(Am(d,l),()=>c.connect(l),()=>c.disconnect(l))})(Hg,$g,Mm,dv),Gm,Xm),yv=((e,t,n,i,r,o,s)=>class extends e{constructor(e,s){const a=r(e),c={...dm,...s},l=i(a,c),h=o(a),d=h?n():null;super(e,!1,l,d),this._constantSourceNodeRenderer=d,this._nativeConstantSourceNode=l,this._offset=t(this,h,l.offset,If,Rf),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(e){const t="function"==typeof e?s(this,e):null;this._nativeConstantSourceNode.onended=t;const n=this._nativeConstantSourceNode.onended;this._onended=null!==n&&n===t?e:n}start(e=0){if(this._nativeConstantSourceNode.start(e),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.start=e),"closed"!==this.context.state){_f(this);const e=()=>{this._nativeConstantSourceNode.removeEventListener("ended",e),Af(this)&&Cf(this)};this._nativeConstantSourceNode.addEventListener("ended",e)}}stop(e=0){this._nativeConstantSourceNode.stop(e),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.stop=e)}})(Ig,Kg,((e,t,n,i,r)=>()=>{const o=new WeakMap;let s=null,a=null;return{set start(e){s=e},set stop(e){a=e},render(c,l,h){const d=o.get(l);return void 0!==d?Promise.resolve(d):(async(c,l,h)=>{let d=n(c);const u=xf(d,l);return u||(d=t(l,{channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,offset:d.offset.value}),null!==s&&d.start(s),null!==a&&d.stop(a)),o.set(l,d),u?await e(l,c.offset,d.offset,h):await i(l,c.offset,d.offset,h),await r(c,l,d,h),d})(c,l,h)}}})(qg,vv,Yf,Yg,pg),vv,yg,wg,Zm),bv=((e,t)=>(n,i)=>{const r=n.createConvolver();if(km(r,i),i.disableNormalization===r.normalize&&(r.normalize=!i.disableNormalization),Sm(r,i,"buffer"),i.channelCount>2)throw e();if(t(r,"channelCount",e=>()=>e.call(r),t=>n=>{if(n>2)throw e();return t.call(r,n)}),"max"===i.channelCountMode)throw e();return t(r,"channelCountMode",e=>()=>e.call(r),t=>n=>{if("max"===n)throw e();return t.call(r,n)}),r})(jm,qm),_v=((e,t,n,i,r,o)=>class extends e{constructor(e,s){const a=i(e),c={...um,...s},l=n(a,c);super(e,!1,l,r(a)?t():null),this._isBufferNullified=!1,this._nativeConvolverNode=l,null!==c.buffer&&o(this,c.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(e){this._nativeConvolverNode.buffer=e,null===e&&null!==this._nativeConvolverNode.buffer?(this._nativeConvolverNode.buffer=this._nativeConvolverNode.context.createBuffer(1,1,44100),this._isBufferNullified=!0,o(this,0)):(this._isBufferNullified=!1,o(this,null===this._nativeConvolverNode.buffer?0:this._nativeConvolverNode.buffer.duration))}get normalize(){return this._nativeConvolverNode.normalize}set normalize(e){this._nativeConvolverNode.normalize=e}})(Ig,((e,t,n)=>()=>{const i=new WeakMap;return{render(r,o,s){const a=i.get(o);return void 0!==a?Promise.resolve(a):(async(r,o,s)=>{let a=t(r);return xf(a,o)||(a=e(o,{buffer:a.buffer,channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,disableNormalization:!a.normalize})),i.set(o,a),Hf(a)?await n(r,o,a.inputs[0],s):await n(r,o,a,s),a})(r,o,s)}}})(bv,Yf,pg),bv,yg,wg,tv),wv=((e,t,n,i,r,o,s)=>class extends e{constructor(e,a){const c=r(e),l={...pm,...a},h=i(c,l),d=o(c);super(e,!1,h,d?n(l.maxDelayTime):null),this._delayTime=t(this,d,h.delayTime),s(this,l.maxDelayTime)}get delayTime(){return this._delayTime}})(Ig,Kg,((e,t,n,i,r)=>o=>{const s=new WeakMap;return{render(a,c,l){const h=s.get(c);return void 0!==h?Promise.resolve(h):(async(a,c,l)=>{let h=n(a);const d=xf(h,c);return d||(h=t(c,{channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,delayTime:h.delayTime.value,maxDelayTime:o})),s.set(c,h),d?await e(c,a.delayTime,h.delayTime,l):await i(c,a.delayTime,h.delayTime,l),await r(a,c,h,l),h})(a,c,l)}}})(qg,Dm,Yf,Yg,pg),Dm,yg,wg,tv),Cv=(Sv=jm,(e,t)=>{const n=e.createDynamicsCompressor();if(km(n,t),t.channelCount>2)throw Sv();if("max"===t.channelCountMode)throw Sv();return Em(n,t,"attack"),Em(n,t,"knee"),Em(n,t,"ratio"),Em(n,t,"release"),Em(n,t,"threshold"),n});var Sv;const kv=((e,t,n,i,r,o,s,a)=>class extends e{constructor(e,r){const c=o(e),l={...mm,...r},h=i(c,l),d=s(c);super(e,!1,h,d?n():null),this._attack=t(this,d,h.attack),this._knee=t(this,d,h.knee),this._nativeDynamicsCompressorNode=h,this._ratio=t(this,d,h.ratio),this._release=t(this,d,h.release),this._threshold=t(this,d,h.threshold),a(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(e){const t=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=e,e>2)throw this._nativeDynamicsCompressorNode.channelCount=t,r()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(e){const t=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=e,"max"===e)throw this._nativeDynamicsCompressorNode.channelCountMode=t,r()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return"number"==typeof this._nativeDynamicsCompressorNode.reduction.value?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}})(Ig,Kg,((e,t,n,i,r)=>()=>{const o=new WeakMap;return{render(s,a,c){const l=o.get(a);return void 0!==l?Promise.resolve(l):(async(s,a,c)=>{let l=n(s);const h=xf(l,a);return h||(l=t(a,{attack:l.attack.value,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,knee:l.knee.value,ratio:l.ratio.value,release:l.release.value,threshold:l.threshold.value})),o.set(a,l),h?(await e(a,s.attack,l.attack,c),await e(a,s.knee,l.knee,c),await e(a,s.ratio,l.ratio,c),await e(a,s.release,l.release,c),await e(a,s.threshold,l.threshold,c)):(await i(a,s.attack,l.attack,c),await i(a,s.knee,l.knee,c),await i(a,s.ratio,l.ratio,c),await i(a,s.release,l.release,c),await i(a,s.threshold,l.threshold,c)),await r(s,a,l,c),l})(s,a,c)}}})(qg,Cv,Yf,Yg,pg),Cv,jm,yg,wg,tv),xv=((e,t,n,i,r,o)=>class extends e{constructor(e,s){const a=r(e),c={...gm,...s},l=i(a,c),h=o(a);super(e,!1,l,h?n():null),this._gain=t(this,h,l.gain,If,Rf)}get gain(){return this._gain}})(Ig,Kg,((e,t,n,i,r)=>()=>{const o=new WeakMap;return{render(s,a,c){const l=o.get(a);return void 0!==l?Promise.resolve(l):(async(s,a,c)=>{let l=n(s);const h=xf(l,a);return h||(l=t(a,{channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,gain:l.gain.value})),o.set(a,l),h?await e(a,s.gain,l.gain,c):await i(a,s.gain,l.gain,c),await r(s,a,l,c),l})(s,a,c)}}})(qg,Mm,Yf,Yg,pg),Mm,yg,wg),Ev=((e,t,n,i)=>(r,o,{channelCount:s,channelCountMode:a,channelInterpretation:c,feedback:l,feedforward:h})=>{const d=Pm(o,r.sampleRate),u=l instanceof Float64Array?l:new Float64Array(l),p=h instanceof Float64Array?h:new Float64Array(h),f=u.length,m=p.length,g=Math.min(f,m);if(0===f||f>20)throw i();if(0===u[0])throw t();if(0===m||m>20)throw i();if(0===p[0])throw t();if(1!==u[0]){for(let e=0;e<m;e+=1)p[e]/=u[0];for(let e=1;e<f;e+=1)u[e]/=u[0]}const v=n(r,d,s,s);v.channelCount=s,v.channelCountMode=a,v.channelInterpretation=c;const y=[],b=[],_=[];for(let e=0;e<s;e+=1){y.push(0);const e=new Float32Array(32),t=new Float32Array(32);e.fill(0),t.fill(0),b.push(e),_.push(t)}v.onaudioprocess=e=>{const t=e.inputBuffer,n=e.outputBuffer,i=t.numberOfChannels;for(let r=0;r<i;r+=1){const e=t.getChannelData(r),i=n.getChannelData(r);y[r]=_m(u,f,p,m,g,b[r],_[r],y[r],32,e,i)}};const w=r.sampleRate/2;return Am({get bufferSize(){return d},get channelCount(){return v.channelCount},set channelCount(e){v.channelCount=e},get channelCountMode(){return v.channelCountMode},set channelCountMode(e){v.channelCountMode=e},get channelInterpretation(){return v.channelInterpretation},set channelInterpretation(e){v.channelInterpretation=e},get context(){return v.context},get inputs(){return[v]},get numberOfInputs(){return v.numberOfInputs},get numberOfOutputs(){return v.numberOfOutputs},addEventListener:(...e)=>v.addEventListener(e[0],e[1],e[2]),dispatchEvent:(...e)=>v.dispatchEvent(e[0]),getFrequencyResponse(t,n,i){if(t.length!==n.length||n.length!==i.length)throw e();const r=t.length;for(let e=0;e<r;e+=1){const r=-Math.PI*(t[e]/w),o=[Math.cos(r),Math.sin(r)],s=Nm(Fm(p,o),Fm(u,o));n[e]=Math.sqrt(s[0]*s[0]+s[1]*s[1]),i[e]=Math.atan2(s[1],s[0])}},removeEventListener:(...e)=>v.removeEventListener(e[0],e[1],e[2])},v)})(ym,vm,Lm,jm),Ov=((e,t,n,i)=>r=>e(Cm,()=>Cm(r))?Promise.resolve(e(i,i)).then(e=>{if(!e){const e=n(r,512,0,1);r.oncomplete=()=>{e.onaudioprocess=null,e.disconnect()},e.onaudioprocess=()=>r.currentTime,e.connect(r.destination)}return r.startRendering()}):new Promise(e=>{const n=t(r,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});r.oncomplete=t=>{n.disconnect(),e(t.renderedBuffer)},n.connect(r.destination),r.startRendering()}))(rg,Mm,Lm,((e,t)=>()=>{if(null===t)return Promise.resolve(!1);const n=new t(1,1,44100),i=e(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(e=>{n.oncomplete=()=>{i.disconnect(),e(0!==n.currentTime)},n.startRendering()})})(Mm,_g)),Tv=((e,t,n,i,r)=>(o,s)=>{const a=new WeakMap;let c=null;return{render(l,h,d){const u=a.get(h);return void 0!==u?Promise.resolve(u):(async(l,h,d)=>{let u=null,p=t(l);const f=xf(p,h);if(void 0===h.createIIRFilter?u=e(h,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):f||(p=h.createIIRFilter(s,o)),a.set(h,null===u?p:u),null!==u){if(null===c){if(null===n)throw new Error("Missing the native OfflineAudioContext constructor.");const e=new n(l.context.destination.channelCount,l.context.length,h.sampleRate);c=(async()=>(await i(l,e,e.destination,d),((e,t,n,i)=>{const r=n instanceof Float64Array?n:new Float64Array(n),o=i instanceof Float64Array?i:new Float64Array(i),s=r.length,a=o.length,c=Math.min(s,a);if(1!==r[0]){for(let e=0;e<s;e+=1)o[e]/=r[0];for(let e=1;e<a;e+=1)r[e]/=r[0]}const l=new Float32Array(32),h=new Float32Array(32),d=t.createBuffer(e.numberOfChannels,e.length,e.sampleRate),u=e.numberOfChannels;for(let p=0;p<u;p+=1){const t=e.getChannelData(p),n=d.getChannelData(p);l.fill(0),h.fill(0),_m(r,s,o,a,c,l,h,0,32,t,n)}return d})(await r(e),h,o,s)))()}const e=await c;return u.buffer=e,u.start(0),u}return await i(l,h,p,d),p})(l,h,d)}}})($g,Yf,_g,pg,Ov);var Pv;const Rv=((e,t,n,i,r,o)=>class extends e{constructor(e,s){const a=i(e),c=r(a),l={...bm,...s},h=t(a,c?null:e.baseLatency,l);super(e,!1,h,c?n(l.feedback,l.feedforward):null),(e=>{var t;e.getFrequencyResponse=(t=e.getFrequencyResponse,(n,i,r)=>{if(n.length!==i.length||i.length!==r.length)throw ym();return t.call(e,n,i,r)})})(h),this._nativeIIRFilterNode=h,o(this,1)}getFrequencyResponse(e,t,n){return this._nativeIIRFilterNode.getFrequencyResponse(e,t,n)}})(Ig,(Pv=Ev,(e,t,n)=>{if(void 0===e.createIIRFilter)return Pv(e,t,n);const i=e.createIIRFilter(n.feedforward,n.feedback);return km(i,n),i}),Tv,yg,wg,tv),Iv=((e,t,n,i,r)=>(o,s)=>{const a=s.listener,{forwardX:c,forwardY:l,forwardZ:h,positionX:d,positionY:u,positionZ:p,upX:f,upY:m,upZ:g}=void 0===a.forwardX?(()=>{const c=t(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),l=r(s),h=i(s,256,9,0),d=(t,i)=>{const r=n(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:i});return r.connect(c,0,t),r.start(),Object.defineProperty(r.offset,"defaultValue",{get:()=>i}),e({context:o},l,r.offset,If,Rf)};let u=[0,0,-1,0,1,0],p=[0,0,0];return h.onaudioprocess=({inputBuffer:e})=>{const t=[e.getChannelData(0)[0],e.getChannelData(1)[0],e.getChannelData(2)[0],e.getChannelData(3)[0],e.getChannelData(4)[0],e.getChannelData(5)[0]];t.some((e,t)=>e!==u[t])&&(a.setOrientation(...t),u=t);const n=[e.getChannelData(6)[0],e.getChannelData(7)[0],e.getChannelData(8)[0]];n.some((e,t)=>e!==p[t])&&(a.setPosition(...n),p=n)},c.connect(h),{forwardX:d(0,0),forwardY:d(1,0),forwardZ:d(2,-1),positionX:d(6,0),positionY:d(7,0),positionZ:d(8,0),upX:d(3,0),upY:d(4,1),upZ:d(5,0)}})():a;return{get forwardX(){return c},get forwardY(){return l},get forwardZ(){return h},get positionX(){return d},get positionY(){return u},get positionZ(){return p},get upX(){return f},get upY(){return m},get upZ(){return g}}})(Kg,fv,vv,Lm,wg),Av=new WeakMap,Dv=((e,t,n,i,r,o)=>class extends n{constructor(n,o){super(n),this._nativeContext=n,sf.set(this,n),i(n)&&r.set(n,new Set),this._destination=new e(this,o),this._listener=t(this,n),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(e){const t="function"==typeof e?o(this,e):null;this._nativeContext.onstatechange=t;const n=this._nativeContext.onstatechange;this._onstatechange=null!==n&&n===t?e:n}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}})(Jg,Iv,kg,wg,Av,Zm),Mv=((e,t,n,i,r,o)=>(s,a)=>{const c=s.createOscillator();return km(c,a),Em(c,a,"detune"),Em(c,a,"frequency"),void 0!==a.periodicWave?c.setPeriodicWave(a.periodicWave):Sm(c,a,"type"),t(n,()=>n(s))||Om(c),t(i,()=>i(s))||o(c,s),t(r,()=>r(s))||Tm(c),e(s,c),c})(Hg,rg,Gm,Ym,Xm,Km),Nv=((e,t,n,i,r,o,s)=>class extends e{constructor(e,s){const a=r(e),c={...Bm,...s},l=n(a,c),h=o(a),d=h?i():null,u=e.sampleRate/2;super(e,!1,l,d),this._detune=t(this,h,l.detune,153600,-153600),this._frequency=t(this,h,l.frequency,u,-u),this._nativeOscillatorNode=l,this._onended=null,this._oscillatorNodeRenderer=d,null!==this._oscillatorNodeRenderer&&void 0!==c.periodicWave&&(this._oscillatorNodeRenderer.periodicWave=c.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(e){const t="function"==typeof e?s(this,e):null;this._nativeOscillatorNode.onended=t;const n=this._nativeOscillatorNode.onended;this._onended=null!==n&&n===t?e:n}get type(){return this._nativeOscillatorNode.type}set type(e){this._nativeOscillatorNode.type=e,null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(e){this._nativeOscillatorNode.setPeriodicWave(e),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=e)}start(e=0){if(this._nativeOscillatorNode.start(e),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.start=e),"closed"!==this.context.state){_f(this);const e=()=>{this._nativeOscillatorNode.removeEventListener("ended",e),Af(this)&&Cf(this)};this._nativeOscillatorNode.addEventListener("ended",e)}}stop(e=0){this._nativeOscillatorNode.stop(e),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.stop=e)}})(Ig,Kg,Mv,((e,t,n,i,r)=>()=>{const o=new WeakMap;let s=null,a=null,c=null;return{set periodicWave(e){s=e},set start(e){a=e},set stop(e){c=e},render(l,h,d){const u=o.get(h);return void 0!==u?Promise.resolve(u):(async(l,h,d)=>{let u=n(l);const p=xf(u,h);return p||(u=t(h,{channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,detune:u.detune.value,frequency:u.frequency.value,periodicWave:null===s?void 0:s,type:u.type}),null!==a&&u.start(a),null!==c&&u.stop(c)),o.set(h,u),p?(await e(h,l.detune,u.detune,d),await e(h,l.frequency,u.frequency,d)):(await i(h,l.detune,u.detune,d),await i(h,l.frequency,u.frequency,d)),await r(l,h,u,d),u})(l,h,d)}}})(qg,Mv,Yf,Yg,pg),yg,wg,Zm),Fv=(Lv=$g,(e,t)=>{const n=Lv(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),i=e.createBuffer(1,2,44100);return n.buffer=i,n.loop=!0,n.connect(t),n.start(),()=>{n.stop(),n.disconnect(t)}});var Lv;const jv=((e,t,n,i,r)=>(o,{curve:s,oversample:a,...c})=>{const l=o.createWaveShaper(),h=o.createWaveShaper();km(l,c),km(h,c);const d=n(o,{...c,gain:1}),u=n(o,{...c,gain:-1}),p=n(o,{...c,gain:1}),f=n(o,{...c,gain:-1});let m=null,g=!1,v=null;const y={get bufferSize(){},get channelCount(){return l.channelCount},set channelCount(e){d.channelCount=e,u.channelCount=e,l.channelCount=e,p.channelCount=e,h.channelCount=e,f.channelCount=e},get channelCountMode(){return l.channelCountMode},set channelCountMode(e){d.channelCountMode=e,u.channelCountMode=e,l.channelCountMode=e,p.channelCountMode=e,h.channelCountMode=e,f.channelCountMode=e},get channelInterpretation(){return l.channelInterpretation},set channelInterpretation(e){d.channelInterpretation=e,u.channelInterpretation=e,l.channelInterpretation=e,p.channelInterpretation=e,h.channelInterpretation=e,f.channelInterpretation=e},get context(){return l.context},get curve(){return v},set curve(n){if(null!==n&&n.length<2)throw t();if(null===n)l.curve=n,h.curve=n;else{const e=n.length,t=new Float32Array(e+2-e%2),i=new Float32Array(e+2-e%2);t[0]=n[0],i[0]=-n[e-1];const r=Math.ceil((e+1)/2),o=(e+1)/2-1;for(let s=1;s<r;s+=1){const a=s/r*o,c=Math.floor(a),l=Math.ceil(a);t[s]=c===l?n[c]:(1-(a-c))*n[c]+(1-(l-a))*n[l],i[s]=c===l?-n[e-1-c]:-(1-(a-c))*n[e-1-c]-(1-(l-a))*n[e-1-l]}t[r]=e%2==1?n[r-1]:(n[r-2]+n[r-1])/2,l.curve=t,h.curve=i}v=n,g&&(i(v)&&null===m?m=e(o,d):null!==m&&(m(),m=null))},get inputs(){return[d]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return l.numberOfOutputs},get oversample(){return l.oversample},set oversample(e){l.oversample=e,h.oversample=e},addEventListener:(...e)=>d.addEventListener(e[0],e[1],e[2]),dispatchEvent:(...e)=>d.dispatchEvent(e[0]),removeEventListener:(...e)=>d.removeEventListener(e[0],e[1],e[2])};return null!==s&&(y.curve=s instanceof Float32Array?s:new Float32Array(s)),a!==y.oversample&&(y.oversample=a),r(Am(y,p),()=>{d.connect(l).connect(p),d.connect(u).connect(h).connect(f).connect(p),g=!0,i(v)&&(m=e(o,d))},()=>{d.disconnect(l),l.disconnect(p),d.disconnect(u),u.disconnect(h),h.disconnect(f),f.disconnect(p),g=!1,null!==m&&(m(),m=null)})})(Fv,vm,Mm,Wm,dv),Bv=((e,t,n,i,r,o,s)=>(a,c)=>{const l=a.createWaveShaper();if(null!==o&&"webkitAudioContext"===o.name&&void 0===a.createGain().gain.automationRate)return n(a,c);km(l,c);const h=null===c.curve||c.curve instanceof Float32Array?c.curve:new Float32Array(c.curve);if(null!==h&&h.length<2)throw t();Sm(l,{curve:h},"curve"),Sm(l,c,"oversample");let d=null,u=!1;return s(l,"curve",e=>()=>e.call(l),t=>n=>(t.call(l,n),u&&(i(n)&&null===d?d=e(a,l):i(n)||null===d||(d(),d=null)),n)),r(l,()=>{u=!0,i(l.curve)&&(d=e(a,l))},()=>{u=!1,null!==d&&(d(),d=null)})})(Fv,vm,jv,Wm,dv,Eg,qm),zv=((e,t,n,i,r,o,s,a,c)=>(l,{coneInnerAngle:h,coneOuterAngle:d,coneOuterGain:u,distanceModel:p,maxDistance:f,orientationX:m,orientationY:g,orientationZ:v,panningModel:y,positionX:b,positionY:_,positionZ:w,refDistance:C,rolloffFactor:S,...k})=>{const x=l.createPanner();if(k.channelCount>2)throw s();if("max"===k.channelCountMode)throw s();km(x,k);const E={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},O=n(l,{...E,channelInterpretation:"speakers",numberOfInputs:6}),T=i(l,{...k,gain:1}),P=i(l,{...E,gain:1}),R=i(l,{...E,gain:0}),I=i(l,{...E,gain:0}),A=i(l,{...E,gain:0}),D=i(l,{...E,gain:0}),M=i(l,{...E,gain:0}),N=r(l,256,6,1),F=o(l,{...E,curve:new Float32Array([1,1]),oversample:"none"});let L=[m,g,v],j=[b,_,w];N.onaudioprocess=({inputBuffer:e})=>{const t=[e.getChannelData(0)[0],e.getChannelData(1)[0],e.getChannelData(2)[0]];t.some((e,t)=>e!==L[t])&&(x.setOrientation(...t),L=t);const n=[e.getChannelData(3)[0],e.getChannelData(4)[0],e.getChannelData(5)[0]];n.some((e,t)=>e!==j[t])&&(x.setPosition(...n),j=n)},Object.defineProperty(R.gain,"defaultValue",{get:()=>0}),Object.defineProperty(I.gain,"defaultValue",{get:()=>0}),Object.defineProperty(A.gain,"defaultValue",{get:()=>0}),Object.defineProperty(D.gain,"defaultValue",{get:()=>0}),Object.defineProperty(M.gain,"defaultValue",{get:()=>0});const B={get bufferSize(){},get channelCount(){return x.channelCount},set channelCount(e){if(e>2)throw s();T.channelCount=e,x.channelCount=e},get channelCountMode(){return x.channelCountMode},set channelCountMode(e){if("max"===e)throw s();T.channelCountMode=e,x.channelCountMode=e},get channelInterpretation(){return x.channelInterpretation},set channelInterpretation(e){T.channelInterpretation=e,x.channelInterpretation=e},get coneInnerAngle(){return x.coneInnerAngle},set coneInnerAngle(e){x.coneInnerAngle=e},get coneOuterAngle(){return x.coneOuterAngle},set coneOuterAngle(e){x.coneOuterAngle=e},get coneOuterGain(){return x.coneOuterGain},set coneOuterGain(e){if(e<0||e>1)throw t();x.coneOuterGain=e},get context(){return x.context},get distanceModel(){return x.distanceModel},set distanceModel(e){x.distanceModel=e},get inputs(){return[T]},get maxDistance(){return x.maxDistance},set maxDistance(e){if(e<0)throw new RangeError;x.maxDistance=e},get numberOfInputs(){return x.numberOfInputs},get numberOfOutputs(){return x.numberOfOutputs},get orientationX(){return P.gain},get orientationY(){return R.gain},get orientationZ(){return I.gain},get panningModel(){return x.panningModel},set panningModel(e){x.panningModel=e},get positionX(){return A.gain},get positionY(){return D.gain},get positionZ(){return M.gain},get refDistance(){return x.refDistance},set refDistance(e){if(e<0)throw new RangeError;x.refDistance=e},get rolloffFactor(){return x.rolloffFactor},set rolloffFactor(e){if(e<0)throw new RangeError;x.rolloffFactor=e},addEventListener:(...e)=>T.addEventListener(e[0],e[1],e[2]),dispatchEvent:(...e)=>T.dispatchEvent(e[0]),removeEventListener:(...e)=>T.removeEventListener(e[0],e[1],e[2])};return h!==B.coneInnerAngle&&(B.coneInnerAngle=h),d!==B.coneOuterAngle&&(B.coneOuterAngle=d),u!==B.coneOuterGain&&(B.coneOuterGain=u),p!==B.distanceModel&&(B.distanceModel=p),f!==B.maxDistance&&(B.maxDistance=f),m!==B.orientationX.value&&(B.orientationX.value=m),g!==B.orientationY.value&&(B.orientationY.value=g),v!==B.orientationZ.value&&(B.orientationZ.value=v),y!==B.panningModel&&(B.panningModel=y),b!==B.positionX.value&&(B.positionX.value=b),_!==B.positionY.value&&(B.positionY.value=_),w!==B.positionZ.value&&(B.positionZ.value=w),C!==B.refDistance&&(B.refDistance=C),S!==B.rolloffFactor&&(B.rolloffFactor=S),1===L[0]&&0===L[1]&&0===L[2]||x.setOrientation(...L),0===j[0]&&0===j[1]&&0===j[2]||x.setPosition(...j),c(Am(B,x),()=>{T.connect(x),e(T,F,0,0),F.connect(P).connect(O,0,0),F.connect(R).connect(O,0,1),F.connect(I).connect(O,0,2),F.connect(A).connect(O,0,3),F.connect(D).connect(O,0,4),F.connect(M).connect(O,0,5),O.connect(N).connect(l.destination)},()=>{T.disconnect(x),a(T,F,0,0),F.disconnect(P),P.disconnect(O),F.disconnect(R),R.disconnect(O),F.disconnect(I),I.disconnect(O),F.disconnect(A),A.disconnect(O),F.disconnect(D),D.disconnect(O),F.disconnect(M),M.disconnect(O),O.disconnect(N),N.disconnect(l.destination)})})(Uf,vm,fv,Mm,Lm,Bv,jm,Gf,dv),Vv=(Hv=zv,(e,t)=>{const n=e.createPanner();return void 0===n.orientationX?Hv(e,t):(km(n,t),Em(n,t,"orientationX"),Em(n,t,"orientationY"),Em(n,t,"orientationZ"),Em(n,t,"positionX"),Em(n,t,"positionY"),Em(n,t,"positionZ"),Sm(n,t,"coneInnerAngle"),Sm(n,t,"coneOuterAngle"),Sm(n,t,"coneOuterGain"),Sm(n,t,"distanceModel"),Sm(n,t,"maxDistance"),Sm(n,t,"panningModel"),Sm(n,t,"refDistance"),Sm(n,t,"rolloffFactor"),n)});var Hv;const Uv=((e,t,n,i,r,o,s)=>class extends e{constructor(e,a){const c=r(e),l={...zm,...a},h=n(c,l),d=o(c);super(e,!1,h,d?i():null),this._nativePannerNode=h,this._orientationX=t(this,d,h.orientationX,If,Rf),this._orientationY=t(this,d,h.orientationY,If,Rf),this._orientationZ=t(this,d,h.orientationZ,If,Rf),this._positionX=t(this,d,h.positionX,If,Rf),this._positionY=t(this,d,h.positionY,If,Rf),this._positionZ=t(this,d,h.positionZ,If,Rf),s(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(e){this._nativePannerNode.coneInnerAngle=e}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(e){this._nativePannerNode.coneOuterAngle=e}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(e){this._nativePannerNode.coneOuterGain=e}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(e){this._nativePannerNode.distanceModel=e}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(e){this._nativePannerNode.maxDistance=e}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(e){this._nativePannerNode.panningModel=e}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(e){this._nativePannerNode.refDistance=e}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(e){this._nativePannerNode.rolloffFactor=e}})(Ig,Kg,Vv,((e,t,n,i,r,o,s,a,c,l)=>()=>{const h=new WeakMap;let d=null;return{render(u,p,f){const m=h.get(p);return void 0!==m?Promise.resolve(m):(async(u,p,f)=>{let m=null,g=o(u);const v={channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation},y={...v,coneInnerAngle:g.coneInnerAngle,coneOuterAngle:g.coneOuterAngle,coneOuterGain:g.coneOuterGain,distanceModel:g.distanceModel,maxDistance:g.maxDistance,panningModel:g.panningModel,refDistance:g.refDistance,rolloffFactor:g.rolloffFactor},b=xf(g,p);if("bufferSize"in g)m=i(p,{...v,gain:1});else if(!b){const e={...y,orientationX:g.orientationX.value,orientationY:g.orientationY.value,orientationZ:g.orientationZ.value,positionX:g.positionX.value,positionY:g.positionY.value,positionZ:g.positionZ.value};g=r(p,e)}if(h.set(p,null===m?g:m),null!==m){if(null===d){if(null===s)throw new Error("Missing the native OfflineAudioContext constructor.");const e=new s(6,u.context.length,p.sampleRate),i=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});i.connect(e.destination),d=(async()=>{const t=await Promise.all([u.orientationX,u.orientationY,u.orientationZ,u.positionX,u.positionY,u.positionZ].map(async(t,i)=>{const r=n(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:0===i?1:0});return await a(e,t,r.offset,f),r}));for(let e=0;e<6;e+=1)t[e].connect(i,0,e),t[e].start(0);return l(e)})()}const e=await d,o=i(p,{...v,gain:1});await c(u,p,o,f);const h=[];for(let t=0;t<e.numberOfChannels;t+=1)h.push(e.getChannelData(t));let g=[h[0][0],h[1][0],h[2][0]],b=[h[3][0],h[4][0],h[5][0]],_=i(p,{...v,gain:1}),w=r(p,{...y,orientationX:g[0],orientationY:g[1],orientationZ:g[2],positionX:b[0],positionY:b[1],positionZ:b[2]});o.connect(_).connect(w.inputs[0]),w.connect(m);for(let t=128;t<e.length;t+=128){const e=[h[0][t],h[1][t],h[2][t]],n=[h[3][t],h[4][t],h[5][t]];if(e.some((e,t)=>e!==g[t])||n.some((e,t)=>e!==b[t])){g=e,b=n;const s=t/p.sampleRate;_.gain.setValueAtTime(0,s),_=i(p,{...v,gain:0}),w=r(p,{...y,orientationX:g[0],orientationY:g[1],orientationZ:g[2],positionX:b[0],positionY:b[1],positionZ:b[2]}),_.gain.setValueAtTime(1,s),o.connect(_).connect(w.inputs[0]),w.connect(m)}}return m}return b?(await e(p,u.orientationX,g.orientationX,f),await e(p,u.orientationY,g.orientationY,f),await e(p,u.orientationZ,g.orientationZ,f),await e(p,u.positionX,g.positionX,f),await e(p,u.positionY,g.positionY,f),await e(p,u.positionZ,g.positionZ,f)):(await a(p,u.orientationX,g.orientationX,f),await a(p,u.orientationY,g.orientationY,f),await a(p,u.orientationZ,g.orientationZ,f),await a(p,u.positionX,g.positionX,f),await a(p,u.positionY,g.positionY,f),await a(p,u.positionZ,g.positionZ,f)),Hf(g)?await c(u,p,g.inputs[0],f):await c(u,p,g,f),g})(u,p,f)}}})(qg,fv,vv,Mm,Vv,Yf,_g,Yg,pg,Ov),yg,wg,tv),Wv=((e,t,n,i)=>class i{constructor(i,r){const o=t(i),s=(e=>{const{imag:t,real:n}=e;return void 0===t?void 0===n?{...e,imag:[0,0],real:[0,0]}:{...e,imag:Array.from(n,()=>0),real:n}:void 0===n?{...e,imag:t,real:Array.from(t,()=>0)}:{...e,imag:t,real:n}})({...Vm,...r}),a=e(o,s);return n.add(a),a}static[Symbol.hasInstance](e){return null!==e&&"object"==typeof e&&Object.getPrototypeOf(e)===i.prototype||n.has(e)}})((e=>(t,{disableNormalization:n,imag:i,real:r})=>{const o=i instanceof Float32Array?i:new Float32Array(i),s=r instanceof Float32Array?r:new Float32Array(r),a=t.createPeriodicWave(s,o,{disableNormalization:n});if(Array.from(i).length<2)throw e();return a})(Of),yg,new WeakSet),qv=((e,t)=>(n,i)=>{const r=i.channelCountMode;if("clamped-max"===r)throw t();if(void 0===n.createStereoPanner)return e(n,i);const o=n.createStereoPanner();return km(o,i),Em(o,i,"pan"),Object.defineProperty(o,"channelCountMode",{get:()=>r,set:e=>{if(e!==r)throw t()}}),o})(((e,t,n,i,r,o)=>{const s=new Float32Array([1,1]),a=Math.PI/2,c={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},l={...c,oversample:"none"},h=(e,o,h,d,u)=>{if(1===o)return((e,t,r,o)=>{const h=new Float32Array(16385),d=new Float32Array(16385);for(let n=0;n<16385;n+=1){const e=n/16384*a;h[n]=Math.cos(e),d[n]=Math.sin(e)}const u=n(e,{...c,gain:0}),p=i(e,{...l,curve:h}),f=i(e,{...l,curve:s}),m=n(e,{...c,gain:0}),g=i(e,{...l,curve:d});return{connectGraph(){t.connect(u),t.connect(void 0===f.inputs?f:f.inputs[0]),t.connect(m),f.connect(r),r.connect(void 0===p.inputs?p:p.inputs[0]),r.connect(void 0===g.inputs?g:g.inputs[0]),p.connect(u.gain),g.connect(m.gain),u.connect(o,0,0),m.connect(o,0,1)},disconnectGraph(){t.disconnect(u),t.disconnect(void 0===f.inputs?f:f.inputs[0]),t.disconnect(m),f.disconnect(r),r.disconnect(void 0===p.inputs?p:p.inputs[0]),r.disconnect(void 0===g.inputs?g:g.inputs[0]),p.disconnect(u.gain),g.disconnect(m.gain),u.disconnect(o,0,0),m.disconnect(o,0,1)}}})(e,h,d,u);if(2===o)return((e,r,o,h)=>{const d=new Float32Array(16385),u=new Float32Array(16385),p=new Float32Array(16385),f=new Float32Array(16385),m=Math.floor(8192.5);for(let t=0;t<16385;t+=1)if(t>m){const e=(t-m)/(16384-m)*a;d[t]=Math.cos(e),u[t]=Math.sin(e),p[t]=0,f[t]=1}else{const e=t/(16384-m)*a;d[t]=1,u[t]=0,p[t]=Math.cos(e),f[t]=Math.sin(e)}const g=t(e,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),v=n(e,{...c,gain:0}),y=i(e,{...l,curve:d}),b=n(e,{...c,gain:0}),_=i(e,{...l,curve:u}),w=i(e,{...l,curve:s}),C=n(e,{...c,gain:0}),S=i(e,{...l,curve:p}),k=n(e,{...c,gain:0}),x=i(e,{...l,curve:f});return{connectGraph(){r.connect(g),r.connect(void 0===w.inputs?w:w.inputs[0]),g.connect(v,0),g.connect(b,0),g.connect(C,1),g.connect(k,1),w.connect(o),o.connect(void 0===y.inputs?y:y.inputs[0]),o.connect(void 0===_.inputs?_:_.inputs[0]),o.connect(void 0===S.inputs?S:S.inputs[0]),o.connect(void 0===x.inputs?x:x.inputs[0]),y.connect(v.gain),_.connect(b.gain),S.connect(C.gain),x.connect(k.gain),v.connect(h,0,0),C.connect(h,0,0),b.connect(h,0,1),k.connect(h,0,1)},disconnectGraph(){r.disconnect(g),r.disconnect(void 0===w.inputs?w:w.inputs[0]),g.disconnect(v,0),g.disconnect(b,0),g.disconnect(C,1),g.disconnect(k,1),w.disconnect(o),o.disconnect(void 0===y.inputs?y:y.inputs[0]),o.disconnect(void 0===_.inputs?_:_.inputs[0]),o.disconnect(void 0===S.inputs?S:S.inputs[0]),o.disconnect(void 0===x.inputs?x:x.inputs[0]),y.disconnect(v.gain),_.disconnect(b.gain),S.disconnect(C.gain),x.disconnect(k.gain),v.disconnect(h,0,0),C.disconnect(h,0,0),b.disconnect(h,0,1),k.disconnect(h,0,1)}}})(e,h,d,u);throw r()};return(t,{channelCount:i,channelCountMode:s,pan:a,...c})=>{if("max"===s)throw r();const l=e(t,{...c,channelCount:1,channelCountMode:s,numberOfInputs:2}),d=n(t,{...c,channelCount:i,channelCountMode:s,gain:1}),u=n(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:a});let{connectGraph:p,disconnectGraph:f}=h(t,i,d,u,l);Object.defineProperty(u.gain,"defaultValue",{get:()=>0}),Object.defineProperty(u.gain,"maxValue",{get:()=>1}),Object.defineProperty(u.gain,"minValue",{get:()=>-1});const m={get bufferSize(){},get channelCount(){return d.channelCount},set channelCount(e){d.channelCount!==e&&(g&&f(),({connectGraph:p,disconnectGraph:f}=h(t,e,d,u,l)),g&&p()),d.channelCount=e},get channelCountMode(){return d.channelCountMode},set channelCountMode(e){if("clamped-max"===e||"max"===e)throw r();d.channelCountMode=e},get channelInterpretation(){return d.channelInterpretation},set channelInterpretation(e){d.channelInterpretation=e},get context(){return d.context},get inputs(){return[d]},get numberOfInputs(){return d.numberOfInputs},get numberOfOutputs(){return d.numberOfOutputs},get pan(){return u.gain},addEventListener:(...e)=>d.addEventListener(e[0],e[1],e[2]),dispatchEvent:(...e)=>d.dispatchEvent(e[0]),removeEventListener:(...e)=>d.removeEventListener(e[0],e[1],e[2])};let g=!1;return o(Am(m,l),()=>{p(),g=!0},()=>{f(),g=!1})}})(fv,Im,Mm,Bv,jm,dv),jm),$v=((e,t,n,i,r,o)=>class extends e{constructor(e,s){const a=r(e),c={...Hm,...s},l=n(a,c),h=o(a);super(e,!1,l,h?i():null),this._pan=t(this,h,l.pan)}get pan(){return this._pan}})(Ig,Kg,qv,((e,t,n,i,r)=>()=>{const o=new WeakMap;return{render(s,a,c){const l=o.get(a);return void 0!==l?Promise.resolve(l):(async(s,a,c)=>{let l=n(s);const h=xf(l,a);return h||(l=t(a,{channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,pan:l.pan.value})),o.set(a,l),h?await e(a,s.pan,l.pan,c):await i(a,s.pan,l.pan,c),Hf(l)?await r(s,a,l.inputs[0],c):await r(s,a,l,c),l})(s,a,c)}}})(qg,qv,Yf,Yg,pg),yg,wg),Gv=((e,t,n)=>()=>{const i=new WeakMap;return{render(r,o,s){const a=i.get(o);return void 0!==a?Promise.resolve(a):(async(r,o,s)=>{let a=t(r);return xf(a,o)||(a=e(o,{channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,curve:a.curve,oversample:a.oversample})),i.set(o,a),Hf(a)?await n(r,o,a.inputs[0],s):await n(r,o,a,s),a})(r,o,s)}}})(Bv,Yf,pg),Yv=((e,t,n,i,r,o,s)=>class extends e{constructor(e,t){const a=r(e),c={...Um,...t},l=n(a,c);super(e,!0,l,o(a)?i():null),this._isCurveNullified=!1,this._nativeWaveShaperNode=l,s(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(e){if(null===e)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(e.length<2)throw t();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=e}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(e){this._nativeWaveShaperNode.oversample=e}})(Ig,vm,Bv,Gv,yg,wg,tv),Xv=(e=>null!==e&&e.isSecureContext)(ag),Kv=(e=>(t,n,i)=>{Object.defineProperties(e,{currentFrame:{configurable:!0,get:()=>Math.round(t*n)},currentTime:{configurable:!0,get:()=>t}});try{return i()}finally{null!==e&&(delete e.currentFrame,delete e.currentTime)}})(ag),Zv=new WeakMap,Qv=((e,t)=>n=>{let i=e.get(n);if(void 0!==i)return i;if(null===t)throw new Error("Missing the native OfflineAudioContext constructor.");return i=new t(1,1,8e3),e.set(n,i),i})(Zv,_g),Jv=(e=>null===e?null:e.hasOwnProperty("AudioWorkletNode")?e.AudioWorkletNode:null)(ag),ey=Xv?((e,t,n,i,r,o,s,a,c,l,h,d)=>(u,p,f={credentials:"omit"})=>{const m=o(u);if(void 0!==m.audioWorklet)return Promise.all([r(p),Promise.resolve(e(h,h))]).then(([[e,t],n])=>{const[i,r]=pf(e,t),o=n?r:r.replace(/\s+extends\s+AudioWorkletProcessor\s*{/," extends (class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}){"),c=new Blob([`${i};(registerProcessor=>{${o}\n})((n,p)=>registerProcessor(n,class extends p{${n?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${n?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}))`],{type:"application/javascript; charset=utf-8"}),l=URL.createObjectURL(c);return m.audioWorklet.addModule(l,f).then(()=>{if(!a(m))return s(m).audioWorklet.addModule(l,f)}).finally(()=>URL.revokeObjectURL(l))});const g=l.get(u);if(void 0!==g&&g.has(p))return Promise.resolve();const v=c.get(u);if(void 0!==v){const e=v.get(p);if(void 0!==e)return e}const y=r(p).then(([e,t])=>{const[i,r]=pf(e,t);return n(`${i};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${r}\n})})(window,'_AWGS')`)}).then(()=>{const e=d._AWGS.pop();if(void 0===e)throw new SyntaxError;i(m.currentTime,m.sampleRate,()=>e(class{},void 0,(e,n)=>{if(""===e.trim())throw t();const i=lf.get(m);if(void 0!==i){if(i.has(e))throw t();mf(n),ff(n.parameterDescriptors),i.set(e,n)}else mf(n),ff(n.parameterDescriptors),lf.set(m,new Map([[e,n]]))},m.sampleRate,void 0,void 0))});return void 0===v?c.set(u,new Map([[p,y]])):v.set(p,y),y.then(()=>{const e=l.get(u);void 0===e?l.set(u,new Set([p])):e.add(p)}).finally(()=>{const e=c.get(u);void 0!==e&&e.delete(p)}),y})(rg,jm,(e=>t=>new Promise((n,i)=>{if(null===e)return void i(new SyntaxError);const r=e.document.head;if(null===r)i(new SyntaxError);else{const o=e.document.createElement("script"),s=new Blob([t],{type:"application/javascript"}),a=URL.createObjectURL(s),c=e.onerror,l=()=>{e.onerror=c,URL.revokeObjectURL(a)};e.onerror=(t,n,r,o,s)=>n===a||n===e.location.href&&1===r&&1===o?(l(),i(s),!1):null!==c?c(t,n,r,o,s):void 0,o.onerror=()=>{l(),i(new SyntaxError)},o.onload=()=>{l(),n()},o.src=a,o.type="module",r.appendChild(o)}}))(ag),Kv,async e=>{try{const t=await fetch(e);if(t.ok)return[await t.text(),t.url]}catch{}throw new DOMException("","AbortError")},yg,Qv,wg,new WeakMap,new WeakMap,((e,t)=>async()=>{if(null===e)return!0;if(null===t)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),i=new t(1,128,8e3),r=URL.createObjectURL(n);let o=!1,s=!1;try{await i.audioWorklet.addModule(r);const t=new e(i,"a",{numberOfOutputs:0}),n=i.createOscillator();t.port.onmessage=()=>o=!0,t.onprocessorerror=()=>s=!0,n.connect(t),await i.startRendering()}catch{}finally{URL.revokeObjectURL(r)}return o&&!s})(Jv,_g),ag):void 0,ty=((e,t)=>n=>e(n)||t(n))(Og,wg),ny=((e,t,n,i,r,o,s,a,c,l,h,d,u,p,f,m,g,v,y,b)=>class extends f{constructor(t,n){super(t,n),this._nativeContext=t,this._audioWorklet=void 0===e?void 0:{addModule:(t,n)=>e(this,t,n)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new t(this)}createBiquadFilter(){return new r(this)}createBuffer(e,t,i){return new n({length:t,numberOfChannels:e,sampleRate:i})}createBufferSource(){return new i(this)}createChannelMerger(e=6){return new o(this,{numberOfInputs:e})}createChannelSplitter(e=6){return new s(this,{numberOfOutputs:e})}createConstantSource(){return new a(this)}createConvolver(){return new c(this)}createDelay(e=1){return new h(this,{maxDelayTime:e})}createDynamicsCompressor(){return new d(this)}createGain(){return new u(this)}createIIRFilter(e,t){return new p(this,{feedback:t,feedforward:e})}createOscillator(){return new m(this)}createPanner(){return new g(this)}createPeriodicWave(e,t,n={disableNormalization:!1}){return new v(this,{...n,imag:t,real:e})}createStereoPanner(){return new y(this)}createWaveShaper(){return new b(this)}decodeAudioData(e,t,n){return l(this._nativeContext,e).then(e=>("function"==typeof t&&t(e),e)).catch(e=>{throw"function"==typeof n&&n(e),e})}})(ey,Dg,zg,Qg,nv,mv,gv,yv,_v,((e,t,n,i,r,o,s,a,c,l,h)=>(n,i)=>{const d=s(n)?n:o(n);if(r.has(i)){const e=new DOMException("","DataCloneError");return Promise.reject(e)}try{r.add(i)}catch{}return t(c,()=>c(d))?d.decodeAudioData(i).then(n=>(t(a,()=>a(n))||h(n),e.add(n),n)):new Promise((t,n)=>{const r=()=>{try{(e=>{const{port1:t}=new MessageChannel;t.postMessage(e,[e])})(i)}catch{}},o=e=>{n(e),r()};try{d.decodeAudioData(i,n=>{"function"!=typeof n.copyFromChannel&&(l(n),Tf(n)),e.add(n),r(),t(n)},e=>{o(null===e?new DOMException("","EncodingError"):e)})}catch(s){o(s)}})})(Mg,rg,0,0,new WeakSet,yg,ty,Ef,Cm,jg,Bg),wv,kv,xv,Rv,Dv,Nv,Uv,Wv,$v,Yv),iy=((e,t,n,i)=>class extends e{constructor(e,t){const r=n(e),o=((e,t)=>e.createMediaElementSource(t.mediaElement))(r,t);if(i(r))throw TypeError();super(e,!0,o,null),this._nativeMediaElementAudioSourceNode=o}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}})(Ig,0,yg,wg),ry=((e,t,n,i)=>class extends e{constructor(e,t){const r=n(e);if(i(r))throw new TypeError;const o=((e,t)=>{const n=e.createMediaStreamDestination();return km(n,t),1===n.numberOfOutputs&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n})(r,{...wm,...t});super(e,!1,o,null),this._nativeMediaStreamAudioDestinationNode=o}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}})(Ig,0,yg,wg),oy=((e,t,n,i)=>class extends e{constructor(e,t){const r=n(e),o=((e,{mediaStream:t})=>{const n=t.getAudioTracks();n.sort((e,t)=>e.id<t.id?-1:e.id>t.id?1:0);const i=n.slice(0,1),r=e.createMediaStreamSource(new MediaStream(i));return Object.defineProperty(r,"mediaStream",{value:t}),r})(r,t);if(i(r))throw new TypeError;super(e,!0,o,null),this._nativeMediaStreamAudioSourceNode=o}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}})(Ig,0,yg,wg),sy=((e,t,n)=>class extends e{constructor(e,i){const r=n(e);super(e,!0,t(r,i),null)}})(Ig,((e,t)=>(n,{mediaStreamTrack:i})=>{if("function"==typeof n.createMediaStreamTrackSource)return n.createMediaStreamTrackSource(i);const r=new MediaStream([i]),o=n.createMediaStreamSource(r);if("audio"!==i.kind)throw e();if(t(n))throw new TypeError;return o})(vm,wg),yg),ay=((e,t,n,i,r,o,s,a,c)=>class extends e{constructor(e={}){if(null===c)throw new Error("Missing the native AudioContext constructor.");const t=new c(e);if(null===t)throw i();if(!(e=>void 0===e||"number"==typeof e||"string"==typeof e&&("balanced"===e||"interactive"===e||"playback"===e))(e.latencyHint))throw new TypeError(`The provided value '${e.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(void 0!==e.sampleRate&&t.sampleRate!==e.sampleRate)throw n();super(t,2);const{latencyHint:r}=e,{sampleRate:o}=t;if(this._baseLatency="number"==typeof t.baseLatency?t.baseLatency:"balanced"===r?512/o:"interactive"===r||void 0===r?256/o:"playback"===r?1024/o:128*Math.max(2,Math.min(128,Math.round(r*o/128)))/o,this._nativeAudioContext=t,"webkitAudioContext"===c.name?(this._nativeGainNode=t.createGain(),this._nativeOscillatorNode=t.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(t.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,"running"===t.state){this._state="suspended";const e=()=>{"suspended"===this._state&&(this._state=null),t.removeEventListener("statechange",e)};t.addEventListener("statechange",e)}}get baseLatency(){return this._baseLatency}get state(){return null!==this._state?this._state:this._nativeAudioContext.state}close(){return"closed"===this.state?this._nativeAudioContext.close().then(()=>{throw t()}):("suspended"===this._state&&(this._state=null),this._nativeAudioContext.close().then(()=>{null!==this._nativeGainNode&&null!==this._nativeOscillatorNode&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),Ff(this.destination,[])}))}createMediaElementSource(e){return new r(this,{mediaElement:e})}createMediaStreamDestination(){return new o(this)}createMediaStreamSource(e){return new s(this,{mediaStream:e})}createMediaStreamTrackSource(e){return new a(this,{mediaStreamTrack:e})}resume(){return"suspended"===this._state?new Promise((e,t)=>{const n=()=>{this._nativeAudioContext.removeEventListener("statechange",n),"running"===this._nativeAudioContext.state?e():this.resume().then(e,t)};this._nativeAudioContext.addEventListener("statechange",n)}):this._nativeAudioContext.resume().catch(e=>{if(void 0===e||15===e.code)throw t();throw e})}suspend(){return this._nativeAudioContext.suspend().catch(e=>{if(void 0===e)throw t();throw e})}})(ny,vm,jm,()=>new DOMException("","UnknownError"),iy,ry,oy,sy,Eg),cy=(ly=Av,e=>{const t=ly.get(e);if(void 0===t)throw new Error("The context has no set of AudioWorkletNodes.");return t});var ly;const hy=(dy=cy,(e,t)=>{dy(e).add(t)});var dy;const uy=(e=>(t,n,i=0,r=0)=>{const o=t[i];if(void 0===o)throw e();return em(n)?o.connect(n,0,r):o.connect(n,0)})(Of),py=(e=>(t,n)=>{e(t).delete(n)})(cy),fy=(e=>(t,n,i,r=0)=>void 0===n?t.forEach(e=>e.disconnect()):"number"==typeof n?fm(e,t,n).disconnect():em(n)?void 0===i?t.forEach(e=>e.disconnect(n)):void 0===r?fm(e,t,i).disconnect(n,0):fm(e,t,i).disconnect(n,0,r):void 0===i?t.forEach(e=>e.disconnect(n)):fm(e,t,i).disconnect(n,0))(Of),my=new WeakMap,gy=((e,t)=>n=>t(e,n))(my,gf),vy=((e,t,n,i,r,o,s,a,c,l,h,d,u)=>(p,f,m,g)=>{if(0===g.numberOfInputs&&0===g.numberOfOutputs)throw c();const v=Array.isArray(g.outputChannelCount)?g.outputChannelCount:Array.from(g.outputChannelCount);if(v.some(e=>e<1))throw c();if(v.length!==g.numberOfOutputs)throw t();if("explicit"!==g.channelCountMode)throw c();const y=g.channelCount*g.numberOfInputs,b=v.reduce((e,t)=>e+t,0),_=void 0===m.parameterDescriptors?0:m.parameterDescriptors.length;if(y+_>6||b>6)throw c();const w=new MessageChannel,C=[],S=[];for(let e=0;e<g.numberOfInputs;e+=1)C.push(s(p,{channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,gain:1})),S.push(r(p,{channelCount:g.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:g.channelCount}));const k=[];if(void 0!==m.parameterDescriptors)for(const{defaultValue:e,maxValue:t,minValue:n,name:i}of m.parameterDescriptors){const r=o(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:void 0!==g.parameterData[i]?g.parameterData[i]:void 0===e?0:e});Object.defineProperties(r.offset,{defaultValue:{get:()=>void 0===e?0:e},maxValue:{get:()=>void 0===t?If:t},minValue:{get:()=>void 0===n?Rf:n}}),k.push(r)}const x=i(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,y+_)}),E=Pm(f,p.sampleRate),O=a(p,E,y+_,Math.max(1,b)),T=r(p,{channelCount:Math.max(1,b),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,b)}),P=[];for(let e=0;e<g.numberOfOutputs;e+=1)P.push(i(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:v[e]}));for(let e=0;e<g.numberOfInputs;e+=1){C[e].connect(S[e]);for(let t=0;t<g.channelCount;t+=1)S[e].connect(x,t,e*g.channelCount+t)}const R=new im(void 0===m.parameterDescriptors?[]:m.parameterDescriptors.map(({name:e},t)=>{const n=k[t];return n.connect(x,0,y+t),n.start(0),[e,n.offset]}));x.connect(O);let I=g.channelInterpretation,A=null;const D=0===g.numberOfOutputs?[O]:P,M={get bufferSize(){return E},get channelCount(){return g.channelCount},set channelCount(e){throw n()},get channelCountMode(){return g.channelCountMode},set channelCountMode(e){throw n()},get channelInterpretation(){return I},set channelInterpretation(e){for(const t of C)t.channelInterpretation=e;I=e},get context(){return O.context},get inputs(){return C},get numberOfInputs(){return g.numberOfInputs},get numberOfOutputs(){return g.numberOfOutputs},get onprocessorerror(){return A},set onprocessorerror(e){"function"==typeof A&&M.removeEventListener("processorerror",A),A="function"==typeof e?e:null,"function"==typeof A&&M.addEventListener("processorerror",A)},get parameters(){return R},get port(){return w.port2},addEventListener:(...e)=>O.addEventListener(e[0],e[1],e[2]),connect:e.bind(null,D),disconnect:l.bind(null,D),dispatchEvent:(...e)=>O.dispatchEvent(e[0]),removeEventListener:(...e)=>O.removeEventListener(e[0],e[1],e[2])},N=new Map;var F;w.port1.addEventListener=(e=>(...t)=>{if("message"===t[0]){const e="function"==typeof t[1]?t[1]:"object"==typeof t[1]&&null!==t[1]&&"function"==typeof t[1].handleEvent?t[1].handleEvent:null;if(null!==e){const n=N.get(t[1]);void 0!==n?t[1]=n:(t[1]=t=>{h(p.currentTime,p.sampleRate,()=>e(t))},N.set(e,t[1]))}}return e.call(w.port1,t[0],t[1],t[2])})(w.port1.addEventListener),w.port1.removeEventListener=(F=w.port1.removeEventListener,(...e)=>{if("message"===e[0]){const t=N.get(e[1]);void 0!==t&&(N.delete(e[1]),e[1]=t)}return F.call(w.port1,e[0],e[1],e[2])});let L=null;Object.defineProperty(w.port1,"onmessage",{get:()=>L,set:e=>{"function"==typeof L&&w.port1.removeEventListener("message",L),L="function"==typeof e?e:null,"function"==typeof L&&(w.port1.addEventListener("message",L),w.port1.start())}}),m.prototype.port=w.port1;let j=null;((e,t,n,i)=>{let r=hf.get(e);void 0===r&&(r=new WeakMap,hf.set(e,r));const o=(async(e,t)=>new e(await(e=>new Promise((t,n)=>{const{port1:i,port2:r}=new MessageChannel;i.onmessage=({data:e})=>{i.close(),r.close(),t(e)},i.onmessageerror=({data:e})=>{i.close(),r.close(),n(e)},r.postMessage(e)}))(t)))(n,i);return r.set(t,o),o})(p,M,m,g).then(e=>j=e);const B=am(g.numberOfInputs,g.channelCount),z=am(g.numberOfOutputs,v),V=void 0===m.parameterDescriptors?[]:m.parameterDescriptors.reduce((e,{name:t})=>({...e,[t]:new Float32Array(128)}),{});let H=!0;const U=()=>{g.numberOfOutputs>0&&O.disconnect(T);for(let e=0,t=0;e<g.numberOfOutputs;e+=1){const n=P[e];for(let i=0;i<v[e];i+=1)T.disconnect(n,t+i,i);t+=v[e]}},W=new Map;O.onaudioprocess=({inputBuffer:e,outputBuffer:t})=>{if(null!==j){const i=d(M);for(let r=0;r<E;r+=128){for(let t=0;t<g.numberOfInputs;t+=1)for(let n=0;n<g.channelCount;n+=1)om(e,B[t],n,n,r);void 0!==m.parameterDescriptors&&m.parameterDescriptors.forEach(({name:t},n)=>{om(e,V,t,y+n,r)});for(let e=0;e<g.numberOfInputs;e+=1)for(let t=0;t<v[e];t+=1)0===z[e][t].byteLength&&(z[e][t]=new Float32Array(128));try{const e=B.map((e,t)=>{if(i[t].size>0)return W.set(t,E/128),e;const n=W.get(t);return void 0===n?[]:(e.every(e=>e.every(e=>0===e))&&(1===n?W.delete(t):W.set(t,n-1)),e)}),n=h(p.currentTime+r/p.sampleRate,p.sampleRate,()=>j.process(e,z,V));H=n;for(let i=0,o=0;i<g.numberOfOutputs;i+=1){for(let e=0;e<v[i];e+=1)sm(t,z[i],e,o+e,r);o+=v[i]}}catch(n){H=!1,M.dispatchEvent(new ErrorEvent("processorerror",{colno:n.colno,filename:n.filename,lineno:n.lineno,message:n.message}))}if(!H){for(let e=0;e<g.numberOfInputs;e+=1){C[e].disconnect(S[e]);for(let t=0;t<g.channelCount;t+=1)S[r].disconnect(x,t,e*g.channelCount+t)}if(void 0!==m.parameterDescriptors){const e=m.parameterDescriptors.length;for(let t=0;t<e;t+=1){const e=k[t];e.disconnect(x,0,y+t),e.stop()}}x.disconnect(O),O.onaudioprocess=null,q?U():Y();break}}}};let q=!1;const $=s(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),G=()=>O.connect($).connect(p.destination),Y=()=>{O.disconnect($),$.disconnect()};return G(),u(M,()=>{if(H){Y(),g.numberOfOutputs>0&&O.connect(T);for(let e=0,t=0;e<g.numberOfOutputs;e+=1){const n=P[e];for(let i=0;i<v[e];i+=1)T.connect(n,t+i,i);t+=v[e]}}q=!0},()=>{H&&(G(),U()),q=!1})})(uy,Of,vm,fv,Im,vv,Mm,Lm,jm,fy,Kv,gy,dv),yy=((e,t,n,i,r)=>(o,s,a,c,l,h)=>{if(null!==a)try{const t=new a(o,c,h),i=new Map;let s=null;if(Object.defineProperties(t,{channelCount:{get:()=>h.channelCount,set:()=>{throw e()}},channelCountMode:{get:()=>"explicit",set:()=>{throw e()}},onprocessorerror:{get:()=>s,set:e=>{"function"==typeof s&&t.removeEventListener("processorerror",s),s="function"==typeof e?e:null,"function"==typeof s&&t.addEventListener("processorerror",s)}}}),t.addEventListener=(e=>(...n)=>{if("processorerror"===n[0]){const e="function"==typeof n[1]?n[1]:"object"==typeof n[1]&&null!==n[1]&&"function"==typeof n[1].handleEvent?n[1].handleEvent:null;if(null!==e){const t=i.get(n[1]);void 0!==t?n[1]=t:(n[1]=t=>{"error"===t.type?(Object.defineProperties(t,{type:{value:"processorerror"}}),e(t)):e(new ErrorEvent(n[0],{...t}))},i.set(e,n[1]))}}return e.call(t,"error",n[1],n[2]),e.call(t,...n)})(t.addEventListener),t.removeEventListener=(d=t.removeEventListener,(...e)=>{if("processorerror"===e[0]){const t=i.get(e[1]);void 0!==t&&(i.delete(e[1]),e[1]=t)}return d.call(t,"error",e[1],e[2]),d.call(t,e[0],e[1],e[2])}),0!==h.numberOfOutputs){const e=n(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return t.connect(e).connect(o.destination),r(t,()=>e.disconnect(),()=>e.connect(o.destination))}return t}catch(u){if(11===u.code)throw i();throw u}var d;if(void 0===l)throw i();return(e=>{const{port1:t}=new MessageChannel;try{t.postMessage(e)}finally{t.close()}})(h),t(o,s,l,h)})(vm,vy,Mm,jm,dv),by=((e,t,n,i,r,o,s,a,c,l,h,d,u,p,f,m)=>(g,v,y)=>{const b=new WeakMap;let _=null;return{render(w,C,S){a(C,w);const k=b.get(C);return void 0!==k?Promise.resolve(k):(async(a,w,C)=>{let S=h(a),k=null;const x=xf(S,w),E=Array.isArray(v.outputChannelCount)?v.outputChannelCount:Array.from(v.outputChannelCount);if(null===d){const e=E.reduce((e,t)=>e+t,0),n=r(w,{channelCount:Math.max(1,e),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,e)}),o=[];for(let t=0;t<a.numberOfOutputs;t+=1)o.push(i(w,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:E[t]}));const l=s(w,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1});l.connect=t.bind(null,o),l.disconnect=c.bind(null,o),k=[n,o,l]}else x||(S=new d(w,g));if(b.set(w,null===k?S:k[2]),null!==k){if(null===_){if(void 0===y)throw new Error("Missing the processor constructor.");if(null===u)throw new Error("Missing the native OfflineAudioContext constructor.");const e=a.channelCount*a.numberOfInputs,t=void 0===y.parameterDescriptors?0:y.parameterDescriptors.length,n=e+t,c=async()=>{const c=new u(n,128*Math.ceil(a.context.length/128),w.sampleRate),l=[],h=[];for(let e=0;e<v.numberOfInputs;e+=1)l.push(s(c,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1})),h.push(r(c,{channelCount:v.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:v.channelCount}));const d=await Promise.all(Array.from(a.parameters.values()).map(async e=>{const t=o(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:e.value});return await p(c,e,t.offset,C),t})),g=i(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,e+t)});for(let e=0;e<v.numberOfInputs;e+=1){l[e].connect(h[e]);for(let t=0;t<v.channelCount;t+=1)h[e].connect(g,t,e*v.channelCount+t)}for(const[t,n]of d.entries())n.connect(g,0,e+t),n.start(0);return g.connect(c.destination),await Promise.all(l.map(e=>f(a,c,e,C))),m(c)};_=(async(e,t,n,i,r,o,s)=>{const a=null===t?128*Math.ceil(e.context.length/128):t.length,c=i.channelCount*i.numberOfInputs,l=r.reduce((e,t)=>e+t,0),h=0===l?null:n.createBuffer(l,a,n.sampleRate);if(void 0===o)throw new Error("Missing the processor constructor.");const d=Mf(e),u=await((e,t)=>{const n=gf(hf,e),i=Yf(t);return gf(n,i)})(n,e),p=am(i.numberOfInputs,i.channelCount),f=am(i.numberOfOutputs,r),m=Array.from(e.parameters.keys()).reduce((e,t)=>({...e,[t]:new Float32Array(128)}),{});for(let v=0;v<a;v+=128){if(i.numberOfInputs>0&&null!==t)for(let e=0;e<i.numberOfInputs;e+=1)for(let n=0;n<i.channelCount;n+=1)om(t,p[e],n,n,v);void 0!==o.parameterDescriptors&&null!==t&&o.parameterDescriptors.forEach(({name:e},n)=>{om(t,m,e,c+n,v)});for(let e=0;e<i.numberOfInputs;e+=1)for(let t=0;t<r[e];t+=1)0===f[e][t].byteLength&&(f[e][t]=new Float32Array(128));try{const e=p.map((e,t)=>0===d.activeInputs[t].size?[]:e),t=s(v/n.sampleRate,n.sampleRate,()=>u.process(e,f,m));if(null!==h)for(let n=0,o=0;n<i.numberOfOutputs;n+=1){for(let e=0;e<r[n];e+=1)sm(h,f[n],e,o+e,v);o+=r[n]}if(!t)break}catch(g){e.dispatchEvent(new ErrorEvent("processorerror",{colno:g.colno,filename:g.filename,lineno:g.lineno,message:g.message}));break}}return h})(a,0===n?null:await c(),w,v,E,y,l)}const e=await _,t=n(w,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[c,h,d]=k;null!==e&&(t.buffer=e,t.start(0)),t.connect(c);for(let n=0,i=0;n<a.numberOfOutputs;n+=1){const e=h[n];for(let t=0;t<E[n];t+=1)c.connect(e,i+t,t);i+=E[n]}return d}if(x)for(const[t,n]of a.parameters.entries())await e(w,n,S.parameters.get(t),C);else for(const[e,t]of a.parameters.entries())await p(w,t,S.parameters.get(e),C);return await f(a,w,S,C),S})(w,C,S)}}})(qg,uy,$g,fv,Im,vv,Mm,py,fy,Kv,Yf,Jv,_g,Yg,pg,Ov),_y=(e=>t=>e.get(t))(Zv),wy=(e=>(t,n)=>{e.set(t,n)})(my),Cy=Xv?((e,t,n,i,r,o,s,a,c,l,h,d,u)=>class extends t{constructor(t,h,u){var p;const f=a(t),m=c(f),g=(e=>({...e,outputChannelCount:void 0!==e.outputChannelCount?e.outputChannelCount:1===e.numberOfInputs&&1===e.numberOfOutputs?[e.channelCount]:Array.from({length:e.numberOfOutputs},()=>1)}))({...rm,...u}),v=lf.get(f),y=null==v?void 0:v.get(h),b=m||"closed"!==f.state?f:null!==(p=s(f))&&void 0!==p?p:f,_=r(b,m?null:t.baseLatency,l,h,y,g);super(t,!0,_,m?i(h,g,y):null);const w=[];_.parameters.forEach((e,t)=>{const i=n(this,m,e);w.push([t,i])}),this._nativeAudioWorkletNode=_,this._onprocessorerror=null,this._parameters=new im(w),m&&e(f,this);const{activeInputs:C}=o(this);d(_,C)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(e){const t="function"==typeof e?u(this,e):null;this._nativeAudioWorkletNode.onprocessorerror=t;const n=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=null!==n&&n===t?e:n}get parameters(){return null===this._parameters?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}})(hy,Ig,Kg,by,yy,Mf,_y,yg,wg,Jv,0,wy,Zm):void 0;let Sy=(()=>{class e{constructor(){this.audioCtx=new ay,this.srcNodes={},this.spatialNode=null,this.destNode=null,this.nextAvailableIndex=0}initialize(){return Qp(this,void 0,void 0,function*(){this.destNode=this.audioCtx.createMediaStreamDestination(),yield this.audioCtx.resume(),yield this.audioCtx.audioWorklet.addModule("./assets/worklet/a.out.js"),this.spatialNode=new Cy(this.audioCtx,"spatial-processor",{numberOfInputs:30,numberOfOutputs:1,outputChannelCount:[2],processorOptions:{sampleRate:this.audioCtx.sampleRate,currentNumberOfInputs:0}}),this.spatialNode.connect(this.destNode)})}getUpdatedTracks(){return this.destNode.stream.getTracks()[0]}addSourceNode(e,t){return Qp(this,void 0,void 0,function*(){const n=new Audio;n.srcObject=new MediaStream([t]),this.srcNodes[e]={node:this.audioCtx.createMediaStreamSource(n.srcObject),audioSettings:{type:"audio_settings",index:this.nextAvailableIndex,userId:e,volume:.5,position:{x:0,y:-1,z:0}}},this.srcNodes[e].node.connect(this.spatialNode,0,this.nextAvailableIndex++),n.play(),n.muted=!0,this.spatialNode.port.postMessage(this.srcNodes[e].audioSettings),this.spatialNode.port.postMessage({type:"audio_node_settings",currentNumberOfInputs:this.nextAvailableIndex})})}removeSourceNode(e){this.audioCtx.suspend(),this.srcNodes[e].node.disconnect(),delete this.srcNodes[e],Object.keys(this.srcNodes).map((e,t)=>{this.srcNodes[e].node.disconnect(),this.srcNodes[e].node.connect(this.spatialNode,0,t),this.srcNodes[e].audioSettings.index=t,this.spatialNode.port.postMessage(this.srcNodes[e].audioSettings)}),this.nextAvailableIndex=Object.keys(this.srcNodes).length,this.spatialNode.port.postMessage({type:"audio_node_settings",currentNumberOfInputs:this.nextAvailableIndex}),this.audioCtx.resume()}updateVolume(e){const t=this.srcNodes[e.userId].audioSettings;t.volume=e.volume,this.spatialNode.port.postMessage(t)}updatePosition(e){const t=this.srcNodes[e.userId].audioSettings;t.position=e.position,this.spatialNode.port.postMessage(t)}getAudioSettings(e){return this.srcNodes[e].audioSettings}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();var ky,xy=n("gFX4"),Ey=n.n(xy);class Oy{constructor(e){this.config=e,this.subscribersCounter={},this.eventObservables$={},this.emptyConfig={url:"",options:{}},void 0===e&&(e=this.emptyConfig),this.ioSocket=(Ey.a?Ey.a:xy)(e.url,e.options)}of(e){this.ioSocket.of(e)}on(e,t){this.ioSocket.on(e,t)}once(e,t){this.ioSocket.once(e,t)}connect(){return this.ioSocket.connect()}disconnect(e){return this.ioSocket.disconnect.apply(this.ioSocket,arguments)}emit(e,...t){return this.ioSocket.emit.apply(this.ioSocket,arguments)}removeListener(e,t){return this.ioSocket.removeListener.apply(this.ioSocket,arguments)}removeAllListeners(e){return this.ioSocket.removeAllListeners.apply(this.ioSocket,arguments)}fromEvent(e){return this.subscribersCounter[e]||(this.subscribersCounter[e]=0),this.subscribersCounter[e]++,this.eventObservables$[e]||(this.eventObservables$[e]=new y(t=>{const n=e=>{t.next(e)};return this.ioSocket.on(e,n),()=>{this.subscribersCounter[e]--,0===this.subscribersCounter[e]&&(this.ioSocket.removeListener(e,n),delete this.eventObservables$[e])}}).pipe(J())),this.eventObservables$[e]}fromOneTimeEvent(e){return new Promise(t=>this.once(e,t))}}function Ty(e){return new Oy(e)}const Py=new be("__SOCKET_IO_CONFIG__");let Ry=(()=>{let e=ky=class{static forRoot(e){return{ngModule:ky,providers:[{provide:Py,useValue:e},{provide:Oy,useFactory:Ty,deps:[Py]}]}}};return e.\u0275mod=tt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)}}),e})(),Iy=(()=>{class e extends Oy{constructor(){super({url:"https://spatialsoup.com:3000/rooms",options:{autoConnect:!1,multiplex:!1}}),this.connectedBefore=!1,this.socket=null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),Ay=(()=>{class e{constructor(e){this.socket=e}getRouterRtpCapabilities(e){const t=this.socket.fromOneTimeEvent("rtpCapabilities");return this.socket.emit("getRouterRtpCapabilities",e),t}createProducerTransport(e){const t=this.socket.fromOneTimeEvent("producerTransportParameters");return this.socket.emit("createProducerTransport",e),t}createConsumerTransport(e){const t=this.socket.fromOneTimeEvent("consumerTransportParameters");return this.socket.emit("createConsumerTransport",e),t}connectProducerTransport(e){this.socket.emit("connectProducerTransport",e)}connectConsumerTransport(e){this.socket.emit("connectConsumerTransport",e)}createProducer(e){const t=this.socket.fromOneTimeEvent("producerId");return this.socket.emit("createProducer",e),t}createConsumer(e){this.socket.emit("createConsumer",e)}createBatchConsumers(e){this.socket.emit("createBatchConsumers",e)}resumeConsumer(e){this.socket.emit("resumeConsumer",e)}cleanup(e){this.socket.emit("cleanup",e)}removeConsumer(e){this.socket.emit("removeConsumer",e)}}return e.\u0275fac=function(t){return new(t||e)(yt(Iy))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),Dy=(()=>{class e{constructor(){this.setNetworkSubject=new S,this.addNodeSubject=new S,this.removeNodeSubject=new S,this.setNumberOfExpectedNodesSubject=new S}addNode(e){this.addNodeSubject.next(e)}removeNode(e){this.removeNodeSubject.next(e)}setNumberOfExpectedNodes(e){this.setNumberOfExpectedNodesSubject.next(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();var My=n("3fo0");class Ny{}function Fy(e,t){return{type:7,name:e,definitions:t,options:{}}}function Ly(e,t=null){return{type:4,styles:t,timings:e}}function jy(e,t=null){return{type:2,steps:e,options:t}}function By(e){return{type:6,styles:e,offset:null}}function zy(e,t,n){return{type:0,name:e,styles:t,options:n}}function Vy(e,t,n=null){return{type:1,expr:e,animation:t,options:n}}function Hy(e=null){return{type:9,options:e}}function Uy(e,t,n=null){return{type:11,selector:e,animation:t,options:n}}function Wy(e){Promise.resolve(null).then(e)}class qy{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Wy(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){}setPosition(e){}getPosition(){return 0}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class $y{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,n=0,i=0;const r=this.players.length;0==r?Wy(()=>this._onFinish()):this.players.forEach(e=>{e.onDone(()=>{++t==r&&this._onFinish()}),e.onDestroy(()=>{++n==r&&this._onDestroy()}),e.onStart(()=>{++i==r&&this._onStart()})}),this.totalTime=this.players.reduce((e,t)=>Math.max(e,t.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(e=>{const n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)})}getPosition(){let e=0;return this.players.forEach(t=>{const n=t.getPosition();e=Math.min(n,e)}),e}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}function Gy(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Yy(e){switch(e.length){case 0:return new qy;case 1:return e[0];default:return new $y(e)}}function Xy(e,t,n,i,r={},o={}){const s=[],a=[];let c=-1,l=null;if(i.forEach(e=>{const n=e.offset,i=n==c,h=i&&l||{};Object.keys(e).forEach(n=>{let i=n,a=e[n];if("offset"!==n)switch(i=t.normalizePropertyName(i,s),a){case"!":a=r[n];break;case"*":a=o[n];break;default:a=t.normalizeStyleValue(n,i,a,s)}h[i]=a}),i||a.push(h),l=h,c=n}),s.length){const e="\n - ";throw new Error(`Unable to animate due to the following errors:${e}${s.join(e)}`)}return a}function Ky(e,t,n,i){switch(t){case"start":e.onStart(()=>i(n&&Zy(n,"start",e)));break;case"done":e.onDone(()=>i(n&&Zy(n,"done",e)));break;case"destroy":e.onDestroy(()=>i(n&&Zy(n,"destroy",e)))}}function Zy(e,t,n){const i=n.totalTime,r=Qy(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==i?e.totalTime:i,!!n.disabled),o=e._data;return null!=o&&(r._data=o),r}function Qy(e,t,n,i,r="",o=0,s){return{element:e,triggerName:t,fromState:n,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function Jy(e,t,n){let i;return e instanceof Map?(i=e.get(t),i||e.set(t,i=n)):(i=e[t],i||(i=e[t]=n)),i}function eb(e){const t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}let tb=(e,t)=>!1,nb=(e,t)=>!1,ib=(e,t,n)=>[];const rb=Gy();(rb||"undefined"!=typeof Element)&&(tb=(e,t)=>e.contains(t),nb=(()=>{if(rb||Element.prototype.matches)return(e,t)=>e.matches(t);{const e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?(e,n)=>t.apply(e,[n]):nb}})(),ib=(e,t,n)=>{let i=[];if(n)i.push(...e.querySelectorAll(t));else{const n=e.querySelector(t);n&&i.push(n)}return i});let ob=null,sb=!1;const ab=nb,cb=tb,lb=ib;let hb=(()=>{class e{validateStyleProperty(e){return function(e){ob||(ob=("undefined"!=typeof document?document.body:null)||{},sb=!!ob.style&&"WebkitAppearance"in ob.style);let t=!0;return ob.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in ob.style,!t&&sb)&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in ob.style),t}(e)}matchesElement(e,t){return ab(e,t)}containsElement(e,t){return cb(e,t)}query(e,t,n){return lb(e,t,n)}computeStyle(e,t,n){return n||""}animate(e,t,n,i,r,o=[],s){return new qy(n,i)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),db=(()=>{class e{}return e.NOOP=new hb,e})();function ub(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:pb(parseFloat(t[1]),t[2])}function pb(e,t){switch(t){case"s":return 1e3*e;default:return e}}function fb(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){let i,r=0,o="";if("string"==typeof e){const n=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return t.push(`The provided timing value "${e}" is invalid.`),{duration:0,delay:0,easing:""};i=pb(parseFloat(n[1]),n[2]);const s=n[3];null!=s&&(r=pb(parseFloat(s),n[4]));const a=n[5];a&&(o=a)}else i=e;if(!n){let n=!1,o=t.length;i<0&&(t.push("Duration values below 0 are not allowed for this animation step."),n=!0),r<0&&(t.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&t.splice(o,0,`The provided timing value "${e}" is invalid.`)}return{duration:i,delay:r,easing:o}}(e,t,n)}function mb(e,t={}){return Object.keys(e).forEach(n=>{t[n]=e[n]}),t}function gb(e,t,n={}){if(t)for(let i in e)n[i]=e[i];else mb(e,n);return n}function vb(e,t,n){return n?t+":"+n+";":""}function yb(e){let t="";for(let n=0;n<e.style.length;n++){const i=e.style.item(n);t+=vb(0,i,e.style.getPropertyValue(i))}for(const n in e.style)e.style.hasOwnProperty(n)&&!n.startsWith("_")&&(t+=vb(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[n]));e.setAttribute("style",t)}function bb(e,t,n){e.style&&(Object.keys(t).forEach(i=>{const r=Ob(i);n&&!n.hasOwnProperty(i)&&(n[i]=e.style[r]),e.style[r]=t[i]}),Gy()&&yb(e))}function _b(e,t){e.style&&(Object.keys(t).forEach(t=>{const n=Ob(t);e.style[n]=""}),Gy()&&yb(e))}function wb(e){return Array.isArray(e)?1==e.length?e[0]:jy(e):e}const Cb=new RegExp("{{\\s*(.+?)\\s*}}","g");function Sb(e){let t=[];if("string"==typeof e){let n;for(;n=Cb.exec(e);)t.push(n[1]);Cb.lastIndex=0}return t}function kb(e,t,n){const i=e.toString(),r=i.replace(Cb,(e,i)=>{let r=t[i];return t.hasOwnProperty(i)||(n.push("Please provide a value for the animation param "+i),r=""),r.toString()});return r==i?e:r}function xb(e){const t=[];let n=e.next();for(;!n.done;)t.push(n.value),n=e.next();return t}const Eb=/-+([a-z0-9])/g;function Ob(e){return e.replace(Eb,(...e)=>e[1].toUpperCase())}function Tb(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error("Unable to resolve animation metadata node #"+t.type)}}function Pb(e,t){const n=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(e=>function(e,t,n){if(":"==e[0]){const i=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return t.push(`The transition alias value "${e}" is not supported`),"* => *"}}(e,n);if("function"==typeof i)return void t.push(i);e=i}const i=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push(`The provided transition expression "${e}" is not supported`),t;const r=i[1],o=i[2],s=i[3];t.push(Ab(r,s)),"<"!=o[0]||"*"==r&&"*"==s||t.push(Ab(s,r))}(e,n,t)):n.push(e),n}const Rb=new Set(["true","1"]),Ib=new Set(["false","0"]);function Ab(e,t){const n=Rb.has(e)||Ib.has(e),i=Rb.has(t)||Ib.has(t);return(r,o)=>{let s="*"==e||e==r,a="*"==t||t==o;return!s&&n&&"boolean"==typeof r&&(s=r?Rb.has(e):Ib.has(e)),!a&&i&&"boolean"==typeof o&&(a=o?Rb.has(t):Ib.has(t)),s&&a}}const Db=new RegExp("s*:selfs*,?","g");function Mb(e,t,n){return new Nb(e).build(t,n)}class Nb{constructor(e){this._driver=e}build(e,t){const n=new Fb(t);return this._resetContextStyleTimingState(n),Tb(this,wb(e),n)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let n=t.queryCount=0,i=t.depCount=0;const r=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(e=>{if(this._resetContextStyleTimingState(t),0==e.type){const n=e,i=n.name;i.toString().split(/\s*,\s*/).forEach(e=>{n.name=e,r.push(this.visitState(n,t))}),n.name=i}else if(1==e.type){const r=this.visitTransition(e,t);n+=r.queryCount,i+=r.depCount,o.push(r)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:r,transitions:o,queryCount:n,depCount:i,options:null}}visitState(e,t){const n=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(n.containsDynamicStyles){const r=new Set,o=i||{};if(n.styles.forEach(e=>{if(Lb(e)){const t=e;Object.keys(t).forEach(e=>{Sb(t[e]).forEach(e=>{o.hasOwnProperty(e)||r.add(e)})})}}),r.size){const n=xb(r.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:e.name,style:n,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const n=Tb(this,wb(e.animation),t);return{type:1,matchers:Pb(e.expr,t.errors),animation:n,queryCount:t.queryCount,depCount:t.depCount,options:jb(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(e=>Tb(this,e,t)),options:jb(e.options)}}visitGroup(e,t){const n=t.currentTime;let i=0;const r=e.steps.map(e=>{t.currentTime=n;const r=Tb(this,e,t);return i=Math.max(i,t.currentTime),r});return t.currentTime=i,{type:3,steps:r,options:jb(e.options)}}visitAnimate(e,t){const n=function(e,t){let n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return Bb(fb(e,t).duration,0,"");const i=e;if(i.split(/\s+/).some(e=>"{"==e.charAt(0)&&"{"==e.charAt(1))){const e=Bb(0,0,"");return e.dynamic=!0,e.strValue=i,e}return n=n||fb(i,t),Bb(n.duration,n.delay,n.easing)}(e.timings,t.errors);let i;t.currentAnimateTimings=n;let r=e.styles?e.styles:By({});if(5==r.type)i=this.visitKeyframes(r,t);else{let r=e.styles,o=!1;if(!r){o=!0;const e={};n.easing&&(e.easing=n.easing),r=By(e)}t.currentTime+=n.duration+n.delay;const s=this.visitStyle(r,t);s.isEmptyStep=o,i=s}return t.currentAnimateTimings=null,{type:4,timings:n,style:i,options:null}}visitStyle(e,t){const n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}_makeStyleAst(e,t){const n=[];Array.isArray(e.styles)?e.styles.forEach(e=>{"string"==typeof e?"*"==e?n.push(e):t.errors.push(`The provided style string value ${e} is not allowed.`):n.push(e)}):n.push(e.styles);let i=!1,r=null;return n.forEach(e=>{if(Lb(e)){const t=e,n=t.easing;if(n&&(r=n,delete t.easing),!i)for(let e in t)if(t[e].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:n,easing:r,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const n=t.currentAnimateTimings;let i=t.currentTime,r=t.currentTime;n&&r>0&&(r-=n.duration+n.delay),e.styles.forEach(e=>{"string"!=typeof e&&Object.keys(e).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void t.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const o=t.collectedStyles[t.currentQuerySelector],s=o[n];let a=!0;s&&(r!=i&&r>=s.startTime&&i<=s.endTime&&(t.errors.push(`The CSS property "${n}" that exists between the times of "${s.startTime}ms" and "${s.endTime}ms" is also being animated in a parallel animation between the times of "${r}ms" and "${i}ms"`),a=!1),r=s.startTime),a&&(o[n]={startTime:r,endTime:i}),t.options&&function(e,t,n){const i=t.params||{},r=Sb(e);r.length&&r.forEach(e=>{i.hasOwnProperty(e)||n.push(`Unable to resolve the local animation param ${e} in the given list of values`)})}(e[n],t.options,t.errors)})})}visitKeyframes(e,t){const n={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),n;let i=0;const r=[];let o=!1,s=!1,a=0;const c=e.steps.map(e=>{const n=this._makeStyleAst(e,t);let c=null!=n.offset?n.offset:function(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(e=>{if(Lb(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}});else if(Lb(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}return t}(n.styles),l=0;return null!=c&&(i++,l=n.offset=c),s=s||l<0||l>1,o=o||l<a,a=l,r.push(l),n});s&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&t.errors.push("Please ensure that all keyframe offsets are in order");const l=e.steps.length;let h=0;i>0&&i<l?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(h=1/(l-1));const d=l-1,u=t.currentTime,p=t.currentAnimateTimings,f=p.duration;return c.forEach((e,i)=>{const o=h>0?i==d?1:h*i:r[i],s=o*f;t.currentTime=u+p.delay+s,p.duration=s,this._validateStyleAst(e,t),e.offset=o,n.styles.push(e)}),n}visitReference(e,t){return{type:8,animation:Tb(this,wb(e.animation),t),options:jb(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:jb(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:jb(e.options)}}visitQuery(e,t){const n=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[r,o]=function(e){const t=!!e.split(/\s*,\s*/).find(e=>":self"==e);return t&&(e=e.replace(Db,"")),[e=e.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,e=>".ng-trigger-"+e.substr(1)).replace(/:animating/g,".ng-animating"),t]}(e.selector);t.currentQuerySelector=n.length?n+" "+r:r,Jy(t.collectedStyles,t.currentQuerySelector,{});const s=Tb(this,wb(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:r,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:s,originalSelector:e.selector,options:jb(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const n="full"===e.timings?{duration:0,delay:0,easing:"full"}:fb(e.timings,t.errors,!0);return{type:12,animation:Tb(this,wb(e.animation),t),timings:n,options:null}}}class Fb{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Lb(e){return!Array.isArray(e)&&"object"==typeof e}function jb(e){var t;return e?(e=mb(e)).params&&(e.params=(t=e.params)?mb(t):null):e={},e}function Bb(e,t,n){return{duration:e,delay:t,easing:n}}function zb(e,t,n,i,r,o,s=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class Vb{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Hb=new RegExp(":enter","g"),Ub=new RegExp(":leave","g");function Wb(e,t,n,i,r,o={},s={},a,c,l=[]){return(new qb).buildKeyframes(e,t,n,i,r,o,s,a,c,l)}class qb{buildKeyframes(e,t,n,i,r,o,s,a,c,l=[]){c=c||new Vb;const h=new Gb(e,t,c,i,r,l,[]);h.options=a,h.currentTimeline.setStyles([o],null,h.errors,a),Tb(this,n,h);const d=h.timelines.filter(e=>e.containsAnimation());if(d.length&&Object.keys(s).length){const e=d[d.length-1];e.allowOnlyTimelineStyles()||e.setStyles([s],null,h.errors,a)}return d.length?d.map(e=>e.buildKeyframes()):[zb(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const n=t.subInstructions.consume(t.element);if(n){const i=t.createSubContext(e.options),r=t.currentTimeline.currentTime,o=this._visitSubInstructions(n,i,i.options);r!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,n){let i=t.currentTimeline.currentTime;const r=null!=n.duration?ub(n.duration):null,o=null!=n.delay?ub(n.delay):null;return 0!==r&&e.forEach(e=>{const n=t.appendInstructionToTimeline(e,r,o);i=Math.max(i,n.duration+n.delay)}),i}visitReference(e,t){t.updateOptions(e.options,!0),Tb(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const n=t.subContextCount;let i=t;const r=e.options;if(r&&(r.params||r.delay)&&(i=t.createSubContext(r),i.transformIntoNewTimeline(),null!=r.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=$b);const e=ub(r.delay);i.delayNextStep(e)}e.steps.length&&(e.steps.forEach(e=>Tb(this,e,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const n=[];let i=t.currentTimeline.currentTime;const r=e.options&&e.options.delay?ub(e.options.delay):0;e.steps.forEach(o=>{const s=t.createSubContext(e.options);r&&s.delayNextStep(r),Tb(this,o,s),i=Math.max(i,s.currentTimeline.currentTime),n.push(s.currentTimeline)}),n.forEach(e=>t.currentTimeline.mergeTimelineCollectedStyles(e)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const n=e.strValue;return fb(t.params?kb(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const n=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),i.snapshotCurrentStyles());const r=e.style;5==r.type?this.visitKeyframes(r,t):(t.incrementTime(n.duration),this.visitStyle(r,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const n=t.currentTimeline,i=t.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();const r=i&&i.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(r):n.setStyles(e.styles,r,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const n=t.currentAnimateTimings,i=t.currentTimeline.duration,r=n.duration,o=t.createSubContext().currentTimeline;o.easing=n.easing,e.styles.forEach(e=>{o.forwardTime((e.offset||0)*r),o.setStyles(e.styles,e.easing,t.errors,t.options),o.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(o),t.transformIntoNewTimeline(i+r),t.previousNode=e}visitQuery(e,t){const n=t.currentTimeline.currentTime,i=e.options||{},r=i.delay?ub(i.delay):0;r&&(6===t.previousNode.type||0==n&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=$b);let o=n;const s=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=s.length;let a=null;s.forEach((n,i)=>{t.currentQueryIndex=i;const s=t.createSubContext(e.options,n);r&&s.delayNextStep(r),n===t.element&&(a=s.currentTimeline),Tb(this,e.animation,s),s.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,s.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),a&&(t.currentTimeline.mergeTimelineCollectedStyles(a),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const n=t.parentContext,i=t.currentTimeline,r=e.timings,o=Math.abs(r.duration),s=o*(t.currentQueryTotal-1);let a=o*t.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}const c=t.currentTimeline;a&&c.delayNextStep(a);const l=c.currentTime;Tb(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=i.currentTime-l+(i.startTime-n.currentTimeline.startTime)}}const $b={};class Gb{constructor(e,t,n,i,r,o,s,a){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=r,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=$b,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new Yb(this._driver,t,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const n=e;let i=this.options;null!=n.duration&&(i.duration=ub(n.duration)),null!=n.delay&&(i.delay=ub(n.delay));const r=n.params;if(r){let e=i.params;e||(e=this.options.params={}),Object.keys(r).forEach(n=>{t&&e.hasOwnProperty(n)||(e[n]=kb(r[n],e,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const n=e.params={};Object.keys(t).forEach(e=>{n[e]=t[e]})}}return e}createSubContext(e=null,t,n){const i=t||this.element,r=new Gb(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(e),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(e){return this.previousNode=$b,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,n){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},r=new Xb(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(r),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,n,i,r,o){let s=[];if(i&&s.push(this.element),e.length>0){e=(e=e.replace(Hb,"."+this._enterClassName)).replace(Ub,"."+this._leaveClassName);let t=this._driver.query(this.element,e,1!=n);0!==n&&(t=n<0?t.slice(t.length+n,t.length):t.slice(0,n)),s.push(...t)}return r||0!=s.length||o.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),s}}class Yb{constructor(e,t,n,i){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Yb(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||"*",this._currentKeyframe[e]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,n,i){t&&(this._previousKeyframe.easing=t);const r=i&&i.params||{},o=function(e,t){const n={};let i;return e.forEach(e=>{"*"===e?(i=i||Object.keys(t),i.forEach(e=>{n[e]="*"})):gb(e,!1,n)}),n}(e,this._globalTimelineStyles);Object.keys(o).forEach(e=>{const t=kb(o[e],r,n);this._pendingStyles[e]=t,this._localTimelineStyles.hasOwnProperty(e)||(this._backFill[e]=this._globalTimelineStyles.hasOwnProperty(e)?this._globalTimelineStyles[e]:"*"),this._updateStyle(e,t)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(t=>{this._currentKeyframe[t]=e[t]}),Object.keys(this._localTimelineStyles).forEach(e=>{this._currentKeyframe.hasOwnProperty(e)||(this._currentKeyframe[e]=this._localTimelineStyles[e])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const n=this._styleSummary[t],i=e._styleSummary[t];(!n||i.time>n.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,n=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((r,o)=>{const s=gb(r,!0);Object.keys(s).forEach(n=>{const i=s[n];"!"==i?e.add(n):"*"==i&&t.add(n)}),n||(s.offset=o/this.duration),i.push(s)});const r=e.size?xb(e.values()):[],o=t.size?xb(t.values()):[];if(n){const e=i[0],t=mb(e);e.offset=0,t.offset=1,i=[e,t]}return zb(this.element,i,r,o,this.duration,this.startTime,this.easing,!1)}}class Xb extends Yb{constructor(e,t,n,i,r,o,s=!1){super(e,t,o.delay),this.element=t,this.keyframes=n,this.preStyleProps=i,this.postStyleProps=r,this._stretchStartingKeyframe=s,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const r=[],o=n+t,s=t/o,a=gb(e[0],!1);a.offset=0,r.push(a);const c=gb(e[0],!1);c.offset=Kb(s),r.push(c);const l=e.length-1;for(let i=1;i<=l;i++){let s=gb(e[i],!1);s.offset=Kb((t+s.offset*n)/o),r.push(s)}n=o,t=0,i="",e=r}return zb(this.element,e,this.preStyleProps,this.postStyleProps,n,t,i,!0)}}function Kb(e,t=3){const n=Math.pow(10,t-1);return Math.round(e*n)/n}class Zb{}class Qb extends Zb{normalizePropertyName(e,t){return Ob(e)}normalizeStyleValue(e,t,n,i){let r="";const o=n.toString().trim();if(Jb[t]&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{const t=n.match(/^[+-]?[\d\.]+([a-z]*)$/);t&&0==t[1].length&&i.push(`Please provide a CSS unit value for ${e}:${n}`)}return o+r}}const Jb=(()=>function(e){const t={};return e.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function e_(e,t,n,i,r,o,s,a,c,l,h,d,u){return{type:0,element:e,triggerName:t,isRemovalTransition:r,fromState:n,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:h,totalTime:d,errors:u}}const t_={};class n_{constructor(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}match(e,t,n,i){return function(e,t,n,i,r){return e.some(e=>e(t,n,i,r))}(this.ast.matchers,e,t,n,i)}buildStyles(e,t,n){const i=this._stateStyles["*"],r=this._stateStyles[e],o=i?i.buildStyles(t,n):{};return r?r.buildStyles(t,n):o}build(e,t,n,i,r,o,s,a,c,l){const h=[],d=this.ast.options&&this.ast.options.params||t_,u=this.buildStyles(n,s&&s.params||t_,h),p=a&&a.params||t_,f=this.buildStyles(i,p,h),m=new Set,g=new Map,v=new Map,y="void"===i,b={params:Object.assign(Object.assign({},d),p)},_=l?[]:Wb(e,t,this.ast.animation,r,o,u,f,b,c,h);let w=0;if(_.forEach(e=>{w=Math.max(e.duration+e.delay,w)}),h.length)return e_(t,this._triggerName,n,i,y,u,f,[],[],g,v,w,h);_.forEach(e=>{const n=e.element,i=Jy(g,n,{});e.preStyleProps.forEach(e=>i[e]=!0);const r=Jy(v,n,{});e.postStyleProps.forEach(e=>r[e]=!0),n!==t&&m.add(n)});const C=xb(m.values());return e_(t,this._triggerName,n,i,y,u,f,_,C,g,v,w)}}class i_{constructor(e,t){this.styles=e,this.defaultParams=t}buildStyles(e,t){const n={},i=mb(this.defaultParams);return Object.keys(e).forEach(t=>{const n=e[t];null!=n&&(i[t]=n)}),this.styles.styles.forEach(e=>{if("string"!=typeof e){const r=e;Object.keys(r).forEach(e=>{let o=r[e];o.length>1&&(o=kb(o,i,t)),n[e]=o})}}),n}}class r_{constructor(e,t){this.name=e,this.ast=t,this.transitionFactories=[],this.states={},t.states.forEach(e=>{this.states[e.name]=new i_(e.style,e.options&&e.options.params||{})}),o_(this.states,"true","1"),o_(this.states,"false","0"),t.transitions.forEach(t=>{this.transitionFactories.push(new n_(e,t,this.states))}),this.fallbackTransition=new n_(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(e,t)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,n,i){return this.transitionFactories.find(r=>r.match(e,t,n,i))||null}matchStyles(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}function o_(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}const s_=new Vb;class a_{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(e,t){const n=[],i=Mb(this._driver,t,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[e]=i}_buildPlayer(e,t,n){const i=e.element,r=Xy(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(i,r,e.duration,e.delay,e.easing,[],!0)}create(e,t,n={}){const i=[],r=this._animations[e];let o;const s=new Map;if(r?(o=Wb(this._driver,t,r,"ng-enter","ng-leave",{},{},n,s_,i),o.forEach(e=>{const t=Jy(s,e.element,{});e.postStyleProps.forEach(e=>t[e]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),o=[]),i.length)throw new Error("Unable to create the animation due to the following errors: "+i.join("\n"));s.forEach((e,t)=>{Object.keys(e).forEach(n=>{e[n]=this._driver.computeStyle(t,n,"*")})});const a=Yy(o.map(e=>{const t=s.get(e.element);return this._buildPlayer(e,{},t)}));return this._playersById[e]=a,a.onDestroy(()=>this.destroy(e)),this.players.push(a),a}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error("Unable to find the timeline player referenced by "+e);return t}listen(e,t,n,i){const r=Qy(t,"","","");return Ky(this._getPlayer(e),n,r,i),()=>{}}command(e,t,n,i){if("register"==n)return void this.register(e,i[0]);if("create"==n)return void this.create(e,t,i[0]||{});const r=this._getPlayer(e);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const c_=[],l_={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},h_={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class d_{constructor(e,t=""){this.namespaceId=t;const n=e&&e.hasOwnProperty("value");if(this.value=null!=(i=n?e.value:e)?i:null,n){const t=mb(e);delete t.value,this.options=t}else this.options={};var i;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const e=this.options.params;Object.keys(t).forEach(n=>{null==e[n]&&(e[n]=t[n])})}}}const u_=new d_("void");class p_{constructor(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,__(t,this._hostClassName)}listen(e,t,n,i){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${t}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if("start"!=(r=n)&&"done"!=r)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${t}" is not supported!`);var r;const o=Jy(this._elementListeners,e,[]),s={name:t,phase:n,callback:i};o.push(s);const a=Jy(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(__(e,"ng-trigger"),__(e,"ng-trigger-"+t),a[t]=u_),()=>{this._engine.afterFlush(()=>{const e=o.indexOf(s);e>=0&&o.splice(e,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,n,i=!0){const r=this._getTrigger(t),o=new m_(this.id,t,e);let s=this._engine.statesByElement.get(e);s||(__(e,"ng-trigger"),__(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,s={}));let a=s[t];const c=new d_(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&c.absorbOptions(a.options),s[t]=c,a||(a=u_),"void"!==c.value&&a.value===c.value){if(!function(e,t){const n=Object.keys(e),i=Object.keys(t);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){const i=n[r];if(!t.hasOwnProperty(i)||e[i]!==t[i])return!1}return!0}(a.params,c.params)){const t=[],n=r.matchStyles(a.value,a.params,t),i=r.matchStyles(c.value,c.params,t);t.length?this._engine.reportError(t):this._engine.afterFlush(()=>{_b(e,n),bb(e,i)})}return}const l=Jy(this._engine.playersByElement,e,[]);l.forEach(e=>{e.namespaceId==this.id&&e.triggerName==t&&e.queued&&e.destroy()});let h=r.matchTransition(a.value,c.value,e,c.params),d=!1;if(!h){if(!i)return;h=r.fallbackTransition,d=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:h,fromState:a,toState:c,player:o,isFallbackTransition:d}),d||(__(e,"ng-animate-queued"),o.onStart(()=>{w_(e,"ng-animate-queued")})),o.onDone(()=>{let t=this.players.indexOf(o);t>=0&&this.players.splice(t,1);const n=this._engine.playersByElement.get(e);if(n){let e=n.indexOf(o);e>=0&&n.splice(e,1)}}),this.players.push(o),l.push(o),o}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,n)=>{delete t[e]}),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(t=>t.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(e=>e.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const n=this._engine.driver.query(e,".ng-trigger",!0);n.forEach(e=>{if(e.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(e);n.size?n.forEach(n=>n.triggerLeaveAnimation(e,t,!1,!0)):this.clearElementCache(e)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(e=>this.clearElementCache(e)))}triggerLeaveAnimation(e,t,n,i){const r=this._engine.statesByElement.get(e);if(r){const o=[];if(Object.keys(r).forEach(t=>{if(this._triggers[t]){const n=this.trigger(e,t,"void",i);n&&o.push(n)}}),o.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&Yy(o).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e);if(t){const n=new Set;t.forEach(t=>{const i=t.name;if(n.has(i))return;n.add(i);const r=this._triggers[i].fallbackTransition,o=this._engine.statesByElement.get(e)[i]||u_,s=new d_("void"),a=new m_(this.id,i,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:i,transition:r,fromState:o,toState:s,player:a,isFallbackTransition:!0})})}}removeNode(e,t){const n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(n.totalAnimations){const t=n.players.length?n.playersByQueriedElement.get(e):[];if(t&&t.length)i=!0;else{let t=e;for(;t=t.parentNode;)if(n.statesByElement.get(t)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)n.markElementAsRemoved(this.id,e,!1,t);else{const i=e.__ng_removed;i&&i!==l_||(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,t))}}insertNode(e,t){__(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(n=>{const i=n.player;if(i.destroyed)return;const r=n.element,o=this._elementListeners.get(r);o&&o.forEach(t=>{if(t.name==n.triggerName){const i=Qy(r,n.triggerName,n.fromState.value,n.toState.value);i._data=e,Ky(n.player,t.phase,i,t.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(n)}),this._queue=[],t.sort((e,t)=>{const n=e.transition.ast.depCount,i=t.transition.ast.depCount;return 0==n||0==i?n-i:this._engine.driver.containsElement(e.element,t.element)?1:-1})}destroy(e){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(t=>t.element===e)||t,t}}class f_{constructor(e,t,n){this.bodyNode=e,this.driver=t,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(e,t)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(t=>{t.queued&&e.push(t)})}),e}createNamespace(e,t){const n=new p_(e,t,this);return t.parentNode?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,t){const n=this._namespaceList.length-1;if(n>=0){let i=!1;for(let r=n;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,t)){this._namespaceList.splice(r+1,0,e),i=!0;break}i||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}registerTrigger(e,t,n){let i=this._namespaceLookup[e];i&&i.register(t,n)&&this.totalAnimations++}destroy(e,t){if(!e)return;const n=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[e];const t=this._namespaceList.indexOf(n);t>=0&&this._namespaceList.splice(t,1)}),this.afterFlushAnimationsDone(()=>n.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,n=this.statesByElement.get(e);if(n){const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=n[e[i]].namespaceId;if(r){const e=this._fetchNamespace(r);e&&t.add(e)}}}return t}trigger(e,t,n,i){if(g_(t)){const r=this._fetchNamespace(e);if(r)return r.trigger(t,n,i),!0}return!1}insertNode(e,t,n,i){if(!g_(t))return;const r=t.__ng_removed;if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const e=this.collectedLeaveElements.indexOf(t);e>=0&&this.collectedLeaveElements.splice(e,1)}if(e){const i=this._fetchNamespace(e);i&&i.insertNode(t,n)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),__(e,"ng-animate-disabled")):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),w_(e,"ng-animate-disabled"))}removeNode(e,t,n,i){if(g_(t)){const r=e?this._fetchNamespace(e):null;if(r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),n){const n=this.namespacesByHostElement.get(t);n&&n.id!==e&&n.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,n,i){this.collectedLeaveElements.push(t),t.__ng_removed={namespaceId:e,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}listen(e,t,n,i,r){return g_(t)?this._fetchNamespace(e).listen(t,n,i,r):()=>{}}_buildInstruction(e,t,n,i,r){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,i,e.fromState.options,e.toState.options,t,r)}destroyInnerAnimations(e){let t=this.driver.query(e,".ng-trigger",!0);t.forEach(e=>this.destroyActiveAnimationsForElement(e)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,".ng-animating",!0),t.forEach(e=>this.finishActiveQueriedAnimationOnElement(e)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(e=>{e.queued?e.markedForDestroy=!0:e.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(e=>e.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Yy(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e.__ng_removed;if(t&&t.setForRemoval){if(e.__ng_removed=l_,t.namespaceId){this.destroyInnerAnimations(e);const n=this._fetchNamespace(t.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,".ng-animate-disabled")&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(e=>{this.markElementAsDisabled(e,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((e,t)=>this._balanceNamespaceList(e,t)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)__(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{t=this._flushAnimations(n,e)}finally{for(let e=0;e<n.length;e++)n[e]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(e=>e()),this._flushFns=[],this._whenQuietFns.length){const e=this._whenQuietFns;this._whenQuietFns=[],t.length?Yy(t).onDone(()=>{e.forEach(e=>e())}):e.forEach(e=>e())}}reportError(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+e.join("\n"))}_flushAnimations(e,t){const n=new Vb,i=[],r=new Map,o=[],s=new Map,a=new Map,c=new Map,l=new Set;this.disabledNodes.forEach(e=>{l.add(e);const t=this.driver.query(e,".ng-animate-queued",!0);for(let n=0;n<t.length;n++)l.add(t[n])});const h=this.bodyNode,d=Array.from(this.statesByElement.keys()),u=b_(d,this.collectedEnterElements),p=new Map;let f=0;u.forEach((e,t)=>{const n="ng-enter"+f++;p.set(t,n),e.forEach(e=>__(e,n))});const m=[],g=new Set,v=new Set;for(let R=0;R<this.collectedLeaveElements.length;R++){const e=this.collectedLeaveElements[R],t=e.__ng_removed;t&&t.setForRemoval&&(m.push(e),g.add(e),t.hasAnimation?this.driver.query(e,".ng-star-inserted",!0).forEach(e=>g.add(e)):v.add(e))}const y=new Map,b=b_(d,Array.from(g));b.forEach((e,t)=>{const n="ng-leave"+f++;y.set(t,n),e.forEach(e=>__(e,n))}),e.push(()=>{u.forEach((e,t)=>{const n=p.get(t);e.forEach(e=>w_(e,n))}),b.forEach((e,t)=>{const n=y.get(t);e.forEach(e=>w_(e,n))}),m.forEach(e=>{this.processLeaveNode(e)})});const _=[],w=[];for(let R=this._namespaceList.length-1;R>=0;R--)this._namespaceList[R].drainQueuedTransitions(t).forEach(e=>{const t=e.player,r=e.element;if(_.push(t),this.collectedEnterElements.length){const e=r.__ng_removed;if(e&&e.setForMove)return void t.destroy()}const l=!h||!this.driver.containsElement(h,r),d=y.get(r),u=p.get(r),f=this._buildInstruction(e,n,u,d,l);if(f.errors&&f.errors.length)w.push(f);else{if(l)return t.onStart(()=>_b(r,f.fromStyles)),t.onDestroy(()=>bb(r,f.toStyles)),void i.push(t);if(e.isFallbackTransition)return t.onStart(()=>_b(r,f.fromStyles)),t.onDestroy(()=>bb(r,f.toStyles)),void i.push(t);f.timelines.forEach(e=>e.stretchStartingKeyframe=!0),n.append(r,f.timelines),o.push({instruction:f,player:t,element:r}),f.queriedElements.forEach(e=>Jy(s,e,[]).push(t)),f.preStyleProps.forEach((e,t)=>{const n=Object.keys(e);if(n.length){let e=a.get(t);e||a.set(t,e=new Set),n.forEach(t=>e.add(t))}}),f.postStyleProps.forEach((e,t)=>{const n=Object.keys(e);let i=c.get(t);i||c.set(t,i=new Set),n.forEach(e=>i.add(e))})}});if(w.length){const e=[];w.forEach(t=>{e.push(`@${t.triggerName} has failed due to:\n`),t.errors.forEach(t=>e.push(`- ${t}\n`))}),_.forEach(e=>e.destroy()),this.reportError(e)}const C=new Map,S=new Map;o.forEach(e=>{const t=e.element;n.has(t)&&(S.set(t,t),this._beforeAnimationBuild(e.player.namespaceId,e.instruction,C))}),i.forEach(e=>{const t=e.element;this._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach(e=>{Jy(C,t,[]).push(e),e.destroy()})});const k=m.filter(e=>k_(e,a,c)),x=new Map;y_(x,this.driver,v,c,"*").forEach(e=>{k_(e,a,c)&&k.push(e)});const E=new Map;u.forEach((e,t)=>{y_(E,this.driver,new Set(e),a,"!")}),k.forEach(e=>{const t=x.get(e),n=E.get(e);x.set(e,Object.assign(Object.assign({},t),n))});const O=[],T=[],P={};o.forEach(e=>{const{element:t,player:o,instruction:s}=e;if(n.has(t)){if(l.has(t))return o.onDestroy(()=>bb(t,s.toStyles)),o.disabled=!0,o.overrideTotalTime(s.totalTime),void i.push(o);let e=P;if(S.size>1){let n=t;const i=[];for(;n=n.parentNode;){const t=S.get(n);if(t){e=t;break}i.push(n)}i.forEach(t=>S.set(t,e))}const n=this._buildAnimation(o.namespaceId,s,C,r,E,x);if(o.setRealPlayer(n),e===P)O.push(o);else{const t=this.playersByElement.get(e);t&&t.length&&(o.parentPlayer=Yy(t)),i.push(o)}}else _b(t,s.fromStyles),o.onDestroy(()=>bb(t,s.toStyles)),T.push(o),l.has(t)&&i.push(o)}),T.forEach(e=>{const t=r.get(e.element);if(t&&t.length){const n=Yy(t);e.setRealPlayer(n)}}),i.forEach(e=>{e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()});for(let R=0;R<m.length;R++){const e=m[R],t=e.__ng_removed;if(w_(e,"ng-leave"),t&&t.hasAnimation)continue;let n=[];if(s.size){let t=s.get(e);t&&t.length&&n.push(...t);let i=this.driver.query(e,".ng-animating",!0);for(let e=0;e<i.length;e++){let t=s.get(i[e]);t&&t.length&&n.push(...t)}}const i=n.filter(e=>!e.destroyed);i.length?C_(this,e,i):this.processLeaveNode(e)}return m.length=0,O.forEach(e=>{this.players.push(e),e.onDone(()=>{e.destroy();const t=this.players.indexOf(e);this.players.splice(t,1)}),e.play()}),O}elementContainsData(e,t){let n=!1;const i=t.__ng_removed;return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,n,i,r){let o=[];if(t){const t=this.playersByQueriedElement.get(e);t&&(o=t)}else{const t=this.playersByElement.get(e);if(t){const e=!r||"void"==r;t.forEach(t=>{t.queued||(e||t.triggerName==i)&&o.push(t)})}}return(n||i)&&(o=o.filter(e=>!(n&&n!=e.namespaceId||i&&i!=e.triggerName))),o}_beforeAnimationBuild(e,t,n){const i=t.element,r=t.isRemovalTransition?void 0:e,o=t.isRemovalTransition?void 0:t.triggerName;for(const s of t.timelines){const e=s.element,a=e!==i,c=Jy(n,e,[]);this._getPreviousPlayers(e,a,r,o,t.toState).forEach(e=>{const t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),c.push(e)})}_b(i,t.fromStyles)}_buildAnimation(e,t,n,i,r,o){const s=t.triggerName,a=t.element,c=[],l=new Set,h=new Set,d=t.timelines.map(t=>{const d=t.element;l.add(d);const u=d.__ng_removed;if(u&&u.removedBeforeQueried)return new qy(t.duration,t.delay);const p=d!==a,f=function(e){const t=[];return S_(e,t),t}((n.get(d)||c_).map(e=>e.getRealPlayer())).filter(e=>!!e.element&&e.element===d),m=r.get(d),g=o.get(d),v=Xy(0,this._normalizer,0,t.keyframes,m,g),y=this._buildPlayer(t,v,f);if(t.subTimeline&&i&&h.add(d),p){const t=new m_(e,s,d);t.setRealPlayer(y),c.push(t)}return y});c.forEach(e=>{Jy(this.playersByQueriedElement,e.element,[]).push(e),e.onDone(()=>function(e,t,n){let i;if(e instanceof Map){if(i=e.get(t),i){if(i.length){const e=i.indexOf(n);i.splice(e,1)}0==i.length&&e.delete(t)}}else if(i=e[t],i){if(i.length){const e=i.indexOf(n);i.splice(e,1)}0==i.length&&delete e[t]}return i}(this.playersByQueriedElement,e.element,e))}),l.forEach(e=>__(e,"ng-animating"));const u=Yy(d);return u.onDestroy(()=>{l.forEach(e=>w_(e,"ng-animating")),bb(a,t.toStyles)}),h.forEach(e=>{Jy(i,e,[]).push(u)}),u}_buildPlayer(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new qy(e.duration,e.delay)}}class m_{constructor(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n,this._player=new qy,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(n=>Ky(e,t,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Jy(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function g_(e){return e&&1===e.nodeType}function v_(e,t){const n=e.style.display;return e.style.display=null!=t?t:"none",n}function y_(e,t,n,i,r){const o=[];n.forEach(e=>o.push(v_(e)));const s=[];i.forEach((n,i)=>{const o={};n.forEach(e=>{const n=o[e]=t.computeStyle(i,e,r);n&&0!=n.length||(i.__ng_removed=h_,s.push(i))}),e.set(i,o)});let a=0;return n.forEach(e=>v_(e,o[a++])),s}function b_(e,t){const n=new Map;if(e.forEach(e=>n.set(e,[])),0==t.length)return n;const i=new Set(t),r=new Map;function o(e){if(!e)return 1;let t=r.get(e);if(t)return t;const s=e.parentNode;return t=n.has(s)?s:i.has(s)?1:o(s),r.set(e,t),t}return t.forEach(e=>{const t=o(e);1!==t&&n.get(t).push(e)}),n}function __(e,t){if(e.classList)e.classList.add(t);else{let n=e.$$classes;n||(n=e.$$classes={}),n[t]=!0}}function w_(e,t){if(e.classList)e.classList.remove(t);else{let n=e.$$classes;n&&delete n[t]}}function C_(e,t,n){Yy(n).onDone(()=>e.processLeaveNode(t))}function S_(e,t){for(let n=0;n<e.length;n++){const i=e[n];i instanceof $y?S_(i.players,t):t.push(i)}}function k_(e,t,n){const i=n.get(e);if(!i)return!1;let r=t.get(e);return r?i.forEach(e=>r.add(e)):t.set(e,i),n.delete(e),!0}class x_{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._triggerCache={},this.onRemovalComplete=(e,t)=>{},this._transitionEngine=new f_(e,t,n),this._timelineEngine=new a_(e,t,n),this._transitionEngine.onRemovalComplete=(e,t)=>this.onRemovalComplete(e,t)}registerTrigger(e,t,n,i,r){const o=e+"-"+i;let s=this._triggerCache[o];if(!s){const e=[],t=Mb(this._driver,r,e);if(e.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${e.join("\n - ")}`);s=function(e,t){return new r_(e,t)}(i,t),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(t,i,s)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,n,i){this._transitionEngine.insertNode(e,t,n,i)}onRemove(e,t,n,i){this._transitionEngine.removeNode(e,t,i||!1,n)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,n,i){if("@"==n.charAt(0)){const[e,r]=eb(n);this._timelineEngine.command(e,t,r,i)}else this._transitionEngine.trigger(e,t,n,i)}listen(e,t,n,i,r){if("@"==n.charAt(0)){const[e,i]=eb(n);return this._timelineEngine.listen(e,t,i,r)}return this._transitionEngine.listen(e,t,n,i,r)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let E_=(()=>{class e extends Ny{constructor(e,t){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(t.body,{id:"0",encapsulation:ze.None,styles:[],data:{animation:[]}})}build(e){const t=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(e)?jy(e):e;return P_(this._renderer,null,t,"register",[n]),new O_(t,this._renderer)}}return e.\u0275fac=function(t){return new(t||e)(yt(Us),yt(ol))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();class O_ extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new T_(this._id,e,t||{},this._renderer)}}class T_{constructor(e,t,n,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return P_(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(e){this._command("setPosition",e)}getPosition(){return 0}}function P_(e,t,n,i,r){return e.setProperty(t,`@@${n}:${i}`,r)}let R_=(()=>{class e{constructor(e,t,n){this.delegate=e,this.engine=t,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),t.onRemovalComplete=(e,t)=>{t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}createRenderer(e,t){const n=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){let e=this._rendererCache.get(n);return e||(e=new I_("",n,this.engine),this._rendererCache.set(n,e)),e}const i=t.id,r=t.id+"-"+this._currentId;this._currentId++,this.engine.register(r,e);const o=t=>{Array.isArray(t)?t.forEach(o):this.engine.registerTrigger(i,r,e,t.name,t)};return t.data.animation.forEach(o),new A_(this,r,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,n){e>=0&&e<this._microtaskId?this._zone.run(()=>t(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(e=>{const[t,n]=e;t(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([t,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return e.\u0275fac=function(t){return new(t||e)(yt(Us),yt(x_),yt(Tc))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();class I_{constructor(e,t,n){this.namespaceId=e,this.delegate=t,this.engine=n,this.destroyNode=this.delegate.destroyNode?e=>t.destroyNode(e):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,n,i=!0){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,i){this.delegate.setAttribute(e,t,n,i)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,i){this.delegate.setStyle(e,t,n,i)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){"@"==t.charAt(0)&&"@.disabled"==t?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n){return this.delegate.listen(e,t,n)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class A_ extends I_{constructor(e,t,n,i){super(t,n,i),this.factory=e,this.namespaceId=t}setProperty(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&"@.disabled"==t?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}listen(e,t,n){if("@"==t.charAt(0)){const i=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e);let r=t.substr(1),o="";return"@"!=r.charAt(0)&&([r,o]=function(e){const t=e.indexOf(".");return[e.substring(0,t),e.substr(t+1)]}(r)),this.engine.listen(this.namespaceId,i,r,o,e=>{this.factory.scheduleListenerCallback(e._data||-1,n,e)})}return this.delegate.listen(e,t,n)}}let D_=(()=>{class e extends x_{constructor(e,t,n){super(e.body,t,n)}}return e.\u0275fac=function(t){return new(t||e)(yt(ol),yt(db),yt(Zb))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const M_=new be("AnimationModuleType"),N_=[{provide:db,useClass:hb},{provide:M_,useValue:"NoopAnimations"},{provide:Ny,useClass:E_},{provide:Zb,useFactory:function(){return new Qb}},{provide:x_,useClass:D_},{provide:Us,useFactory:function(e,t,n){return new R_(e,t,n)},deps:[th,x_,Tc]}];let F_,L_=(()=>{class e{}return e.\u0275mod=tt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)},providers:N_,imports:[ph]}),e})();try{F_="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(sK){F_=!1}let j_,B_=(()=>{class e{constructor(e){this._platformId=e,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!F_)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return e.\u0275fac=function(t){return new(t||e)(yt(pc))},e.\u0275prov=he({factory:function(){return new e(yt(pc))},token:e,providedIn:"root"}),e})(),z_=(()=>{class e{}return e.\u0275mod=tt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)}}),e})();const V_=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function H_(){if(j_)return j_;if("object"!=typeof document||!document)return j_=new Set(V_),j_;let e=document.createElement("input");return j_=new Set(V_.filter(t=>(e.setAttribute("type",t),e.type===t))),j_}let U_,W_;function q_(e){return function(){if(null==U_&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>U_=!0}))}finally{U_=U_||!1}return U_}()?e:!!e.capture}function $_(e,...t){return t.length?t.some(t=>e[t]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}class G_ extends d{constructor(e,t){super()}schedule(e,t=0){return this}}class Y_ extends G_{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n=!1,i=void 0;try{this.work(e)}catch(r){n=!0,i=!!r&&r||new Error(r)}if(n)return this.unsubscribe(),i}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}let X_=(()=>{class e{constructor(t,n=e.now){this.SchedulerAction=t,this.now=n}schedule(e,t=0,n){return new this.SchedulerAction(this,e).schedule(n,t)}}return e.now=()=>Date.now(),e})();class K_ extends X_{constructor(e,t=X_.now){super(e,()=>K_.delegate&&K_.delegate!==this?K_.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return K_.delegate&&K_.delegate!==this?K_.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}const Z_=new K_(Y_);function Q_(e,t=Z_){return n=>n.lift(new J_(e,t))}class J_{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new ew(e,this.dueTime,this.scheduler))}}class ew extends f{constructor(e,t,n){super(e),this.dueTime=t,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(tw,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function tw(e){e.debouncedNext()}function nw(e){return null!=e&&""+e!="false"}function iw(e,t=0){return function(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}(e)?Number(e):t}function rw(e){return Array.isArray(e)?e:[e]}function ow(e){return null==e?"":"string"==typeof e?e:e+"px"}function sw(e){return e instanceof Hs?e.nativeElement:e}let aw=(()=>{class e{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({factory:function(){return new e},token:e,providedIn:"root"}),e})(),cw=(()=>{class e{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,t)=>this._cleanupObserver(t))}observe(e){const t=sw(e);return new y(e=>{const n=this._observeElement(t).subscribe(e);return()=>{n.unsubscribe(),this._unobserveElement(t)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const t=new S,n=this._mutationObserverFactory.create(e=>t.next(e));n&&n.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:n,stream:t,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:t,stream:n}=this._observedElements.get(e);t&&t.disconnect(),n.complete(),this._observedElements.delete(e)}}}return e.\u0275fac=function(t){return new(t||e)(yt(aw))},e.\u0275prov=he({factory:function(){return new e(yt(aw))},token:e,providedIn:"root"}),e})(),lw=(()=>{class e{constructor(e,t,n){this._contentObserver=e,this._elementRef=t,this._ngZone=n,this.event=new ja,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=nw(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=iw(e),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(Q_(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription&&this._currentSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(Io(cw),Io(Hs),Io(Tc))},e.\u0275dir=it({type:e,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),e})(),hw=(()=>{class e{}return e.\u0275mod=tt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)},providers:[aw]}),e})();class dw extends class{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new S,this._typeaheadSubscription=d.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new S,this.change=new S,e instanceof za&&e.changes.subscribe(e=>{if(this._activeItem){const t=e.toArray().indexOf(this._activeItem);t>-1&&t!==this._activeItemIndex&&(this._activeItemIndex=t)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(id(e=>this._pressedLetters.push(e)),Q_(e),Oh(()=>this._pressedLetters.length>0),E(()=>this._pressedLetters.join(""))).subscribe(e=>{const t=this._getItemsArray();for(let n=1;n<t.length+1;n++){const i=(this._activeItemIndex+n)%t.length,r=t[i];if(!this._skipPredicateFn(r)&&0===r.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(i);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(t=>!e[t]||this._allowedModifierKeys.indexOf(t)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&n){this.setNextItemActive();break}return;case 38:if(this._vertical&&n){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&n){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&n){this.setLastItemActive();break}return;default:return void((n||$_(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),n="number"==typeof e?e:t.indexOf(e),i=t[n];this._activeItem=null==i?null:i,this._activeItemIndex=n}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let n=1;n<=t.length;n++){const i=(this._activeItemIndex+e*n+t.length)%t.length;if(!this._skipPredicateFn(t[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const n=this._getItemsArray();if(n[e]){for(;this._skipPredicateFn(n[e]);)if(!n[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof za?this._items.toArray():this._items}}{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}"undefined"!=typeof Element&&Element;const uw=new be("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),pw=new be("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let fw=(()=>{class e{constructor(e,t,n,i){this._ngZone=t,this._defaultOptions=i,this._document=n,this._liveElement=e||this._createLiveElement()}announce(e,...t){const n=this._defaultOptions;let i,r;return 1===t.length&&"number"==typeof t[0]?r=t[0]:[i,r]=t,this.clear(),clearTimeout(this._previousTimeout),i||(i=n&&n.politeness?n.politeness:"polite"),null==r&&n&&(r=n.duration),this._liveElement.setAttribute("aria-live",i),this._ngZone.runOutsideAngular(()=>new Promise(t=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,t(),"number"==typeof r&&(this._previousTimeout=setTimeout(()=>this.clear(),r))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const e=this._document.getElementsByClassName("cdk-live-announcer-element"),t=this._document.createElement("div");for(let n=0;n<e.length;n++)e[n].parentNode.removeChild(e[n]);return t.classList.add("cdk-live-announcer-element"),t.classList.add("cdk-visually-hidden"),t.setAttribute("aria-atomic","true"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),t}}return e.\u0275fac=function(t){return new(t||e)(yt(uw,8),yt(Tc),yt(ol),yt(pw,8))},e.\u0275prov=he({factory:function(){return new e(yt(uw,8),yt(Tc),yt(ol),yt(pw,8))},token:e,providedIn:"root"}),e})();function mw(e){return 0===e.buttons}const gw=new be("cdk-focus-monitor-default-options"),vw=q_({passive:!0,capture:!0});let yw=(()=>{class e{constructor(e,t,n,i){this._ngZone=e,this._platform=t,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=e=>{if(!this._lastTouchTarget){const t=mw(e)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(t)}},this._documentTouchstartListener=e=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=bw(e),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650)},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=e=>{const t=bw(e),n="focus"===e.type?this._onFocus:this._onBlur;for(let i=t;i;i=i.parentElement)n.call(this,e,i)},this._document=n,this._detectionMode=(null==i?void 0:i.detectionMode)||0}monitor(e,t=!1){const n=sw(e);if(!this._platform.isBrowser||1!==n.nodeType)return fh(null);const i=function(e){if(function(){if(null==W_){const e="undefined"!=typeof document?document.head:null;W_=!(!e||!e.createShadowRoot&&!e.attachShadow)}return W_}()){const t=e.getRootNode?e.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(n)||this._getDocument(),r=this._elementInfo.get(n);if(r)return t&&(r.checkChildren=!0),r.subject;const o={checkChildren:t,subject:new S,rootNode:i};return this._elementInfo.set(n,o),this._registerGlobalListeners(o),o.subject}stopMonitoring(e){const t=sw(e),n=this._elementInfo.get(t);n&&(n.subject.complete(),this._setClasses(t),this._elementInfo.delete(t),this._removeGlobalListeners(n))}focusVia(e,t,n){const i=sw(e);i===this._getDocument().activeElement&&this._elementInfo.has(i)?this._originChanged(i,t,this._elementInfo.get(i)):(this._setOriginForCurrentEventQueue(t),"function"==typeof i.focus&&i.focus(n))}ngOnDestroy(){this._elementInfo.forEach((e,t)=>this.stopMonitoring(t))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(e,t,n){n?e.classList.add(t):e.classList.remove(t)}_getFocusOrigin(e){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(e)?"touch":"program"}_setClasses(e,t){this._toggleClass(e,"cdk-focused",!!t),this._toggleClass(e,"cdk-touch-focused","touch"===t),this._toggleClass(e,"cdk-keyboard-focused","keyboard"===t),this._toggleClass(e,"cdk-mouse-focused","mouse"===t),this._toggleClass(e,"cdk-program-focused","program"===t)}_setOriginForCurrentEventQueue(e){this._ngZone.runOutsideAngular(()=>{this._origin=e,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(e){const t=bw(e);return this._lastTouchTarget instanceof Node&&t instanceof Node&&(t===this._lastTouchTarget||t.contains(this._lastTouchTarget))}_onFocus(e,t){const n=this._elementInfo.get(t);n&&(n.checkChildren||t===bw(e))&&this._originChanged(t,this._getFocusOrigin(e),n)}_onBlur(e,t){const n=this._elementInfo.get(t);!n||n.checkChildren&&e.relatedTarget instanceof Node&&t.contains(e.relatedTarget)||(this._setClasses(t),this._emitOrigin(n.subject,null))}_emitOrigin(e,t){this._ngZone.run(()=>e.next(t))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const t=e.rootNode,n=this._rootNodeFocusListenerCount.get(t)||0;n||this._ngZone.runOutsideAngular(()=>{t.addEventListener("focus",this._rootNodeFocusAndBlurListener,vw),t.addEventListener("blur",this._rootNodeFocusAndBlurListener,vw)}),this._rootNodeFocusListenerCount.set(t,n+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const e=this._getDocument(),t=this._getWindow();e.addEventListener("keydown",this._documentKeydownListener,vw),e.addEventListener("mousedown",this._documentMousedownListener,vw),e.addEventListener("touchstart",this._documentTouchstartListener,vw),t.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(e){const t=e.rootNode;if(this._rootNodeFocusListenerCount.has(t)){const e=this._rootNodeFocusListenerCount.get(t);e>1?this._rootNodeFocusListenerCount.set(t,e-1):(t.removeEventListener("focus",this._rootNodeFocusAndBlurListener,vw),t.removeEventListener("blur",this._rootNodeFocusAndBlurListener,vw),this._rootNodeFocusListenerCount.delete(t))}if(!--this._monitoredElementCount){const e=this._getDocument(),t=this._getWindow();e.removeEventListener("keydown",this._documentKeydownListener,vw),e.removeEventListener("mousedown",this._documentMousedownListener,vw),e.removeEventListener("touchstart",this._documentTouchstartListener,vw),t.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}_originChanged(e,t,n){this._setClasses(e,t),this._emitOrigin(n.subject,t),this._lastFocusOrigin=t}}return e.\u0275fac=function(t){return new(t||e)(yt(Tc),yt(B_),yt(ol,8),yt(gw,8))},e.\u0275prov=he({factory:function(){return new e(yt(Tc),yt(B_),yt(ol,8),yt(gw,8))},token:e,providedIn:"root"}),e})();function bw(e){return e.composedPath?e.composedPath()[0]:e.target}let _w=(()=>{class e{constructor(e,t){this._platform=e,this._document=t}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const t=this._document.defaultView||window,n=t&&t.getComputedStyle?t.getComputedStyle(e):null,i=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(e),i){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove("cdk-high-contrast-active"),e.remove("cdk-high-contrast-black-on-white"),e.remove("cdk-high-contrast-white-on-black");const t=this.getHighContrastMode();1===t?(e.add("cdk-high-contrast-active"),e.add("cdk-high-contrast-black-on-white")):2===t&&(e.add("cdk-high-contrast-active"),e.add("cdk-high-contrast-white-on-black"))}}}return e.\u0275fac=function(t){return new(t||e)(yt(B_),yt(ol))},e.\u0275prov=he({factory:function(){return new e(yt(B_),yt(ol))},token:e,providedIn:"root"}),e})();const ww=new be("cdk-dir-doc",{providedIn:"root",factory:function(){return bt(ol)}});let Cw=(()=>{class e{constructor(e){if(this.value="ltr",this.change=new ja,e){const t=e.documentElement?e.documentElement.dir:null,n=(e.body?e.body.dir:null)||t;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return e.\u0275fac=function(t){return new(t||e)(yt(ww,8))},e.\u0275prov=he({factory:function(){return new e(yt(ww,8))},token:e,providedIn:"root"}),e})(),Sw=(()=>{class e{}return e.\u0275mod=tt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)}}),e})();const kw=new Gs("11.0.1");function xw(e,t){if(1&e&&Lo(0,"mat-pseudo-checkbox",3),2&e){const e=$o();Do("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}const Ew=["*"],Ow=new Gs("11.0.1"),Tw=new be("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Pw,Rw=(()=>{class e{constructor(e,t,n){this._hasDoneGlobalChecks=!1,this._document=n,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=t,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const e=this._document.defaultView||window;return"object"==typeof e&&e?e:null}_checksAreEnabled(){return _n()&&!this._isTestEnv()}_isTestEnv(){const e=this._getWindow();return e&&(e.__karma__||e.jasmine)}_checkDoctypeIsDefined(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme||!this._document.body||"function"!=typeof getComputedStyle)return;const e=this._document.createElement("div");e.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(e);const t=getComputedStyle(e);t&&"none"!==t.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(e)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&Ow.full!==kw.full&&console.warn("The Angular Material version ("+Ow.full+") does not match the Angular CDK version ("+kw.full+").\nPlease ensure the versions of these two packages exactly match.")}}return e.\u0275mod=tt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)(yt(_w),yt(Tw,8),yt(ol))},imports:[[Sw],Sw]}),e})();function Iw(e){return class extends e{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=nw(e)}}}function Aw(e,t){return class extends e{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const t=e||this.defaultColor;t!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-"+this._color),t&&this._elementRef.nativeElement.classList.add("mat-"+t),this._color=t)}}}function Dw(e){return class extends e{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=nw(e)}}}function Mw(e,t=0){return class extends e{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?iw(e):this.defaultTabIndex}}}function Nw(e){return class extends e{constructor(...e){super(...e),this.errorState=!1,this.stateChanges=new S}updateErrorState(){const e=this.errorState,t=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);t!==e&&(this.errorState=t,this.stateChanges.next())}}}try{Pw="undefined"!=typeof Intl}catch(sK){Pw=!1}let Fw=(()=>{class e{isErrorState(e,t){return!!(e&&e.invalid&&(e.touched||t&&t.submitted))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({factory:function(){return new e},token:e,providedIn:"root"}),e})();class Lw{constructor(e,t,n){this._renderer=e,this.element=t,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const jw={enterDuration:450,exitDuration:400},Bw=q_({passive:!0}),zw=["mousedown","touchstart"],Vw=["mouseup","mouseleave","touchend","touchcancel"];class Hw{constructor(e,t,n,i){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=sw(n))}fadeInRipple(e,t,n={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),r=Object.assign(Object.assign({},jw),n.animation);n.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const o=n.radius||function(e,t,n){const i=Math.max(Math.abs(e-n.left),Math.abs(e-n.right)),r=Math.max(Math.abs(t-n.top),Math.abs(t-n.bottom));return Math.sqrt(i*i+r*r)}(e,t,i),s=e-i.left,a=t-i.top,c=r.enterDuration,l=document.createElement("div");l.classList.add("mat-ripple-element"),l.style.left=s-o+"px",l.style.top=a-o+"px",l.style.height=2*o+"px",l.style.width=2*o+"px",null!=n.color&&(l.style.backgroundColor=n.color),l.style.transitionDuration=c+"ms",this._containerElement.appendChild(l),window.getComputedStyle(l).getPropertyValue("opacity"),l.style.transform="scale(1)";const h=new Lw(this,l,n);return h.state=0,this._activeRipples.add(h),n.persistent||(this._mostRecentTransientRipple=h),this._runTimeoutOutsideZone(()=>{const e=h===this._mostRecentTransientRipple;h.state=1,n.persistent||e&&this._isPointerDown||h.fadeOut()},c),h}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const n=e.element,i=Object.assign(Object.assign({},jw),e.config.animation);n.style.transitionDuration=i.exitDuration+"ms",n.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,n.parentNode.removeChild(n)},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}setupTriggerEvents(e){const t=sw(e);t&&t!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(zw))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Vw),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=mw(e),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||t||n||(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let e=0;e<t.length;e++)this.fadeInRipple(t[e].clientX,t[e].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(e=>{this._triggerElement.addEventListener(e,this,Bw)})})}_removeTriggerEvents(){this._triggerElement&&(zw.forEach(e=>{this._triggerElement.removeEventListener(e,this,Bw)}),this._pointerUpEventsRegistered&&Vw.forEach(e=>{this._triggerElement.removeEventListener(e,this,Bw)}))}}const Uw=new be("mat-ripple-global-options");let Ww=(()=>{class e{constructor(e,t,n,i,r){this._elementRef=e,this._animationMode=r,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=i||{},this._rippleRenderer=new Hw(this,t,e,n)}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,t=0,n){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,t,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return e.\u0275fac=function(t){return new(t||e)(Io(Hs),Io(Tc),Io(B_),Io(Uw,8),Io(M_,8))},e.\u0275dir=it({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,t){2&e&&ss("mat-ripple-unbounded",t.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),e})(),qw=(()=>{class e{}return e.\u0275mod=tt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)},imports:[[Rw,z_],Rw]}),e})(),$w=(()=>{class e{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return e.\u0275fac=function(t){return new(t||e)(Io(M_,8))},e.\u0275cmp=Ze({type:e,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,t){2&e&&ss("mat-pseudo-checkbox-indeterminate","indeterminate"===t.state)("mat-pseudo-checkbox-checked","checked"===t.state)("mat-pseudo-checkbox-disabled",t.disabled)("_mat-animation-noopable","NoopAnimations"===t._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,t){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),e})(),Gw=(()=>{class e{}return e.\u0275mod=tt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)},imports:[[Rw]]}),e})();class Yw{}const Xw=Iw(Yw);let Kw=0,Zw=(()=>{class e extends Xw{constructor(){super(...arguments),this._labelId="mat-optgroup-label-"+Kw++}}return e.\u0275fac=function(t){return Qw(t||e)},e.\u0275dir=it({type:e,inputs:{label:"label"},features:[yo]}),e})();const Qw=di(Zw),Jw=new be("MatOptgroup");let eC=0;class tC{constructor(e,t=!1){this.source=e,this.isUserInput=t}}const nC=new be("MAT_OPTION_PARENT_COMPONENT");let iC=(()=>{class e{constructor(e,t,n,i){this._element=e,this._changeDetectorRef=t,this._parent=n,this.group=i,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+eC++,this.onSelectionChange=new ja,this._stateChanges=new S}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=nw(e)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,t){const n=this._getHostElement();"function"==typeof n.focus&&n.focus(t)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){13!==e.keyCode&&32!==e.keyCode||$_(e)||(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new tC(this,e))}}return e.\u0275fac=function(t){return new(t||e)(Io(Hs),Io(da),Io(void 0),Io(Zw))},e.\u0275dir=it({type:e,inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"}}),e})(),rC=(()=>{class e extends iC{constructor(e,t,n,i){super(e,t,n,i)}}return e.\u0275fac=function(t){return new(t||e)(Io(Hs),Io(da),Io(nC,8),Io(Jw,8))},e.\u0275cmp=Ze({type:e,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,t){1&e&&Uo("click",function(){return t._selectViaInteraction()})("keydown",function(e){return t._handleKeydown(e)}),2&e&&(_s("id",t.id),To("tabindex",t._getTabIndex())("aria-selected",t._getAriaSelected())("aria-disabled",t.disabled.toString()),ss("mat-selected",t.selected)("mat-option-multiple",t.multiple)("mat-active",t.active)("mat-option-disabled",t.disabled))},exportAs:["matOption"],features:[yo],ngContentSelectors:Ew,decls:4,vars:3,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"]],template:function(e,t){1&e&&(Yo(),Ro(0,xw,1,2,"mat-pseudo-checkbox",0),No(1,"span",1),Xo(2),Fo(),Lo(3,"div",2)),2&e&&(Do("ngIf",t.multiple),or(3),Do("matRippleTrigger",t._getHostElement())("matRippleDisabled",t.disabled||t.disableRipple))},directives:[Tl,Ww,$w],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.cdk-high-contrast-active .mat-option .mat-option-ripple{opacity:.5}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),e})();function oC(e,t,n){if(n.length){let i=t.toArray(),r=n.toArray(),o=0;for(let t=0;t<e+1;t++)i[t].group&&i[t].group===r[o]&&o++;return o}return 0}let sC=(()=>{class e{}return e.\u0275mod=tt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)},imports:[[qw,Fl,Rw,Gw]]}),e})();const aC=["*",[["mat-card-footer"]]],cC=["*","mat-card-footer"],lC=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],hC=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let dC=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=it({type:e,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),e})(),uC=(()=>{class e{constructor(){this.align="start"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=it({type:e,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(e,t){2&e&&ss("mat-card-actions-align-end","end"===t.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),e})(),pC=(()=>{class e{constructor(e){this._animationMode=e}}return e.\u0275fac=function(t){return new(t||e)(Io(M_,8))},e.\u0275cmp=Ze({type:e,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,t){2&e&&ss("_mat-animation-noopable","NoopAnimations"===t._animationMode)},exportAs:["matCard"],ngContentSelectors:cC,decls:2,vars:0,template:function(e,t){1&e&&(Yo(aC),Xo(0),Xo(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions .mat-button:first-child,.mat-card-actions .mat-raised-button:first-child,.mat-card-actions .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),e})(),fC=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Ze({type:e,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:hC,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(e,t){1&e&&(Yo(lC),Xo(0),No(1,"div",0),Xo(2,1),Fo(),Xo(3,2))},encapsulation:2,changeDetection:0}),e})(),mC=(()=>{class e{}return e.\u0275mod=tt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)},imports:[[Rw],Rw]}),e})();function gC(e,t){return new y(n=>{const i=e.length;if(0===i)return void n.complete();const r=new Array(i);let o=0,s=0;for(let a=0;a<i;a++){const c=F(e[a]);let l=!1;n.add(c.subscribe({next:e=>{l||(l=!0,s++),r[a]=e},error:e=>n.error(e),complete:()=>{o++,o!==i&&l||(s===i&&n.next(t?t.reduce((e,t,n)=>(e[t]=r[n],e),{}):r),n.complete())}}))}})}const vC=new be("NgValueAccessor"),yC={provide:vC,useExisting:Te(()=>bC),multi:!0};let bC=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(Io(Ws),Io(Hs))},e.\u0275dir=it({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,t){1&e&&Uo("change",function(e){return t.onChange(e.target.checked)})("blur",function(){return t.onTouched()})},features:[Ns([yC])]}),e})();const _C={provide:vC,useExisting:Te(()=>CC),multi:!0},wC=new be("CompositionEventMode");let CC=(()=>{class e{constructor(e,t,n){this._renderer=e,this._elementRef=t,this._compositionMode=n,this.onChange=e=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=rl()?rl().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return e.\u0275fac=function(t){return new(t||e)(Io(Ws),Io(Hs),Io(wC,8))},e.\u0275dir=it({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&Uo("input",function(e){return t._handleInput(e.target.value)})("blur",function(){return t.onTouched()})("compositionstart",function(){return t._compositionStart()})("compositionend",function(e){return t._compositionEnd(e.target.value)})},features:[Ns([_C])]}),e})();function SC(e){return null==e||0===e.length}function kC(e){return null!=e&&"number"==typeof e.length}const xC=new be("NgValidators"),EC=new be("NgAsyncValidators"),OC=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class TC{static min(e){return t=>{if(SC(t.value)||SC(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}static max(e){return t=>{if(SC(t.value)||SC(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}static required(e){return SC(e.value)?{required:!0}:null}static requiredTrue(e){return!0===e.value?null:{required:!0}}static email(e){return SC(e.value)||OC.test(e.value)?null:{email:!0}}static minLength(e){return t=>SC(t.value)||!kC(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}static maxLength(e){return t=>kC(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}static pattern(e){if(!e)return TC.nullValidator;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),e=>{if(SC(e.value))return null;const i=e.value;return t.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}static nullValidator(e){return null}static compose(e){if(!e)return null;const t=e.filter(PC);return 0==t.length?null:function(e){return IC(AC(e,t))}}static composeAsync(e){if(!e)return null;const t=e.filter(PC);return 0==t.length?null:function(e){return function(...e){if(1===e.length){const t=e[0];if(c(t))return gC(t,null);if(l(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return gC(e.map(e=>t[e]),e)}}if("function"==typeof e[e.length-1]){const t=e.pop();return gC(e=1===e.length&&c(e[0])?e[0]:e,null).pipe(E(e=>t(...e)))}return gC(e,null)}(AC(e,t).map(RC)).pipe(E(IC))}}}function PC(e){return null!=e}function RC(e){const t=Vo(e)?F(e):e;return Ho(t),t}function IC(e){let t={};return e.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function AC(e,t){return t.map(t=>t(e))}function DC(e){return e.map(e=>function(e){return!e.validate}(e)?e:t=>e.validate(t))}function MC(e){return null!=e?TC.compose(DC(e)):null}function NC(e){return null!=e?TC.composeAsync(DC(e)):null}function FC(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function LC(e){return e._rawValidators}function jC(e){return e._rawAsyncValidators}let BC=(()=>{class e{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=MC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=NC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=it({type:e}),e})(),zC=(()=>{class e extends BC{get formDirective(){return null}get path(){return null}}return e.\u0275fac=function(t){return VC(t||e)},e.\u0275dir=it({type:e,features:[yo]}),e})();const VC=di(zC);class HC extends BC{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let UC=(()=>{class e extends class{constructor(e){this._cd=e}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(Io(HC,2))},e.\u0275dir=it({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&ss("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[yo]}),e})();const WC={provide:vC,useExisting:Te(()=>qC),multi:!0};let qC=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(Io(Ws),Io(Hs))},e.\u0275dir=it({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&Uo("input",function(e){return t.onChange(e.target.value)})("blur",function(){return t.onTouched()})},features:[Ns([WC])]}),e})();const $C={provide:vC,useExisting:Te(()=>YC),multi:!0};let GC=(()=>{class e{constructor(){this._accessors=[]}add(e,t){this._accessors.push([e,t])}remove(e){for(let t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}select(e){this._accessors.forEach(t=>{this._isSameGroup(t,e)&&t[1]!==e&&t[1].fireUncheck(e.value)})}_isSameGroup(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),YC=(()=>{class e{constructor(e,t,n,i){this._renderer=e,this._elementRef=t,this._registry=n,this._injector=i,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(HC),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}fireUncheck(e){this.writeValue(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return e.\u0275fac=function(t){return new(t||e)(Io(Ws),Io(Hs),Io(GC),Io(go))},e.\u0275dir=it({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,t){1&e&&Uo("change",function(){return t.onChange()})("blur",function(){return t.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Ns([$C])]}),e})();const XC={provide:vC,useExisting:Te(()=>KC),multi:!0};let KC=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(Io(Ws),Io(Hs))},e.\u0275dir=it({type:e,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(e,t){1&e&&Uo("change",function(e){return t.onChange(e.target.value)})("input",function(e){return t.onChange(e.target.value)})("blur",function(){return t.onTouched()})},features:[Ns([XC])]}),e})();const ZC={provide:vC,useExisting:Te(()=>QC),multi:!0};let QC=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(e,t){return null==e?""+t:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(e){this.onChange=t=>{this.value=this._getOptionValue(t),e(this.value)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t),e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}}return e.\u0275fac=function(t){return new(t||e)(Io(Ws),Io(Hs))},e.\u0275dir=it({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,t){1&e&&Uo("change",function(e){return t.onChange(e.target.value)})("blur",function(){return t.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ns([ZC])]}),e})();const JC={provide:vC,useExisting:Te(()=>eS),multi:!0};let eS=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let t;if(this.value=e,Array.isArray(e)){const n=e.map(e=>this._getOptionId(e));t=(e,t)=>{e._setSelected(n.indexOf(t.toString())>-1)}}else t=(e,t)=>{e._setSelected(!1)};this._optionMap.forEach(t)}registerOnChange(e){this.onChange=t=>{const n=[];if(void 0!==t.selectedOptions){const e=t.selectedOptions;for(let t=0;t<e.length;t++){const i=e.item(t),r=this._getOptionValue(i.value);n.push(r)}}else{const e=t.options;for(let t=0;t<e.length;t++){const i=e.item(t);if(i.selected){const e=this._getOptionValue(i.value);n.push(e)}}}this.value=n,e(n)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(e){const t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t)._value,e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}}return e.\u0275fac=function(t){return new(t||e)(Io(Ws),Io(Hs))},e.\u0275dir=it({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,t){1&e&&Uo("change",function(e){return t.onChange(e.target)})("blur",function(){return t.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ns([JC])]}),e})();function tS(e,t){iS(e,t,!0),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&oS(e,t)})}(e,t),function(e,t){const n=(e,n)=>{t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&oS(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function(e,t){if(t.valueAccessor.setDisabledState){const n=e=>{t.valueAccessor.setDisabledState(e)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function nS(e,t){e.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function iS(e,t,n){const i=LC(e);null!==t.validator?e.setValidators(FC(i,t.validator)):"function"==typeof i&&e.setValidators([i]);const r=jC(e);if(null!==t.asyncValidator?e.setAsyncValidators(FC(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]),n){const n=()=>e.updateValueAndValidity();nS(t._rawValidators,n),nS(t._rawAsyncValidators,n)}}function rS(e,t,n){if(null!==e){if(null!==t.validator){const n=LC(e);Array.isArray(n)&&n.length>0&&e.setValidators(n.filter(e=>e!==t.validator))}if(null!==t.asyncValidator){const n=jC(e);Array.isArray(n)&&n.length>0&&e.setAsyncValidators(n.filter(e=>e!==t.asyncValidator))}}if(n){const e=()=>{};nS(t._rawValidators,e),nS(t._rawAsyncValidators,e)}}function oS(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function sS(e,t){iS(e,t,!1)}const aS=[bC,KC,qC,QC,eS,YC];function cS(e,t){e._syncPendingControls(),t.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function lS(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function hS(e){return(fS(e)?e.validators:e)||null}function dS(e){return Array.isArray(e)?MC(e):e||null}function uS(e,t){return(fS(t)?t.asyncValidators:e)||null}function pS(e){return Array.isArray(e)?NC(e):e||null}function fS(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class mS{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=dS(this._rawValidators),this._composedAsyncValidatorFn=pS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=dS(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=pS(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(t=>{t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild(t=>{t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status="PENDING",this._hasOwnPendingAsyncValidator=!0;const t=RC(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(t,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;let i=e;return t.forEach(e=>{i=i instanceof vS?i.controls.hasOwnProperty(e)?i.controls[e]:null:i instanceof yS&&i.at(e)||null}),i}(this,e)}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ja,this.statusChanges=new ja}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){fS(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class gS extends mS{constructor(e=null,t,n){super(hS(t),uS(n,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){lS(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){lS(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class vS extends mS{constructor(e,t,n){super(hS(t),uS(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e={},t={}){this._forEachChild((n,i)=>{n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t instanceof gS?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>e(this.controls[t],t))}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const n=this.controls[t];if(this.contains(t)&&e(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(e,t){let n=e;return this._forEachChild((e,i)=>{n=t(n,e,i)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class yS extends mS{constructor(e,t,n){super(hS(t),uS(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(e){return this.controls[e]}push(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}insert(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}removeAt(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e.forEach((e,n)=>{this.at(n)&&this.at(n).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e=[],t={}){this._forEachChild((n,i)=>{n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof gS?e.value:e.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index "+e)}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const bS={provide:zC,useExisting:Te(()=>wS)},_S=(()=>Promise.resolve(null))();let wS=(()=>{class e extends zC{constructor(e,t){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new ja,this.form=new vS({},MC(e),NC(t))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){_S.then(()=>{const t=this._findContainer(e.path);e.control=t.registerControl(e.name,e.control),tS(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){_S.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name),lS(this._directives,e)})}addFormGroup(e){_S.then(()=>{const t=this._findContainer(e.path),n=new vS({});sS(n,e),t.registerControl(e.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){_S.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,t){_S.then(()=>{this.form.get(e.path).setValue(t)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,cS(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return e.\u0275fac=function(t){return new(t||e)(Io(xC,10),Io(EC,10))},e.\u0275dir=it({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,t){1&e&&Uo("submit",function(e){return t.onSubmit(e)})("reset",function(){return t.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ns([bS]),yo]}),e})();const CS={provide:HC,useExisting:Te(()=>kS)},SS=(()=>Promise.resolve(null))();let kS=(()=>{class e extends HC{constructor(e,t,n,i){super(),this.control=new gS,this._registered=!1,this.update=new ja,this._parent=e,this._setValidators(t),this._setAsyncValidators(n),this.valueAccessor=function(e,t){if(!t)return null;Array.isArray(t);let n=void 0,i=void 0,r=void 0;return t.forEach(e=>{var t;e.constructor===CC?n=e:(t=e,aS.some(e=>t.constructor===e)?i=e:r=e)}),r||i||n||null}(0,i)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?[...this._parent.path,this.name]:[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){tS(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){SS.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const t=e.isDisabled.currentValue,n=""===t||t&&"false"!==t;SS.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return e.\u0275fac=function(t){return new(t||e)(Io(zC,9),Io(xC,10),Io(EC,10),Io(vC,10))},e.\u0275dir=it({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ns([CS]),yo,xn]}),e})();const xS={provide:zC,useExisting:Te(()=>ES)};let ES=(()=>{class e extends zC{constructor(e,t){super(),this.validators=e,this.asyncValidators=t,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new ja,this._setValidators(e),this._setAsyncValidators(t)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const t=this.form.get(e.path);return tS(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}getControl(e){return this.form.get(e.path)}removeControl(e){lS(this.directives,e)}addFormGroup(e){const t=this.form.get(e.path);sS(t,e),t.updateValueAndValidity({emitEvent:!1})}removeFormGroup(e){}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){const t=this.form.get(e.path);sS(t,e),t.updateValueAndValidity({emitEvent:!1})}removeFormArray(e){}getFormArray(e){return this.form.get(e.path)}updateModel(e,t){this.form.get(e.path).setValue(t)}onSubmit(e){return this.submitted=!0,cS(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const t=this.form.get(e.path);e.control!==t&&(function(e,t){const n=()=>{};t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n),rS(e,t,!0),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}(e.control||null,e),t&&tS(t,e),e.control=t)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){iS(this.form,this,!1),this._oldForm&&rS(this._oldForm,this,!1)}_checkFormPresent(){}}return e.\u0275fac=function(t){return new(t||e)(Io(xC,10),Io(EC,10))},e.\u0275dir=it({type:e,selectors:[["","formGroup",""]],hostBindings:function(e,t){1&e&&Uo("submit",function(e){return t.onSubmit(e)})("reset",function(){return t.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ns([xS]),yo,xn]}),e})(),OS=(()=>{class e{}return e.\u0275mod=tt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)}}),e})(),TS=(()=>{class e{}return e.\u0275mod=tt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)},providers:[GC],imports:[OS]}),e})();const PS=["sliderWrapper"],RS=q_({passive:!1}),IS={provide:vC,useExisting:Te(()=>NS),multi:!0};class AS{}class DS{constructor(e){this._elementRef=e}}const MS=Mw(Aw(Iw(DS),"accent"));let NS=(()=>{class e extends MS{constructor(e,t,n,i,r,o,s,a){super(e),this._focusMonitor=t,this._changeDetectorRef=n,this._dir=i,this._ngZone=o,this._animationMode=a,this._invert=!1,this._max=100,this._min=0,this._step=1,this._thumbLabel=!1,this._tickInterval=0,this._value=null,this._vertical=!1,this.change=new ja,this.input=new ja,this.valueChange=new ja,this.onTouched=()=>{},this._percent=0,this._isSliding=!1,this._isActive=!1,this._tickIntervalPercent=0,this._sliderDimensions=null,this._controlValueAccessorChangeFn=()=>{},this._dirChangeSubscription=d.EMPTY,this._pointerDown=e=>{this.disabled||this._isSliding||!FS(e)&&0!==e.button||this._ngZone.run(()=>{const t=this.value,n=LS(e);this._isSliding=!0,this._lastPointerEvent=e,e.preventDefault(),this._focusHostElement(),this._onMouseenter(),this._bindGlobalEvents(e),this._focusHostElement(),this._updateValueFromPosition(n),this._valueOnSlideStart=t,t!=this.value&&this._emitInputEvent()})},this._pointerMove=e=>{if(this._isSliding){e.preventDefault();const t=this.value;this._lastPointerEvent=e,this._updateValueFromPosition(LS(e)),t!=this.value&&this._emitInputEvent()}},this._pointerUp=e=>{this._isSliding&&(e.preventDefault(),this._removeGlobalEvents(),this._isSliding=!1,this._valueOnSlideStart==this.value||this.disabled||this._emitChangeEvent(),this._valueOnSlideStart=this._lastPointerEvent=null)},this._windowBlur=()=>{this._lastPointerEvent&&this._pointerUp(this._lastPointerEvent)},this._document=s,this.tabIndex=parseInt(r)||0,o.runOutsideAngular(()=>{const t=e.nativeElement;t.addEventListener("mousedown",this._pointerDown,RS),t.addEventListener("touchstart",this._pointerDown,RS)})}get invert(){return this._invert}set invert(e){this._invert=nw(e)}get max(){return this._max}set max(e){this._max=iw(e,this._max),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get min(){return this._min}set min(e){this._min=iw(e,this._min),null===this._value&&(this.value=this._min),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get step(){return this._step}set step(e){this._step=iw(e,this._step),this._step%1!=0&&(this._roundToDecimal=this._step.toString().split(".").pop().length),this._changeDetectorRef.markForCheck()}get thumbLabel(){return this._thumbLabel}set thumbLabel(e){this._thumbLabel=nw(e)}get tickInterval(){return this._tickInterval}set tickInterval(e){this._tickInterval="auto"===e?"auto":"number"==typeof e||"string"==typeof e?iw(e,this._tickInterval):0}get value(){return null===this._value&&(this.value=this._min),this._value}set value(e){if(e!==this._value){let t=iw(e);this._roundToDecimal&&(t=parseFloat(t.toFixed(this._roundToDecimal))),this._value=t,this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}}get vertical(){return this._vertical}set vertical(e){this._vertical=nw(e)}get displayValue(){return this.displayWith?this.displayWith(this.value):this._roundToDecimal&&this.value&&this.value%1!=0?this.value.toFixed(this._roundToDecimal):this.value||0}focus(e){this._focusHostElement(e)}blur(){this._blurHostElement()}get percent(){return this._clamp(this._percent)}_shouldInvertAxis(){return this.vertical?!this.invert:this.invert}_isMinValue(){return 0===this.percent}_getThumbGap(){return this.disabled?7:this._isMinValue()&&!this.thumbLabel?this._isActive?10:7:0}_getTrackBackgroundStyles(){const e=this.vertical?`1, ${1-this.percent}, 1`:1-this.percent+", 1, 1";return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"-":""}${this._getThumbGap()}px) scale3d(${e})`}}_getTrackFillStyles(){const e=this.percent,t=this.vertical?`1, ${e}, 1`:e+", 1, 1";return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"":"-"}${this._getThumbGap()}px) scale3d(${t})`,display:0===e?"none":""}}_getTicksContainerStyles(){return{transform:`translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"-":""}${this._tickIntervalPercent/2*100}%)`}}_getTicksStyles(){let e=100*this._tickIntervalPercent,t={backgroundSize:this.vertical?`2px ${e}%`:e+"% 2px",transform:`translateZ(0) translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"":"-"}${e/2}%)${this.vertical||"rtl"!=this._getDirection()?"":" rotate(180deg)"}`};if(this._isMinValue()&&this._getThumbGap()){const e=this._shouldInvertAxis();let n;n=this.vertical?e?"Bottom":"Top":e?"Right":"Left",t["padding"+n]=this._getThumbGap()+"px"}return t}_getThumbContainerStyles(){const e=this._shouldInvertAxis();return{transform:`translate${this.vertical?"Y":"X"}(-${100*(("rtl"!=this._getDirection()||this.vertical?e:!e)?this.percent:1-this.percent)}%)`}}_shouldInvertMouseCoords(){const e=this._shouldInvertAxis();return"rtl"!=this._getDirection()||this.vertical?e:!e}_getDirection(){return this._dir&&"rtl"==this._dir.value?"rtl":"ltr"}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{this._isActive=!!e&&"keyboard"!==e,this._changeDetectorRef.detectChanges()}),this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe(()=>{this._changeDetectorRef.markForCheck()}))}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("mousedown",this._pointerDown,RS),e.removeEventListener("touchstart",this._pointerDown,RS),this._lastPointerEvent=null,this._removeGlobalEvents(),this._focusMonitor.stopMonitoring(this._elementRef),this._dirChangeSubscription.unsubscribe()}_onMouseenter(){this.disabled||(this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent())}_onFocus(){this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent()}_onBlur(){this.onTouched()}_onKeydown(e){if(this.disabled||$_(e))return;const t=this.value;switch(e.keyCode){case 33:this._increment(10);break;case 34:this._increment(-10);break;case 35:this.value=this.max;break;case 36:this.value=this.min;break;case 37:this._increment("rtl"==this._getDirection()?1:-1);break;case 38:this._increment(1);break;case 39:this._increment("rtl"==this._getDirection()?-1:1);break;case 40:this._increment(-1);break;default:return}t!=this.value&&(this._emitInputEvent(),this._emitChangeEvent()),this._isSliding=!0,e.preventDefault()}_onKeyup(){this._isSliding=!1}_getWindow(){return this._document.defaultView||window}_bindGlobalEvents(e){const t=this._document,n=FS(e),i=n?"touchend":"mouseup";t.addEventListener(n?"touchmove":"mousemove",this._pointerMove,RS),t.addEventListener(i,this._pointerUp,RS),n&&t.addEventListener("touchcancel",this._pointerUp,RS);const r=this._getWindow();void 0!==r&&r&&r.addEventListener("blur",this._windowBlur)}_removeGlobalEvents(){const e=this._document;e.removeEventListener("mousemove",this._pointerMove,RS),e.removeEventListener("mouseup",this._pointerUp,RS),e.removeEventListener("touchmove",this._pointerMove,RS),e.removeEventListener("touchend",this._pointerUp,RS),e.removeEventListener("touchcancel",this._pointerUp,RS);const t=this._getWindow();void 0!==t&&t&&t.removeEventListener("blur",this._windowBlur)}_increment(e){this.value=this._clamp((this.value||0)+this.step*e,this.min,this.max)}_updateValueFromPosition(e){if(!this._sliderDimensions)return;let t=this._clamp(((this.vertical?e.y:e.x)-(this.vertical?this._sliderDimensions.top:this._sliderDimensions.left))/(this.vertical?this._sliderDimensions.height:this._sliderDimensions.width));if(this._shouldInvertMouseCoords()&&(t=1-t),0===t)this.value=this.min;else if(1===t)this.value=this.max;else{const e=this._calculateValue(t),n=Math.round((e-this.min)/this.step)*this.step+this.min;this.value=this._clamp(n,this.min,this.max)}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.value),this.valueChange.emit(this.value),this.change.emit(this._createChangeEvent())}_emitInputEvent(){this.input.emit(this._createChangeEvent())}_updateTickIntervalPercent(){if(this.tickInterval&&this._sliderDimensions)if("auto"==this.tickInterval){let e=this.vertical?this._sliderDimensions.height:this._sliderDimensions.width,t=Math.ceil(30/(e*this.step/(this.max-this.min)));this._tickIntervalPercent=t*this.step/e}else this._tickIntervalPercent=this.tickInterval*this.step/(this.max-this.min)}_createChangeEvent(e=this.value){let t=new AS;return t.source=this,t.value=e,t}_calculatePercentage(e){return((e||0)-this.min)/(this.max-this.min)}_calculateValue(e){return this.min+e*(this.max-this.min)}_clamp(e,t=0,n=1){return Math.max(t,Math.min(e,n))}_getSliderDimensions(){return this._sliderWrapper?this._sliderWrapper.nativeElement.getBoundingClientRect():null}_focusHostElement(e){this._elementRef.nativeElement.focus(e)}_blurHostElement(){this._elementRef.nativeElement.blur()}writeValue(e){this.value=e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}}return e.\u0275fac=function(t){return new(t||e)(Io(Hs),Io(yw),Io(da),Io(Cw,8),Ao("tabindex"),Io(Tc),Io(ol),Io(M_,8))},e.\u0275cmp=Ze({type:e,selectors:[["mat-slider"]],viewQuery:function(e,t){if(1&e&&Za(PS,!0),2&e){let e;Ka(e=nc())&&(t._sliderWrapper=e.first)}},hostAttrs:["role","slider",1,"mat-slider","mat-focus-indicator"],hostVars:29,hostBindings:function(e,t){1&e&&Uo("focus",function(){return t._onFocus()})("blur",function(){return t._onBlur()})("keydown",function(e){return t._onKeydown(e)})("keyup",function(){return t._onKeyup()})("mouseenter",function(){return t._onMouseenter()})("selectstart",function(e){return e.preventDefault()}),2&e&&(_s("tabIndex",t.tabIndex),To("aria-disabled",t.disabled)("aria-valuemax",t.max)("aria-valuemin",t.min)("aria-valuenow",t.value)("aria-valuetext",null==t.valueText?t.displayValue:t.valueText)("aria-orientation",t.vertical?"vertical":"horizontal"),ss("mat-slider-disabled",t.disabled)("mat-slider-has-ticks",t.tickInterval)("mat-slider-horizontal",!t.vertical)("mat-slider-axis-inverted",t._shouldInvertAxis())("mat-slider-invert-mouse-coords",t._shouldInvertMouseCoords())("mat-slider-sliding",t._isSliding)("mat-slider-thumb-label-showing",t.thumbLabel)("mat-slider-vertical",t.vertical)("mat-slider-min-value",t._isMinValue())("mat-slider-hide-last-tick",t.disabled||t._isMinValue()&&t._getThumbGap()&&t._shouldInvertAxis())("_mat-animation-noopable","NoopAnimations"===t._animationMode))},inputs:{disabled:"disabled",color:"color",tabIndex:"tabIndex",invert:"invert",max:"max",min:"min",value:"value",step:"step",thumbLabel:"thumbLabel",tickInterval:"tickInterval",vertical:"vertical",displayWith:"displayWith",valueText:"valueText"},outputs:{change:"change",input:"input",valueChange:"valueChange"},exportAs:["matSlider"],features:[Ns([IS]),yo],decls:13,vars:6,consts:[[1,"mat-slider-wrapper"],["sliderWrapper",""],[1,"mat-slider-track-wrapper"],[1,"mat-slider-track-background",3,"ngStyle"],[1,"mat-slider-track-fill",3,"ngStyle"],[1,"mat-slider-ticks-container",3,"ngStyle"],[1,"mat-slider-ticks",3,"ngStyle"],[1,"mat-slider-thumb-container",3,"ngStyle"],[1,"mat-slider-focus-ring"],[1,"mat-slider-thumb"],[1,"mat-slider-thumb-label"],[1,"mat-slider-thumb-label-text"]],template:function(e,t){1&e&&(No(0,"div",0,1),No(2,"div",2),Lo(3,"div",3),Lo(4,"div",4),Fo(),No(5,"div",5),Lo(6,"div",6),Fo(),No(7,"div",7),Lo(8,"div",8),Lo(9,"div",9),No(10,"div",10),No(11,"span",11),vs(12),Fo(),Fo(),Fo(),Fo()),2&e&&(or(3),Do("ngStyle",t._getTrackBackgroundStyles()),or(1),Do("ngStyle",t._getTrackFillStyles()),or(1),Do("ngStyle",t._getTicksContainerStyles()),or(1),Do("ngStyle",t._getTicksStyles()),or(1),Do("ngStyle",t._getThumbContainerStyles()),or(5),ys(t.displayValue))},directives:[Nl],styles:['.mat-slider{display:inline-block;position:relative;box-sizing:border-box;padding:8px;outline:none;vertical-align:middle}.mat-slider:not(.mat-slider-disabled):active,.mat-slider.mat-slider-sliding:not(.mat-slider-disabled){cursor:-webkit-grabbing;cursor:grabbing}.mat-slider-wrapper{position:absolute}.mat-slider-track-wrapper{position:absolute;top:0;left:0;overflow:hidden}.mat-slider-track-fill{position:absolute;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-track-background{position:absolute;transform-origin:100% 100%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-ticks-container{position:absolute;left:0;top:0;overflow:hidden}.mat-slider-ticks{background-repeat:repeat;background-clip:content-box;box-sizing:border-box;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-container{position:absolute;z-index:1;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-focus-ring{position:absolute;width:30px;height:30px;border-radius:50%;transform:scale(0);opacity:0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider.cdk-keyboard-focused .mat-slider-focus-ring,.mat-slider.cdk-program-focused .mat-slider-focus-ring{transform:scale(1);opacity:1}.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb-label,.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb{cursor:-webkit-grab;cursor:grab}.mat-slider-thumb{position:absolute;right:-10px;bottom:-10px;box-sizing:border-box;width:20px;height:20px;border:3px solid transparent;border-radius:50%;transform:scale(0.7);transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-label{display:none;align-items:center;justify-content:center;position:absolute;width:28px;height:28px;border-radius:50%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-radius 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.cdk-high-contrast-active .mat-slider-thumb-label{outline:solid 1px}.mat-slider-thumb-label-text{z-index:1;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-sliding .mat-slider-track-fill,.mat-slider-sliding .mat-slider-track-background,.mat-slider-sliding .mat-slider-thumb-container{transition-duration:0ms}.mat-slider-has-ticks .mat-slider-wrapper::after{content:"";position:absolute;border-width:0;border-style:solid;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after,.mat-slider-has-ticks:hover:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after{opacity:1}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-disabled) .mat-slider-ticks,.mat-slider-has-ticks:hover:not(.mat-slider-disabled) .mat-slider-ticks{opacity:1}.mat-slider-thumb-label-showing .mat-slider-focus-ring{display:none}.mat-slider-thumb-label-showing .mat-slider-thumb-label{display:flex}.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:100% 100%}.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:0 0}.mat-slider:not(.mat-slider-disabled).cdk-focused.mat-slider-thumb-label-showing .mat-slider-thumb{transform:scale(0)}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label{border-radius:50% 50% 0}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label-text{opacity:1}.mat-slider:not(.mat-slider-disabled).cdk-mouse-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-touch-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-program-focused .mat-slider-thumb{border-width:2px;transform:scale(1)}.mat-slider-disabled .mat-slider-focus-ring{transform:scale(0);opacity:0}.mat-slider-disabled .mat-slider-thumb{border-width:4px;transform:scale(0.5)}.mat-slider-disabled .mat-slider-thumb-label{display:none}.mat-slider-horizontal{height:48px;min-width:128px}.mat-slider-horizontal .mat-slider-wrapper{height:2px;top:23px;left:8px;right:8px}.mat-slider-horizontal .mat-slider-wrapper::after{height:2px;border-left-width:2px;right:0;top:0}.mat-slider-horizontal .mat-slider-track-wrapper{height:2px;width:100%}.mat-slider-horizontal .mat-slider-track-fill{height:2px;width:100%;transform:scaleX(0)}.mat-slider-horizontal .mat-slider-track-background{height:2px;width:100%;transform:scaleX(1)}.mat-slider-horizontal .mat-slider-ticks-container{height:2px;width:100%}.cdk-high-contrast-active .mat-slider-horizontal .mat-slider-ticks-container{height:0;outline:solid 2px;top:1px}.mat-slider-horizontal .mat-slider-ticks{height:2px;width:100%}.mat-slider-horizontal .mat-slider-thumb-container{width:100%;height:0;top:50%}.mat-slider-horizontal .mat-slider-focus-ring{top:-15px;right:-15px}.mat-slider-horizontal .mat-slider-thumb-label{right:-14px;top:-40px;transform:translateY(26px) scale(0.01) rotate(45deg)}.mat-slider-horizontal .mat-slider-thumb-label-text{transform:rotate(-45deg)}.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label{transform:rotate(45deg)}.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label,.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label-text{transform:none}.mat-slider-vertical{width:48px;min-height:128px}.mat-slider-vertical .mat-slider-wrapper{width:2px;top:8px;bottom:8px;left:23px}.mat-slider-vertical .mat-slider-wrapper::after{width:2px;border-top-width:2px;bottom:0;left:0}.mat-slider-vertical .mat-slider-track-wrapper{height:100%;width:2px}.mat-slider-vertical .mat-slider-track-fill{height:100%;width:2px;transform:scaleY(0)}.mat-slider-vertical .mat-slider-track-background{height:100%;width:2px;transform:scaleY(1)}.mat-slider-vertical .mat-slider-ticks-container{width:2px;height:100%}.cdk-high-contrast-active .mat-slider-vertical .mat-slider-ticks-container{width:0;outline:solid 2px;left:1px}.mat-slider-vertical .mat-slider-focus-ring{bottom:-15px;left:-15px}.mat-slider-vertical .mat-slider-ticks{width:2px;height:100%}.mat-slider-vertical .mat-slider-thumb-container{height:100%;width:0;left:50%}.mat-slider-vertical .mat-slider-thumb{-webkit-backface-visibility:hidden;backface-visibility:hidden}.mat-slider-vertical .mat-slider-thumb-label{bottom:-14px;left:-40px;transform:translateX(26px) scale(0.01) rotate(-45deg)}.mat-slider-vertical .mat-slider-thumb-label-text{transform:rotate(45deg)}.mat-slider-vertical.cdk-focused .mat-slider-thumb-label{transform:rotate(-45deg)}[dir=rtl] .mat-slider-wrapper::after{left:0;right:auto}[dir=rtl] .mat-slider-horizontal .mat-slider-track-fill{transform-origin:100% 100%}[dir=rtl] .mat-slider-horizontal .mat-slider-track-background{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:100% 100%}.mat-slider._mat-animation-noopable .mat-slider-track-fill,.mat-slider._mat-animation-noopable .mat-slider-track-background,.mat-slider._mat-animation-noopable .mat-slider-ticks,.mat-slider._mat-animation-noopable .mat-slider-thumb-container,.mat-slider._mat-animation-noopable .mat-slider-focus-ring,.mat-slider._mat-animation-noopable .mat-slider-thumb,.mat-slider._mat-animation-noopable .mat-slider-thumb-label,.mat-slider._mat-animation-noopable .mat-slider-thumb-label-text,.mat-slider._mat-animation-noopable .mat-slider-has-ticks .mat-slider-wrapper::after{transition:none}\n'],encapsulation:2,changeDetection:0}),e})();function FS(e){return"t"===e.type[0]}function LS(e){const t=FS(e)?e.touches[0]||e.changedTouches[0]:e;return{x:t.clientX,y:t.clientY}}let jS=(()=>{class e{}return e.\u0275mod=tt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)},imports:[[Fl,Rw],Rw]}),e})();const BS=["personVideo"];let zS=(()=>{class e{constructor(e){this.audioService=e}ngOnInit(){}updateVolume(e){this.volume=e,this.audioService.updateVolume({userId:this.name,volume:e})}ngOnChanges(){}ngAfterViewInit(){const e=this.personVideo.nativeElement;e.srcObject=this.stream,e.onloadedmetadata=()=>{e.play()}}}return e.\u0275fac=function(t){return new(t||e)(Io(Sy))},e.\u0275cmp=Ze({type:e,selectors:[["ms-video"]],viewQuery:function(e,t){if(1&e&&Za(BS,!0),2&e){let e;Ka(e=nc())&&(t.personVideo=e.first)}},inputs:{stream:"stream",volume:"volume",name:"name"},features:[xn],decls:9,vars:2,consts:[[2,"text-align","center"],["personVideo",""],["min","0","max","1","step","0.05","value","0.5",3,"input"]],template:function(e,t){1&e&&(No(0,"mat-card",0),No(1,"mat-card-header"),No(2,"mat-card-title"),vs(3),Fo(),Fo(),Lo(4,"video",null,1),No(6,"mat-card-actions"),No(7,"mat-slider",2),Uo("input",function(e){return t.updateVolume(e.value)}),Fo(),vs(8),Fo(),Fo()),2&e&&(or(3),ys(t.name),or(5),bs(" ",t.volume.toFixed(2)," "))},directives:[pC,fC,dC,uC,NS],styles:[""]}),e})();var VS="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function HS(e){var t={exports:{}};return e(t,t.exports),t.exports}var US=function(e){return e&&e.Math==Math&&e},WS=US("object"==typeof globalThis&&globalThis)||US("object"==typeof window&&window)||US("object"==typeof self&&self)||US("object"==typeof VS&&VS)||function(){return this}()||Function("return this")(),qS=function(e){try{return!!e()}catch(t){return!0}},$S=!qS(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),GS={}.propertyIsEnumerable,YS=Object.getOwnPropertyDescriptor,XS={f:YS&&!GS.call({1:2},1)?function(e){var t=YS(this,e);return!!t&&t.enumerable}:GS},KS=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},ZS={}.toString,QS=function(e){return ZS.call(e).slice(8,-1)},JS="".split,ek=qS(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==QS(e)?JS.call(e,""):Object(e)}:Object,tk=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},nk=function(e){return ek(tk(e))},ik=function(e){return"object"==typeof e?null!==e:"function"==typeof e},rk=function(e,t){if(!ik(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!ik(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!ik(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!ik(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")},ok={}.hasOwnProperty,sk=function(e,t){return ok.call(e,t)},ak=WS.document,ck=ik(ak)&&ik(ak.createElement),lk=function(e){return ck?ak.createElement(e):{}},hk=!$S&&!qS(function(){return 7!=Object.defineProperty(lk("div"),"a",{get:function(){return 7}}).a}),dk=Object.getOwnPropertyDescriptor,uk={f:$S?dk:function(e,t){if(e=nk(e),t=rk(t,!0),hk)try{return dk(e,t)}catch(n){}if(sk(e,t))return KS(!XS.f.call(e,t),e[t])}},pk=/#|\.prototype\./,fk=function(e,t){var n=gk[mk(e)];return n==yk||n!=vk&&("function"==typeof t?qS(t):!!t)},mk=fk.normalize=function(e){return String(e).replace(pk,".").toLowerCase()},gk=fk.data={},vk=fk.NATIVE="N",yk=fk.POLYFILL="P",bk=fk,_k={},wk=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},Ck=function(e,t,n){if(wk(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}},Sk=function(e){if(!ik(e))throw TypeError(String(e)+" is not an object");return e},kk=Object.defineProperty,xk={f:$S?kk:function(e,t,n){if(Sk(e),t=rk(t,!0),Sk(n),hk)try{return kk(e,t,n)}catch(i){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},Ek=$S?function(e,t,n){return xk.f(e,t,KS(1,n))}:function(e,t,n){return e[t]=n,e},Ok=uk.f,Tk=function(e){var t=function(t,n,i){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,i)}return e.apply(this,arguments)};return t.prototype=e.prototype,t},Pk=function(e,t){var n,i,r,o,s,a,c,l,h=e.target,d=e.global,u=e.stat,p=e.proto,f=d?WS:u?WS[h]:(WS[h]||{}).prototype,m=d?_k:_k[h]||(_k[h]={}),g=m.prototype;for(r in t)n=!bk(d?r:h+(u?".":"#")+r,e.forced)&&f&&sk(f,r),s=m[r],n&&(a=e.noTargetGet?(l=Ok(f,r))&&l.value:f[r]),o=n&&a?a:t[r],n&&typeof s==typeof o||(c=e.bind&&n?Ck(o,WS):e.wrap&&n?Tk(o):p&&"function"==typeof o?Ck(Function.call,o):o,(e.sham||o&&o.sham||s&&s.sham)&&Ek(c,"sham",!0),m[r]=c,p&&(sk(_k,i=h+"Prototype")||Ek(_k,i,{}),_k[i][r]=o,e.real&&g&&!g[r]&&Ek(g,r,o)))},Rk=Array.isArray||function(e){return"Array"==QS(e)},Ik=Math.ceil,Ak=Math.floor,Dk=function(e){return isNaN(e=+e)?0:(e>0?Ak:Ik)(e)},Mk=Math.min,Nk=function(e){return e>0?Mk(Dk(e),9007199254740991):0},Fk=function(e,t,n,i,r,o,s,a){for(var c,l=r,h=0,d=!!s&&Ck(s,a,3);h<i;){if(h in n){if(c=d?d(n[h],h,t):n[h],o>0&&Rk(c))l=Fk(e,t,c,Nk(c.length),l,o-1)-1;else{if(l>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[l]=c}l++}h++}return l},Lk=Fk,jk=function(e){return Object(tk(e))},Bk=WS["__core-js_shared__"]||function(e,t){try{Ek(WS,e,t)}catch(n){WS[e]=t}return t}("__core-js_shared__",{}),zk=HS(function(e){(e.exports=function(e,t){return Bk[e]||(Bk[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.7.0",mode:"pure",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})}),Vk=0,Hk=Math.random(),Uk=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++Vk+Hk).toString(36)},Wk=!!Object.getOwnPropertySymbols&&!qS(function(){return!String(Symbol())}),qk=Wk&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,$k=zk("wks"),Gk=WS.Symbol,Yk=qk?Gk:Gk&&Gk.withoutSetter||Uk,Xk=function(e){return sk($k,e)||($k[e]=Wk&&sk(Gk,e)?Gk[e]:Yk("Symbol."+e)),$k[e]},Kk=Xk("species"),Zk=function(e,t){var n;return Rk(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!Rk(n.prototype)?ik(n)&&null===(n=n[Kk])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)};Pk({target:"Array",proto:!0},{flatMap:function(e){var t,n=jk(this),i=Nk(n.length);return wk(e),(t=Zk(n,0)).length=Lk(t,n,n,i,0,1,e,arguments.length>1?arguments[1]:void 0),t}});var Qk,Jk,ex=function(e){return _k[e+"Prototype"]},tx=(ex("Array"),[].push),nx=function(e){var t=1==e,n=2==e,i=3==e,r=4==e,o=6==e,s=5==e||o;return function(a,c,l,h){for(var d,u,p=jk(a),f=ek(p),m=Ck(c,l,3),g=Nk(f.length),v=0,y=h||Zk,b=t?y(a,g):n?y(a,0):void 0;g>v;v++)if((s||v in f)&&(u=m(d=f[v],v,p),e))if(t)b[v]=u;else if(u)switch(e){case 3:return!0;case 5:return d;case 6:return v;case 2:tx.call(b,d)}else if(r)return!1;return o?-1:i||r?r:b}},ix={forEach:nx(0),map:nx(1),filter:nx(2),some:nx(3),every:nx(4),find:nx(5),findIndex:nx(6)},rx=function(e){return"function"==typeof e?e:void 0},ox=function(e,t){return arguments.length<2?rx(_k[e])||rx(WS[e]):_k[e]&&_k[e][t]||WS[e]&&WS[e][t]},sx=ox("navigator","userAgent")||"",ax=WS.process,cx=ax&&ax.versions,lx=cx&&cx.v8;lx?Jk=(Qk=lx.split("."))[0]+Qk[1]:sx&&(!(Qk=sx.match(/Edge\/(\d+)/))||Qk[1]>=74)&&(Qk=sx.match(/Chrome\/(\d+)/))&&(Jk=Qk[1]);var hx=Jk&&+Jk,dx=Xk("species"),ux=function(e){return hx>=51||!qS(function(){var t=[];return(t.constructor={})[dx]=function(){return{foo:1}},1!==t[e](Boolean).foo})},px=Object.defineProperty,fx={},mx=function(e){throw e},gx=function(e,t){if(sk(fx,e))return fx[e];t||(t={});var n=[][e],i=!!sk(t,"ACCESSORS")&&t.ACCESSORS,r=sk(t,0)?t[0]:mx,o=sk(t,1)?t[1]:void 0;return fx[e]=!!n&&!qS(function(){if(i&&!$S)return!0;var e={length:-1};i?px(e,1,{enumerable:!0,get:mx}):e[1]=1,n.call(e,r,o)})},vx=ix.map,yx=ux("map"),bx=gx("map");Pk({target:"Array",proto:!0,forced:!yx||!bx},{map:function(e){return vx(this,e,arguments.length>1?arguments[1]:void 0)}});var _x=ex("Array").map,wx=Array.prototype,Cx=function(e){var t=e.map;return e===wx||e instanceof Array&&t===wx.map?_x:t},Sx=ix.filter,kx=ux("filter"),xx=gx("filter");Pk({target:"Array",proto:!0,forced:!kx||!xx},{filter:function(e){return Sx(this,e,arguments.length>1?arguments[1]:void 0)}});var Ex=ex("Array").filter,Ox=Array.prototype,Tx=function(e){var t=e.filter;return e===Ox||e instanceof Array&&t===Ox.filter?Ex:t},Px=function(e){return function(t,n,i,r){wk(n);var o=jk(t),s=ek(o),a=Nk(o.length),c=e?a-1:0,l=e?-1:1;if(i<2)for(;;){if(c in s){r=s[c],c+=l;break}if(c+=l,e?c<0:a<=c)throw TypeError("Reduce of empty array with no initial value")}for(;e?c>=0:a>c;c+=l)c in s&&(r=n(r,s[c],c,o));return r}},Rx={left:Px(!1),right:Px(!0)},Ix=function(e,t){var n=[][e];return!!n&&qS(function(){n.call(null,t||function(){throw 1},1)})},Ax="process"==QS(WS.process),Dx=Rx.left,Mx=Ix("reduce"),Nx=gx("reduce",{1:0});Pk({target:"Array",proto:!0,forced:!Mx||!Nx||!Ax&&hx>79&&hx<83},{reduce:function(e){return Dx(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}});var Fx=ex("Array").reduce,Lx=Array.prototype,jx=[].slice,Bx={},zx=function(e,t,n){if(!(t in Bx)){for(var i=[],r=0;r<t;r++)i[r]="a["+r+"]";Bx[t]=Function("C,a","return new C("+i.join(",")+")")}return Bx[t](e,n)},Vx=Function.bind||function(e){var t=wk(this),n=jx.call(arguments,1),i=function(){var r=n.concat(jx.call(arguments));return this instanceof i?zx(t,r.length,r):t.apply(e,r)};return ik(t.prototype)&&(i.prototype=t.prototype),i};Pk({target:"Function",proto:!0},{bind:Vx});var Hx=ex("Function").bind,Ux=Function.prototype,Wx=function(e){var t=e.bind;return e===Ux||e instanceof Function&&t===Ux.bind?Hx:t},qx=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};Pk({target:"Object",stat:!0,forced:!$S,sham:!$S},{defineProperty:xk.f});var $x=HS(function(e){var t=_k.Object,n=e.exports=function(e,n,i){return t.defineProperty(e,n,i)};t.defineProperty.sham&&(n.sham=!0)}),Gx=$x;function Yx(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Gx(e,i.key,i)}}var Xx=function(e,t,n){return t&&Yx(e.prototype,t),n&&Yx(e,n),e},Kx=$x,Zx=Math.max,Qx=Math.min,Jx=function(e,t){var n=Dk(e);return n<0?Zx(n+t,0):Qx(n,t)},eE=function(e){return function(t,n,i){var r,o=nk(t),s=Nk(o.length),a=Jx(i,s);if(e&&n!=n){for(;s>a;)if((r=o[a++])!=r)return!0}else for(;s>a;a++)if((e||a in o)&&o[a]===n)return e||a||0;return!e&&-1}},tE={includes:eE(!0),indexOf:eE(!1)},nE={},iE=tE.indexOf,rE=function(e,t){var n,i=nk(e),r=0,o=[];for(n in i)!sk(nE,n)&&sk(i,n)&&o.push(n);for(;t.length>r;)sk(i,n=t[r++])&&(~iE(o,n)||o.push(n));return o},oE=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],sE=Object.keys||function(e){return rE(e,oE)},aE=$S?Object.defineProperties:function(e,t){Sk(e);for(var n,i=sE(t),r=i.length,o=0;r>o;)xk.f(e,n=i[o++],t[n]);return e};Pk({target:"Object",stat:!0,forced:!$S,sham:!$S},{defineProperties:aE});var cE=HS(function(e){var t=_k.Object,n=e.exports=function(e,n){return t.defineProperties(e,n)};t.defineProperties.sham&&(n.sham=!0)}),lE=oE.concat("length","prototype"),hE={f:Object.getOwnPropertyNames||function(e){return rE(e,lE)}},dE={f:Object.getOwnPropertySymbols},uE=ox("Reflect","ownKeys")||function(e){var t=hE.f(Sk(e)),n=dE.f;return n?t.concat(n(e)):t},pE=function(e,t,n){var i=rk(t);i in e?xk.f(e,i,KS(0,n)):e[i]=n};Pk({target:"Object",stat:!0,sham:!$S},{getOwnPropertyDescriptors:function(e){for(var t,n,i=nk(e),r=uk.f,o=uE(i),s={},a=0;o.length>a;)void 0!==(n=r(i,t=o[a++]))&&pE(s,t,n);return s}});var fE=_k.Object.getOwnPropertyDescriptors,mE=uk.f,gE=qS(function(){mE(1)});Pk({target:"Object",stat:!0,forced:!$S||gE,sham:!$S},{getOwnPropertyDescriptor:function(e,t){return mE(nk(e),t)}});var vE,yE=HS(function(e){var t=_k.Object,n=e.exports=function(e,n){return t.getOwnPropertyDescriptor(e,n)};t.getOwnPropertyDescriptor.sham&&(n.sham=!0)}),bE=ox("document","documentElement"),_E=zk("keys"),wE=function(e){return _E[e]||(_E[e]=Uk(e))},CE=wE("IE_PROTO"),SE=function(){},kE=function(e){return"<script>"+e+"<\/script>"},xE=function(){try{vE=document.domain&&new ActiveXObject("htmlfile")}catch(i){}var e,t;xE=vE?function(e){e.write(kE("")),e.close();var t=e.parentWindow.Object;return e=null,t}(vE):((t=lk("iframe")).style.display="none",bE.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(kE("document.F=Object")),e.close(),e.F);for(var n=oE.length;n--;)delete xE.prototype[oE[n]];return xE()};nE[CE]=!0;var EE=Object.create||function(e,t){var n;return null!==e?(SE.prototype=Sk(e),n=new SE,SE.prototype=null,n[CE]=e):n=xE(),void 0===t?n:aE(n,t)},OE=hE.f,TE={}.toString,PE="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],RE={f:function(e){return PE&&"[object Window]"==TE.call(e)?function(e){try{return OE(e)}catch(t){return PE.slice()}}(e):OE(nk(e))}},IE=function(e,t,n,i){i&&i.enumerable?e[t]=n:Ek(e,t,n)},AE={f:Xk},DE=xk.f,ME=function(e){var t=_k.Symbol||(_k.Symbol={});sk(t,e)||DE(t,e,{value:AE.f(e)})},NE={};NE[Xk("toStringTag")]="z";var FE="[object z]"===String(NE),LE=Xk("toStringTag"),jE="Arguments"==QS(function(){return arguments}()),BE=FE?QS:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=Object(e),LE))?n:jE?QS(t):"Object"==(i=QS(t))&&"function"==typeof t.callee?"Arguments":i},zE=FE?{}.toString:function(){return"[object "+BE(this)+"]"},VE=xk.f,HE=Xk("toStringTag"),UE=function(e,t,n,i){if(e){var r=n?e:e.prototype;sk(r,HE)||VE(r,HE,{configurable:!0,value:t}),i&&!FE&&Ek(r,"toString",zE)}},WE=Function.toString;"function"!=typeof Bk.inspectSource&&(Bk.inspectSource=function(e){return WE.call(e)});var qE,$E,GE,YE=WS.WeakMap;if("function"==typeof YE&&/native code/.test((0,Bk.inspectSource)(YE))){var XE=Bk.state||(Bk.state=new(0,WS.WeakMap)),KE=XE.get,ZE=XE.has,QE=XE.set;qE=function(e,t){return t.facade=e,QE.call(XE,e,t),t},$E=function(e){return KE.call(XE,e)||{}},GE=function(e){return ZE.call(XE,e)}}else{var JE=wE("state");nE[JE]=!0,qE=function(e,t){return t.facade=e,Ek(e,JE,t),t},$E=function(e){return sk(e,JE)?e[JE]:{}},GE=function(e){return sk(e,JE)}}var eO={set:qE,get:$E,has:GE,enforce:function(e){return GE(e)?$E(e):qE(e,{})},getterFor:function(e){return function(t){var n;if(!ik(t)||(n=$E(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},tO=ix.forEach,nO=wE("hidden"),iO=Xk("toPrimitive"),rO=eO.set,oO=eO.getterFor("Symbol"),sO=Object.prototype,aO=WS.Symbol,cO=ox("JSON","stringify"),lO=uk.f,hO=xk.f,dO=RE.f,uO=XS.f,pO=zk("symbols"),fO=zk("op-symbols"),mO=zk("string-to-symbol-registry"),gO=zk("symbol-to-string-registry"),vO=zk("wks"),yO=WS.QObject,bO=!yO||!yO.prototype||!yO.prototype.findChild,_O=$S&&qS(function(){return 7!=EE(hO({},"a",{get:function(){return hO(this,"a",{value:7}).a}})).a})?function(e,t,n){var i=lO(sO,t);i&&delete sO[t],hO(e,t,n),i&&e!==sO&&hO(sO,t,i)}:hO,wO=function(e,t){var n=pO[e]=EE(aO.prototype);return rO(n,{type:"Symbol",tag:e,description:t}),$S||(n.description=t),n},CO=qk?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof aO},SO=function(e,t,n){e===sO&&SO(fO,t,n),Sk(e);var i=rk(t,!0);return Sk(n),sk(pO,i)?(n.enumerable?(sk(e,nO)&&e[nO][i]&&(e[nO][i]=!1),n=EE(n,{enumerable:KS(0,!1)})):(sk(e,nO)||hO(e,nO,KS(1,{})),e[nO][i]=!0),_O(e,i,n)):hO(e,i,n)},kO=function(e,t){Sk(e);var n=nk(t),i=sE(n).concat(TO(n));return tO(i,function(t){$S&&!xO.call(n,t)||SO(e,t,n[t])}),e},xO=function(e){var t=rk(e,!0),n=uO.call(this,t);return!(this===sO&&sk(pO,t)&&!sk(fO,t))&&(!(n||!sk(this,t)||!sk(pO,t)||sk(this,nO)&&this[nO][t])||n)},EO=function(e,t){var n=nk(e),i=rk(t,!0);if(n!==sO||!sk(pO,i)||sk(fO,i)){var r=lO(n,i);return!r||!sk(pO,i)||sk(n,nO)&&n[nO][i]||(r.enumerable=!0),r}},OO=function(e){var t=dO(nk(e)),n=[];return tO(t,function(e){sk(pO,e)||sk(nE,e)||n.push(e)}),n},TO=function(e){var t=e===sO,n=dO(t?fO:nk(e)),i=[];return tO(n,function(e){!sk(pO,e)||t&&!sk(sO,e)||i.push(pO[e])}),i};if(Wk||(IE((aO=function(){if(this instanceof aO)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=Uk(e),n=function(e){this===sO&&n.call(fO,e),sk(this,nO)&&sk(this[nO],t)&&(this[nO][t]=!1),_O(this,t,KS(1,e))};return $S&&bO&&_O(sO,t,{configurable:!0,set:n}),wO(t,e)}).prototype,"toString",function(){return oO(this).tag}),IE(aO,"withoutSetter",function(e){return wO(Uk(e),e)}),XS.f=xO,xk.f=SO,uk.f=EO,hE.f=RE.f=OO,dE.f=TO,AE.f=function(e){return wO(Xk(e),e)},$S&&hO(aO.prototype,"description",{configurable:!0,get:function(){return oO(this).description}})),Pk({global:!0,wrap:!0,forced:!Wk,sham:!Wk},{Symbol:aO}),tO(sE(vO),function(e){ME(e)}),Pk({target:"Symbol",stat:!0,forced:!Wk},{for:function(e){var t=String(e);if(sk(mO,t))return mO[t];var n=aO(t);return mO[t]=n,gO[n]=t,n},keyFor:function(e){if(!CO(e))throw TypeError(e+" is not a symbol");if(sk(gO,e))return gO[e]},useSetter:function(){bO=!0},useSimple:function(){bO=!1}}),Pk({target:"Object",stat:!0,forced:!Wk,sham:!$S},{create:function(e,t){return void 0===t?EE(e):kO(EE(e),t)},defineProperty:SO,defineProperties:kO,getOwnPropertyDescriptor:EO}),Pk({target:"Object",stat:!0,forced:!Wk},{getOwnPropertyNames:OO,getOwnPropertySymbols:TO}),Pk({target:"Object",stat:!0,forced:qS(function(){dE.f(1)})},{getOwnPropertySymbols:function(e){return dE.f(jk(e))}}),cO){var PO=!Wk||qS(function(){var e=aO();return"[null]"!=cO([e])||"{}"!=cO({a:e})||"{}"!=cO(Object(e))});Pk({target:"JSON",stat:!0,forced:PO},{stringify:function(e,t,n){for(var i,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);if(i=t,(ik(t)||void 0!==e)&&!CO(e))return Rk(t)||(t=function(e,t){if("function"==typeof i&&(t=i.call(this,e,t)),!CO(t))return t}),r[1]=t,cO.apply(null,r)}})}aO.prototype[iO]||Ek(aO.prototype,iO,aO.prototype.valueOf),UE(aO,"Symbol"),nE[nO]=!0;var RO,IO,AO,DO=_k.Object.getOwnPropertySymbols,MO={},NO=!qS(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),FO=wE("IE_PROTO"),LO=Object.prototype,jO=NO?Object.getPrototypeOf:function(e){return e=jk(e),sk(e,FO)?e[FO]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?LO:null},BO=(Xk("iterator"),!1);[].keys&&("next"in(AO=[].keys())?(IO=jO(jO(AO)))!==Object.prototype&&(RO=IO):BO=!0),null==RO&&(RO={});var zO={IteratorPrototype:RO,BUGGY_SAFARI_ITERATORS:BO},VO=zO.IteratorPrototype,HO=function(){return this},UO=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(i){}return function(n,i){return Sk(n),function(e){if(!ik(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}(i),t?e.call(n,i):n.__proto__=i,n}}():void 0),WO=zO.IteratorPrototype,qO=zO.BUGGY_SAFARI_ITERATORS,$O=Xk("iterator"),GO=function(){return this},YO=function(e,t,n,i,r,o,s){!function(e,t,n){var i=t+" Iterator";e.prototype=EE(VO,{next:KS(1,n)}),UE(e,i,!1,!0),MO[i]=HO}(n,t,i);var a,c,l,h=function(e){if(e===r&&m)return m;if(!qO&&e in p)return p[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},d=t+" Iterator",u=!1,p=e.prototype,f=p[$O]||p["@@iterator"]||r&&p[r],m=!qO&&f||h(r),g="Array"==t&&p.entries||f;if(g&&(a=jO(g.call(new e)),WO!==Object.prototype&&a.next&&(UE(a,d,!0,!0),MO[d]=GO)),"values"==r&&f&&"values"!==f.name&&(u=!0,m=function(){return f.call(this)}),s&&p[$O]!==m&&Ek(p,$O,m),MO[t]=m,r)if(c={values:h("values"),keys:o?m:h("keys"),entries:h("entries")},s)for(l in c)(qO||u||!(l in p))&&IE(p,l,c[l]);else Pk({target:t,proto:!0,forced:qO||u},c);return c},XO=eO.set,KO=eO.getterFor("Array Iterator");YO(Array,"Array",function(e,t){XO(this,{type:"Array Iterator",target:nk(e),index:0,kind:t})},function(){var e=KO(this),t=e.target,n=e.kind,i=e.index++;return!t||i>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:t[i],done:!1}:{value:[i,t[i]],done:!1}},"values"),MO.Arguments=MO.Array;var ZO=Xk("toStringTag");for(var QO in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var JO=WS[QO],eT=JO&&JO.prototype;eT&&BE(eT)!==ZO&&Ek(eT,ZO,QO),MO[QO]=MO.Array}var tT=function(e){return function(t,n){var i,r,o=String(tk(t)),s=Dk(n),a=o.length;return s<0||s>=a?e?"":void 0:(i=o.charCodeAt(s))<55296||i>56319||s+1===a||(r=o.charCodeAt(s+1))<56320||r>57343?e?o.charAt(s):i:e?o.slice(s,s+2):r-56320+(i-55296<<10)+65536}},nT=(tT(!1),tT(!0)),iT=eO.set,rT=eO.getterFor("String Iterator");YO(String,"String",function(e){iT(this,{type:"String Iterator",string:String(e),index:0})},function(){var e,t=rT(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=nT(n,i),t.index+=e.length,{value:e,done:!1})});var oT=Xk("iterator"),sT=function(e){if(null!=e)return e[oT]||e["@@iterator"]||MO[BE(e)]},aT=function(e){var t=sT(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return Sk(t.call(e))},cT=sT,lT=function(e){var t=e.return;if(void 0!==t)return Sk(t.call(e)).value},hT=function(e,t,n,i){try{return i?t(Sk(n)[0],n[1]):t(n)}catch(r){throw lT(e),r}},dT=Xk("iterator"),uT=Array.prototype,pT=function(e){return void 0!==e&&(MO.Array===e||uT[dT]===e)},fT=Xk("iterator"),mT=!1;try{var gT=0,vT={next:function(){return{done:!!gT++}},return:function(){mT=!0}};vT[fT]=function(){return this},Array.from(vT,function(){throw 2})}catch(aK){}var yT=!function(e,t){if(!mT)return!1;var n=!1;try{var i={};i[fT]=function(){return{next:function(){return{done:n=!0}}}},Array.from(i)}catch(aK){}return n}();Pk({target:"Array",stat:!0,forced:yT},{from:function(e){var t,n,i,r,o,s,a=jk(e),c="function"==typeof this?this:Array,l=arguments.length,h=l>1?arguments[1]:void 0,d=void 0!==h,u=sT(a),p=0;if(d&&(h=Ck(h,l>2?arguments[2]:void 0,2)),null==u||c==Array&&pT(u))for(n=new c(t=Nk(a.length));t>p;p++)s=d?h(a[p],p):a[p],pE(n,p,s);else for(o=(r=u.call(a)).next,n=new c;!(i=o.call(r)).done;p++)s=d?hT(r,h,[i.value,p],!0):i.value,pE(n,p,s);return n.length=p,n}});var bT=_k.Array.from,_T=bT;Pk({target:"Array",proto:!0},{fill:function(e){for(var t=jk(this),n=Nk(t.length),i=arguments.length,r=Jx(i>1?arguments[1]:void 0,n),o=i>2?arguments[2]:void 0,s=void 0===o?n:Jx(o,n);s>r;)t[r++]=e;return t}}),ex("Array");var wT=[].slice,CT=/MSIE .\./.test(sx),ST=function(e){return function(t,n){var i=arguments.length>2,r=i?wT.call(arguments,2):void 0;return e(i?function(){("function"==typeof t?t:Function(t)).apply(this,r)}:t,n)}};Pk({global:!0,bind:!0,forced:CT},{setTimeout:ST(WS.setTimeout),setInterval:ST(WS.setInterval)});var kT=_k.setTimeout,xT=ox("JSON","stringify"),ET=/[\uD800-\uDFFF]/g,OT=/^[\uD800-\uDBFF]$/,TT=/^[\uDC00-\uDFFF]$/,PT=function(e,t,n){var i=n.charAt(t-1),r=n.charAt(t+1);return OT.test(e)&&!TT.test(r)||TT.test(e)&&!OT.test(i)?"\\u"+e.charCodeAt(0).toString(16):e},RT=qS(function(){return'"\\udf06\\ud834"'!==xT("\udf06\ud834")||'"\\udead"'!==xT("\udead")});xT&&Pk({target:"JSON",stat:!0,forced:RT},{stringify:function(e,t,n){var i=xT.apply(null,arguments);return"string"==typeof i?i.replace(ET,PT):i}}),_k.JSON||(_k.JSON={stringify:JSON.stringify}),Pk({target:"Object",stat:!0,sham:!$S},{create:EE});var IT=_k.Object,AT=function(e,t){return IT.create(e,t)},DT=AT,MT=function(e,t,n){return t in e?Gx(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},NT="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff",FT="["+NT+"]",LT=RegExp("^"+FT+FT+"*"),jT=RegExp(FT+FT+"*$"),BT=function(e){return function(t){var n=String(tk(t));return 1&e&&(n=n.replace(LT,"")),2&e&&(n=n.replace(jT,"")),n}},zT={start:BT(1),end:BT(2),trim:BT(3)},VT=zT.trim;Pk({target:"String",proto:!0,forced:qS(function(){return!!NT.trim()||"\u200b\x85\u180e"!="\u200b\x85\u180e".trim()||"trim"!==NT.trim.name})},{trim:function(){return VT(this)}}),ex("String");var HT=tE.indexOf,UT=[].indexOf,WT=!!UT&&1/[1].indexOf(1,-0)<0,qT=Ix("indexOf"),$T=gx("indexOf",{ACCESSORS:!0,1:0});Pk({target:"Array",proto:!0,forced:WT||!qT||!$T},{indexOf:function(e){return WT?UT.apply(this,arguments)||0:HT(this,e,arguments.length>1?arguments[1]:void 0)}}),ex("Array");var GT=zT.trim,YT=WS.parseInt,XT=/^[+-]?0[Xx]/,KT=8!==YT(NT+"08")||22!==YT(NT+"0x16")?function(e,t){var n=GT(String(e));return YT(n,t>>>0||(XT.test(n)?16:10))}:YT;Pk({global:!0,forced:parseInt!=KT},{parseInt:KT});var ZT=XS.f,QT=function(e){return function(t){for(var n,i=nk(t),r=sE(i),o=r.length,s=0,a=[];o>s;)n=r[s++],$S&&!ZT.call(i,n)||a.push(e?[n,i[n]]:i[n]);return a}},JT=(QT(!0),QT(!1));Pk({target:"Object",stat:!0},{values:function(e){return JT(e)}});var eP=qS(function(){jO(1)});Pk({target:"Object",stat:!0,forced:eP,sham:!NO},{getPrototypeOf:function(e){return jO(jk(e))}});var tP=_k.Object.getPrototypeOf,nP=tE.includes,iP=gx("indexOf",{ACCESSORS:!0,1:0});Pk({target:"Array",proto:!0,forced:!iP},{includes:function(e){return nP(this,e,arguments.length>1?arguments[1]:void 0)}}),ex("Array");var rP=Xk("match"),oP=function(e){if(function(e){var t;return ik(e)&&(void 0!==(t=e[rP])?!!t:"RegExp"==QS(e))}(e))throw TypeError("The method doesn't accept regular expressions");return e},sP=Xk("match");Pk({target:"String",proto:!0,forced:!function(e){var t=/./;try{"/./".includes(t)}catch(n){try{return t[sP]=!1,"/./".includes(t)}catch(i){}}return!1}()},{includes:function(e){return!!~String(tk(this)).indexOf(oP(e),arguments.length>1?arguments[1]:void 0)}}),ex("String");var aP=Object.assign,cP=Object.defineProperty,lP=!aP||qS(function(){if($S&&1!==aP({b:1},aP(cP({},"a",{enumerable:!0,get:function(){cP(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach(function(e){t[e]=e}),7!=aP({},e)[n]||"abcdefghijklmnopqrst"!=sE(aP({},t)).join("")})?function(e,t){for(var n=jk(e),i=arguments.length,r=1,o=dE.f,s=XS.f;i>r;)for(var a,c=ek(arguments[r++]),l=o?sE(c).concat(o(c)):sE(c),h=l.length,d=0;h>d;)a=l[d++],$S&&!s.call(c,a)||(n[a]=c[a]);return n}:aP;Pk({target:"Object",stat:!0,forced:Object.assign!==lP},{assign:lP});var hP=_k.Object.assign,dP=ux("splice"),uP=gx("splice",{ACCESSORS:!0,0:0,1:2}),pP=Math.max,fP=Math.min;Pk({target:"Array",proto:!0,forced:!dP||!uP},{splice:function(e,t){var n,i,r,o,s,a,c=jk(this),l=Nk(c.length),h=Jx(e,l),d=arguments.length;if(0===d?n=i=0:1===d?(n=0,i=l-h):(n=d-2,i=fP(pP(Dk(t),0),l-h)),l+n-i>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(r=Zk(c,i),o=0;o<i;o++)(s=h+o)in c&&pE(r,o,c[s]);if(r.length=i,n<i){for(o=h;o<l-i;o++)a=o+n,(s=o+i)in c?c[a]=c[s]:delete c[a];for(o=l;o>l-i+n;o--)delete c[o-1]}else if(n>i)for(o=l-i;o>h;o--)a=o+n-1,(s=o+i-1)in c?c[a]=c[s]:delete c[a];for(o=0;o<n;o++)c[o+h]=arguments[o+2];return c.length=l-i+n,r}});var mP=ex("Array").splice,gP=Array.prototype,vP=function(e){var t=e.splice;return e===gP||e instanceof Array&&t===gP.splice?mP:t},yP=[].reverse,bP=[1,2];Pk({target:"Array",proto:!0,forced:String(bP)===String(bP.reverse())},{reverse:function(){return Rk(this)&&(this.length=this.length),yP.call(this)}});var _P=ex("Array").reverse,wP=Array.prototype,CP=ix.forEach,SP=Ix("forEach"),kP=gx("forEach"),xP=SP&&kP?[].forEach:function(e){return CP(this,e,arguments.length>1?arguments[1]:void 0)};Pk({target:"Array",proto:!0,forced:[].forEach!=xP},{forEach:xP});var EP=ex("Array").forEach,OP=Array.prototype,TP={DOMTokenList:!0,NodeList:!0},PP=function(e){var t=e.forEach;return e===OP||e instanceof Array&&t===OP.forEach||TP.hasOwnProperty(BE(e))?EP:t};Pk({target:"Array",stat:!0},{isArray:Rk});var RP=_k.Array.isArray,IP=RP,AP=Xk("iterator"),DP=function(e){var t=Object(e);return void 0!==t[AP]||"@@iterator"in t||MO.hasOwnProperty(BE(t))},MP=Xk("isConcatSpreadable"),NP=hx>=51||!qS(function(){var e=[];return e[MP]=!1,e.concat()[0]!==e}),FP=ux("concat"),LP=function(e){if(!ik(e))return!1;var t=e[MP];return void 0!==t?!!t:Rk(e)};Pk({target:"Array",proto:!0,forced:!NP||!FP},{concat:function(e){var t,n,i,r,o,s=jk(this),a=Zk(s,0),c=0;for(t=-1,i=arguments.length;t<i;t++)if(LP(o=-1===t?s:arguments[t])){if(c+(r=Nk(o.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<r;n++,c++)n in o&&pE(a,c,o[n])}else{if(c>=9007199254740991)throw TypeError("Maximum allowed index exceeded");pE(a,c++,o)}return a.length=c,a}}),ME("asyncIterator"),ME("hasInstance"),ME("isConcatSpreadable"),ME("iterator"),ME("match"),ME("matchAll"),ME("replace"),ME("search"),ME("species"),ME("split"),ME("toPrimitive"),ME("toStringTag"),ME("unscopables"),UE(WS.JSON,"JSON",!0);var jP=_k.Symbol;ME("asyncDispose"),ME("dispose"),ME("observable"),ME("patternMatch"),ME("replaceAll");var BP=jP,zP=bT,VP=ux("slice"),HP=gx("slice",{ACCESSORS:!0,0:0,1:2}),UP=Xk("species"),WP=[].slice,qP=Math.max;Pk({target:"Array",proto:!0,forced:!VP||!HP},{slice:function(e,t){var n,i,r,o=nk(this),s=Nk(o.length),a=Jx(e,s),c=Jx(void 0===t?s:t,s);if(Rk(o)&&("function"!=typeof(n=o.constructor)||n!==Array&&!Rk(n.prototype)?ik(n)&&null===(n=n[UP])&&(n=void 0):n=void 0,n===Array||void 0===n))return WP.call(o,a,c);for(i=new(void 0===n?Array:n)(qP(c-a,0)),r=0;a<c;a++,r++)a in o&&pE(i,r,o[a]);return i.length=r,i}});var $P=ex("Array").slice,GP=Array.prototype,YP=function(e){var t=e.slice;return e===GP||e instanceof Array&&t===GP.slice?$P:t},XP=YP,KP=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i},ZP=function(e,t){var n;if(e){if("string"==typeof e)return KP(e,t);var i=XP(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?zP(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?KP(e,t):void 0}},QP=function(e,t){return function(e){if(IP(e))return e}(e)||function(e,t){if(void 0!==BP&&DP(Object(e))){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=aT(e);!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(c){r=!0,o=c}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return n}}(e,t)||ZP(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()};Pk({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}});var JP=qS(function(){sE(1)});Pk({target:"Object",stat:!0,forced:JP},{keys:function(e){return sE(jk(e))}});var eR=_k.Object.keys,tR=RP,nR=AE.f("iterator"),iR=nR,rR=HS(function(e){function t(n){return e.exports=t="function"==typeof BP&&"symbol"==typeof iR?function(e){return typeof e}:function(e){return e&&"function"==typeof BP&&e.constructor===BP&&e!==BP.prototype?"symbol":typeof e},t(n)}e.exports=t});Pk({target:"Reflect",stat:!0},{ownKeys:uE});var oR=_k.Reflect.ownKeys,sR=YP,aR=function(e){return function(e){if(IP(e))return KP(e)}(e)||function(e){if(void 0!==BP&&DP(Object(e)))return zP(e)}(e)||ZP(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},cR=ex("Array").concat,lR=Array.prototype,hR=function(e){var t=e.concat;return e===lR||e instanceof Array&&t===lR.concat?cR:t},dR=jP,uR=HS(function(e){function t(e){if(e)return function(e){for(var n in t.prototype)e[n]=t.prototype[n];return e}(e)}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,i=this._callbacks["$"+e];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r=0;r<i.length;r++)if((n=i[r])===t||n.fn===t){i.splice(r,1);break}return 0===i.length&&delete this._callbacks["$"+e],this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(n){i=0;for(var r=(n=n.slice(0)).length;i<r;++i)n[i].apply(this,t)}return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}});function pR(){return(pR=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function fR(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function mR(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var gR,vR="function"!=typeof Object.assign?function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])}return t}:Object.assign,yR=["","webkit","Moz","MS","ms","o"],bR="undefined"==typeof document?{style:{}}:document.createElement("div"),_R=Math.round,wR=Math.abs,CR=Date.now;function SR(e,t){for(var n,i,r=t[0].toUpperCase()+t.slice(1),o=0;o<yR.length;){if((i=(n=yR[o])?n+r:t)in e)return i;o++}}gR="undefined"==typeof window?{}:window;var kR=SR(bR.style,"touchAction"),xR=void 0!==kR,ER=function(){if(!xR)return!1;var e={},t=gR.CSS&&gR.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){return e[n]=!t||gR.CSS.supports("touch-action",n)}),e}(),OR="ontouchstart"in gR,TR=void 0!==SR(gR,"PointerEvent"),PR=OR&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),RR=["x","y"],IR=["clientX","clientY"];function AR(e,t,n){var i;if(e)if(e.forEach)e.forEach(t,n);else if(void 0!==e.length)for(i=0;i<e.length;)t.call(n,e[i],i,e),i++;else for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e)}function DR(e,t){return"function"==typeof e?e.apply(t&&t[0]||void 0,t):e}function MR(e,t){return e.indexOf(t)>-1}var NR=function(){function e(e,t){this.manager=e,this.set(t)}var t=e.prototype;return t.set=function(e){"compute"===e&&(e=this.compute()),xR&&this.manager.element.style&&ER[e]&&(this.manager.element.style[kR]=e),this.actions=e.toLowerCase().trim()},t.update=function(){this.set(this.manager.options.touchAction)},t.compute=function(){var e=[];return AR(this.manager.recognizers,function(t){DR(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),function(e){if(MR(e,"none"))return"none";var t=MR(e,"pan-x"),n=MR(e,"pan-y");return t&&n?"none":t||n?t?"pan-x":"pan-y":MR(e,"manipulation")?"manipulation":"auto"}(e.join(" "))},t.preventDefaults=function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var i=this.actions,r=MR(i,"none")&&!ER.none,o=MR(i,"pan-y")&&!ER["pan-y"],s=MR(i,"pan-x")&&!ER["pan-x"];if(r&&1===e.pointers.length&&e.distance<2&&e.deltaTime<250)return;if(!s||!o)return r||o&&6&n||s&&24&n?this.preventSrc(t):void 0}},t.preventSrc=function(e){this.manager.session.prevented=!0,e.preventDefault()},e}();function FR(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}function LR(e){var t=e.length;if(1===t)return{x:_R(e[0].clientX),y:_R(e[0].clientY)};for(var n=0,i=0,r=0;r<t;)n+=e[r].clientX,i+=e[r].clientY,r++;return{x:_R(n/t),y:_R(i/t)}}function jR(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:_R(e.pointers[n].clientX),clientY:_R(e.pointers[n].clientY)},n++;return{timeStamp:CR(),pointers:t,center:LR(t),deltaX:e.deltaX,deltaY:e.deltaY}}function BR(e,t,n){n||(n=RR);var i=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return Math.sqrt(i*i+r*r)}function zR(e,t,n){return n||(n=RR),180*Math.atan2(t[n[1]]-e[n[1]],t[n[0]]-e[n[0]])/Math.PI}function VR(e,t){return e===t?1:wR(e)>=wR(t)?e<0?2:4:t<0?8:16}function HR(e,t,n){return{x:t/e||0,y:n/e||0}}function UR(e,t,n){var i=n.pointers.length,r=n.changedPointers.length,o=1&t&&i-r==0,s=12&t&&i-r==0;n.isFirst=!!o,n.isFinal=!!s,o&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,i=t.pointers,r=i.length;n.firstInput||(n.firstInput=jR(t)),r>1&&!n.firstMultiple?n.firstMultiple=jR(t):1===r&&(n.firstMultiple=!1);var o=n.firstInput,s=n.firstMultiple,a=s?s.center:o.center,c=t.center=LR(i);t.timeStamp=CR(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=zR(a,c),t.distance=BR(a,c),function(e,t){var n=t.center,i=e.offsetDelta||{},r=e.prevDelta||{},o=e.prevInput||{};1!==t.eventType&&4!==o.eventType||(r=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=r.x+(n.x-i.x),t.deltaY=r.y+(n.y-i.y)}(n,t),t.offsetDirection=VR(t.deltaX,t.deltaY);var l,h,d=HR(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=d.x,t.overallVelocityY=d.y,t.overallVelocity=wR(d.x)>wR(d.y)?d.x:d.y,t.scale=s?(l=s.pointers,BR((h=i)[0],h[1],IR)/BR(l[0],l[1],IR)):1,t.rotation=s?function(e,t){return zR(t[1],t[0],IR)+zR(e[1],e[0],IR)}(s.pointers,i):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,i,r,o,s=e.lastInterval||t,a=t.timeStamp-s.timeStamp;if(8!==t.eventType&&(a>25||void 0===s.velocity)){var c=t.deltaX-s.deltaX,l=t.deltaY-s.deltaY,h=HR(a,c,l);i=h.x,r=h.y,n=wR(h.x)>wR(h.y)?h.x:h.y,o=VR(c,l),e.lastInterval=t}else n=s.velocity,i=s.velocityX,r=s.velocityY,o=s.direction;t.velocity=n,t.velocityX=i,t.velocityY=r,t.direction=o}(n,t);var u,p=e.element,f=t.srcEvent;FR(u=f.composedPath?f.composedPath()[0]:f.path?f.path[0]:f.target,p)&&(p=u),t.target=p}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function WR(e){return e.trim().split(/\s+/g)}function qR(e,t,n){AR(WR(t),function(t){e.addEventListener(t,n,!1)})}function $R(e,t,n){AR(WR(t),function(t){e.removeEventListener(t,n,!1)})}function GR(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||window}var YR=function(){function e(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){DR(e.options.enable,[e])&&n.handler(t)},this.init()}var t=e.prototype;return t.handler=function(){},t.init=function(){this.evEl&&qR(this.element,this.evEl,this.domHandler),this.evTarget&&qR(this.target,this.evTarget,this.domHandler),this.evWin&&qR(GR(this.element),this.evWin,this.domHandler)},t.destroy=function(){this.evEl&&$R(this.element,this.evEl,this.domHandler),this.evTarget&&$R(this.target,this.evTarget,this.domHandler),this.evWin&&$R(GR(this.element),this.evWin,this.domHandler)},e}();function XR(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var i=0;i<e.length;){if(n&&e[i][n]==t||!n&&e[i]===t)return i;i++}return-1}var KR={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},ZR={2:"touch",3:"pen",4:"mouse",5:"kinect"},QR="pointerdown",JR="pointermove pointerup pointercancel";gR.MSPointerEvent&&!gR.PointerEvent&&(QR="MSPointerDown",JR="MSPointerMove MSPointerUp MSPointerCancel");var eI=function(e){function t(){var n,i=t.prototype;return i.evEl=QR,i.evWin=JR,(n=e.apply(this,arguments)||this).store=n.manager.session.pointerEvents=[],n}return fR(t,e),t.prototype.handler=function(e){var t=this.store,n=!1,i=e.type.toLowerCase().replace("ms",""),r=KR[i],o=ZR[e.pointerType]||e.pointerType,s="touch"===o,a=XR(t,e.pointerId,"pointerId");1&r&&(0===e.button||s)?a<0&&(t.push(e),a=t.length-1):12&r&&(n=!0),a<0||(t[a]=e,this.callback(this.manager,r,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(a,1))},t}(YR);function tI(e){return Array.prototype.slice.call(e,0)}function nI(e,t,n){for(var i=[],r=[],o=0;o<e.length;){var s=t?e[o][t]:e[o];XR(r,s)<0&&i.push(e[o]),r[o]=s,o++}return n&&(i=t?i.sort(function(e,n){return e[t]>n[t]}):i.sort()),i}var iI={touchstart:1,touchmove:2,touchend:4,touchcancel:8},rI=function(e){function t(){var n;return t.prototype.evTarget="touchstart touchmove touchend touchcancel",(n=e.apply(this,arguments)||this).targetIds={},n}return fR(t,e),t.prototype.handler=function(e){var t=iI[e.type],n=oI.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})},t}(YR);function oI(e,t){var n,i,r=tI(e.touches),o=this.targetIds;if(3&t&&1===r.length)return o[r[0].identifier]=!0,[r,r];var s=tI(e.changedTouches),a=[],c=this.target;if(i=r.filter(function(e){return FR(e.target,c)}),1===t)for(n=0;n<i.length;)o[i[n].identifier]=!0,n++;for(n=0;n<s.length;)o[s[n].identifier]&&a.push(s[n]),12&t&&delete o[s[n].identifier],n++;return a.length?[nI(i.concat(a),"identifier",!0),a]:void 0}var sI={mousedown:1,mousemove:2,mouseup:4},aI=function(e){function t(){var n,i=t.prototype;return i.evEl="mousedown",i.evWin="mousemove mouseup",(n=e.apply(this,arguments)||this).pressed=!1,n}return fR(t,e),t.prototype.handler=function(e){var t=sI[e.type];1&t&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))},t}(YR);function cI(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY},i=this.lastTouches;this.lastTouches.push(n),setTimeout(function(){var e=i.indexOf(n);e>-1&&i.splice(e,1)},2500)}}function lI(e,t){1&e?(this.primaryTouch=t.changedPointers[0].identifier,cI.call(this,t)):12&e&&cI.call(this,t)}function hI(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(t-r.x),s=Math.abs(n-r.y);if(o<=25&&s<=25)return!0}return!1}var dI=function(){return function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).handler=function(e,t,n){var r="mouse"===n.pointerType;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if("touch"===n.pointerType)lI.call(mR(mR(i)),t,n);else if(r&&hI.call(mR(mR(i)),n))return;i.callback(e,t,n)}},i.touch=new rI(i.manager,i.handler),i.mouse=new aI(i.manager,i.handler),i.primaryTouch=null,i.lastTouches=[],i}return fR(t,e),t.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},t}(YR)}();function uI(e,t,n){return!!Array.isArray(e)&&(AR(e,n[t],n),!0)}var pI=1;function fI(e,t){var n=t.manager;return n?n.get(e):e}function mI(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}var gI=function(){function e(e){void 0===e&&(e={}),this.options=pR({enable:!0},e),this.id=pI++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var t=e.prototype;return t.set=function(e){return vR(this.options,e),this.manager&&this.manager.touchAction.update(),this},t.recognizeWith=function(e){if(uI(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=fI(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},t.dropRecognizeWith=function(e){return uI(e,"dropRecognizeWith",this)||(e=fI(e,this),delete this.simultaneous[e.id]),this},t.requireFailure=function(e){if(uI(e,"requireFailure",this))return this;var t=this.requireFail;return-1===XR(t,e=fI(e,this))&&(t.push(e),e.requireFailure(this)),this},t.dropRequireFailure=function(e){if(uI(e,"dropRequireFailure",this))return this;e=fI(e,this);var t=XR(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},t.hasRequireFailures=function(){return this.requireFail.length>0},t.canRecognizeWith=function(e){return!!this.simultaneous[e.id]},t.emit=function(e){var t=this,n=this.state;function i(n){t.manager.emit(n,e)}n<8&&i(t.options.event+mI(n)),i(t.options.event),e.additionalEvent&&i(e.additionalEvent),n>=8&&i(t.options.event+mI(n))},t.tryEmit=function(e){if(this.canEmit())return this.emit(e);this.state=32},t.canEmit=function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},t.recognize=function(e){var t=vR({},e);if(!DR(this.options.enable,[this,t]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},t.process=function(e){},t.getTouchAction=function(){},t.reset=function(){},e}(),vI=function(e){function t(t){var n;return void 0===t&&(t={}),(n=e.call(this,pR({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},t))||this).pTime=!1,n.pCenter=!1,n._timer=null,n._input=null,n.count=0,n}fR(t,e);var n=t.prototype;return n.getTouchAction=function(){return["manipulation"]},n.process=function(e){var t=this,n=this.options,i=e.pointers.length===n.pointers,r=e.distance<n.threshold,o=e.deltaTime<n.time;if(this.reset(),1&e.eventType&&0===this.count)return this.failTimeout();if(r&&o&&i){if(4!==e.eventType)return this.failTimeout();var s=!this.pTime||e.timeStamp-this.pTime<n.interval,a=!this.pCenter||BR(this.pCenter,e.center)<n.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,a&&s?this.count+=1:this.count=1,this._input=e,0==this.count%n.taps)return this.hasRequireFailures()?(this._timer=setTimeout(function(){t.state=8,t.tryEmit()},n.interval),2):8}return 32},n.failTimeout=function(){var e=this;return this._timer=setTimeout(function(){e.state=32},this.options.interval),32},n.reset=function(){clearTimeout(this._timer)},n.emit=function(){8===this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},t}(gI),yI=function(e){function t(t){return void 0===t&&(t={}),e.call(this,pR({pointers:1},t))||this}fR(t,e);var n=t.prototype;return n.attrTest=function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},n.process=function(e){var t=this.state,n=e.eventType,i=6&t,r=this.attrTest(e);return i&&(8&n||!r)?16|t:i||r?4&n?8|t:2&t?4|t:2:32},t}(gI);function bI(e){return 16===e?"down":8===e?"up":2===e?"left":4===e?"right":""}var _I=function(e){function t(t){var n;return void 0===t&&(t={}),(n=e.call(this,pR({event:"pan",threshold:10,pointers:1,direction:30},t))||this).pX=null,n.pY=null,n}fR(t,e);var n=t.prototype;return n.getTouchAction=function(){var e=this.options.direction,t=[];return 6&e&&t.push("pan-y"),24&e&&t.push("pan-x"),t},n.directionTest=function(e){var t=this.options,n=!0,i=e.distance,r=e.direction,o=e.deltaX,s=e.deltaY;return r&t.direction||(6&t.direction?(r=0===o?1:o<0?2:4,n=o!==this.pX,i=Math.abs(e.deltaX)):(r=0===s?1:s<0?8:16,n=s!==this.pY,i=Math.abs(e.deltaY))),e.direction=r,n&&i>t.threshold&&r&t.direction},n.attrTest=function(e){return yI.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},n.emit=function(t){this.pX=t.deltaX,this.pY=t.deltaY;var n=bI(t.direction);n&&(t.additionalEvent=this.options.event+n),e.prototype.emit.call(this,t)},t}(yI),wI=function(e){function t(t){return void 0===t&&(t={}),e.call(this,pR({event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},t))||this}fR(t,e);var n=t.prototype;return n.getTouchAction=function(){return _I.prototype.getTouchAction.call(this)},n.attrTest=function(t){var n,i=this.options.direction;return 30&i?n=t.overallVelocity:6&i?n=t.overallVelocityX:24&i&&(n=t.overallVelocityY),e.prototype.attrTest.call(this,t)&&i&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers===this.options.pointers&&wR(n)>this.options.velocity&&4&t.eventType},n.emit=function(e){var t=bI(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)},t}(yI),CI=function(e){function t(t){return void 0===t&&(t={}),e.call(this,pR({event:"pinch",threshold:0,pointers:2},t))||this}fR(t,e);var n=t.prototype;return n.getTouchAction=function(){return["none"]},n.attrTest=function(t){return e.prototype.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},n.emit=function(t){1!==t.scale&&(t.additionalEvent=this.options.event+(t.scale<1?"in":"out")),e.prototype.emit.call(this,t)},t}(yI),SI=function(e){function t(t){return void 0===t&&(t={}),e.call(this,pR({event:"rotate",threshold:0,pointers:2},t))||this}fR(t,e);var n=t.prototype;return n.getTouchAction=function(){return["none"]},n.attrTest=function(t){return e.prototype.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)},t}(yI),kI=function(e){function t(t){var n;return void 0===t&&(t={}),(n=e.call(this,pR({event:"press",pointers:1,time:251,threshold:9},t))||this)._timer=null,n._input=null,n}fR(t,e);var n=t.prototype;return n.getTouchAction=function(){return["auto"]},n.process=function(e){var t=this,n=this.options,i=e.pointers.length===n.pointers,r=e.distance<n.threshold,o=e.deltaTime>n.time;if(this._input=e,!r||!i||12&e.eventType&&!o)this.reset();else if(1&e.eventType)this.reset(),this._timer=setTimeout(function(){t.state=8,t.tryEmit()},n.time);else if(4&e.eventType)return 8;return 32},n.reset=function(){clearTimeout(this._timer)},n.emit=function(e){8===this.state&&(e&&4&e.eventType?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=CR(),this.manager.emit(this.options.event,this._input)))},t}(gI),xI={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},EI=[[SI,{enable:!1}],[CI,{enable:!1},["rotate"]],[wI,{direction:6}],[_I,{direction:6},["swipe"]],[vI],[vI,{event:"doubletap",taps:2},["tap"]],[kI]];function OI(e,t){var n,i=e.element;i.style&&(AR(e.options.cssProps,function(r,o){n=SR(i.style,o),t?(e.oldCssProps[n]=i.style[n],i.style[n]=r):i.style[n]=e.oldCssProps[n]||""}),t||(e.oldCssProps={}))}var TI=function(){function e(e,t){var n=this;this.options=vR({},xI,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new(this.options.inputClass||(TR?eI:PR?rI:OR?dI:aI))(this,UR),this.touchAction=new NR(this,this.options.touchAction),OI(this,!0),AR(this.options.recognizers,function(e){var t=n.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}var t=e.prototype;return t.set=function(e){return vR(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},t.stop=function(e){this.session.stopped=e?2:1},t.recognize=function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var i=this.recognizers,r=t.curRecognizer;(!r||r&&8&r.state)&&(t.curRecognizer=null,r=null);for(var o=0;o<i.length;)n=i[o],2===t.stopped||r&&n!==r&&!n.canRecognizeWith(r)?n.reset():n.recognize(e),!r&&14&n.state&&(t.curRecognizer=n,r=n),o++}},t.get=function(e){if(e instanceof gI)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event===e)return t[n];return null},t.add=function(e){if(uI(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},t.remove=function(e){if(uI(e,"remove",this))return this;var t=this.get(e);if(e){var n=this.recognizers,i=XR(n,t);-1!==i&&(n.splice(i,1),this.touchAction.update())}return this},t.on=function(e,t){if(void 0===e||void 0===t)return this;var n=this.handlers;return AR(WR(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this},t.off=function(e,t){if(void 0===e)return this;var n=this.handlers;return AR(WR(e),function(e){t?n[e]&&n[e].splice(XR(n[e],t),1):delete n[e]}),this},t.emit=function(e,t){this.options.domEvents&&function(e,t){var n=document.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](t),i++}},t.destroy=function(){this.element&&OI(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},e}(),PI={touchstart:1,touchmove:2,touchend:4,touchcancel:8},RI=function(e){function t(){var n,i=t.prototype;return i.evTarget="touchstart",i.evWin="touchstart touchmove touchend touchcancel",(n=e.apply(this,arguments)||this).started=!1,n}return fR(t,e),t.prototype.handler=function(e){var t=PI[e.type];if(1===t&&(this.started=!0),this.started){var n=II.call(this,e,t);12&t&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}},t}(YR);function II(e,t){var n=tI(e.touches),i=tI(e.changedTouches);return 12&t&&(n=nI(n.concat(i),"identifier",!0)),[n,i]}function AI(e,t,n){var i="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",r=window.console&&(window.console.warn||window.console.log);return r&&r.call(window.console,i,n),e.apply(this,arguments)}}var DI=AI(function(e,t,n){for(var i=Object.keys(t),r=0;r<i.length;)(!n||n&&void 0===e[i[r]])&&(e[i[r]]=t[i[r]]),r++;return e},"extend","Use `assign`."),MI=AI(function(e,t){return DI(e,t,!0)},"merge","Use `assign`.");function NI(e,t,n){var i,r=t.prototype;(i=e.prototype=Object.create(r)).constructor=e,i._super=r,n&&vR(i,n)}function FI(e,t){return function(){return e.apply(t,arguments)}}var LI=function(){var e=function(e,t){return void 0===t&&(t={}),new TI(e,pR({recognizers:EI.concat()},t))};return e.VERSION="2.0.17-rc",e.DIRECTION_ALL=30,e.DIRECTION_DOWN=16,e.DIRECTION_LEFT=2,e.DIRECTION_RIGHT=4,e.DIRECTION_UP=8,e.DIRECTION_HORIZONTAL=6,e.DIRECTION_VERTICAL=24,e.DIRECTION_NONE=1,e.DIRECTION_DOWN=16,e.INPUT_START=1,e.INPUT_MOVE=2,e.INPUT_END=4,e.INPUT_CANCEL=8,e.STATE_POSSIBLE=1,e.STATE_BEGAN=2,e.STATE_CHANGED=4,e.STATE_ENDED=8,e.STATE_RECOGNIZED=8,e.STATE_CANCELLED=16,e.STATE_FAILED=32,e.Manager=TI,e.Input=YR,e.TouchAction=NR,e.TouchInput=rI,e.MouseInput=aI,e.PointerEventInput=eI,e.TouchMouseInput=dI,e.SingleTouchInput=RI,e.Recognizer=gI,e.AttrRecognizer=yI,e.Tap=vI,e.Pan=_I,e.Swipe=wI,e.Pinch=CI,e.Rotate=SI,e.Press=kI,e.on=qR,e.off=$R,e.each=AR,e.merge=MI,e.extend=DI,e.bindFn=FI,e.assign=vR,e.inherit=NI,e.bindFn=FI,e.prefixed=SR,e.toArray=tI,e.inArray=XR,e.uniqueArray=nI,e.splitStr=WR,e.boolOrFn=DR,e.hasParent=FR,e.addEventListeners=qR,e.removeEventListeners=$R,e.defaults=vR({},xI,{preset:EI}),e}();function jI(e,t){var n;if(void 0===dR||null==cT(e)){if(tR(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return BI(e,void 0);var i=sR(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?_T(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?BI(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=aT(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function BI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var zI=dR("DELETE");function VI(){var e=HI.apply(void 0,arguments);return WI(e),e}function HI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length<2)return t[0];var i;if(t.length>2)return HI.apply(void 0,hR(i=[VI(t[0],t[1])]).call(i,aR(sR(t).call(t,2))));var r,o=t[0],s=t[1],a=jI(oR(s));try{for(a.s();!(r=a.n()).done;){var c=r.value;Object.prototype.propertyIsEnumerable.call(s,c)&&(s[c]===zI?delete o[c]:o[c]=null===o[c]||null===s[c]||"object"!==rR(o[c])||"object"!==rR(s[c])||tR(o[c])||tR(s[c])?UI(s[c]):HI(o[c],s[c]))}}catch(l){a.e(l)}finally{a.f()}return o}function UI(e){return tR(e)?Cx(e).call(e,function(e){return UI(e)}):"object"===rR(e)&&null!==e?HI({},e):e}function WI(e){for(var t=0,n=eR(e);t<n.length;t++){var i=n[t];e[i]===zI?delete e[i]:"object"===rR(e[i])&&null!==e[i]&&WI(e[i])}}var qI="undefined"!=typeof window?window.Hammer||LI:function(){return function(){var e=function(){};return{on:e,off:e,destroy:e,emit:e,get:function(){return{set:e}}}}()};function $I(e){var t,n=this;this._cleanupQueue=[],this.active=!1,this._dom={container:e,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(function(){n._dom.overlay.parentNode.removeChild(n._dom.overlay)});var i=qI(this._dom.overlay);i.on("tap",Wx(t=this._onTapOverlay).call(t,this)),this._cleanupQueue.push(function(){i.destroy()});var r=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];PP(r).call(r,function(e){i.on(e,function(e){e.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=function(t){(function(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1})(t.target,e)||n.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(function(){document.body.removeEventListener("click",n._onClick)})),this._escListener=function(e){("key"in e?"Escape"===e.key:27===e.keyCode)&&n.deactivate()}}uR($I.prototype),$I.current=null,$I.prototype.destroy=function(){var e,t;this.deactivate();var n,i,r,o=jI((i=e=vP(t=this._cleanupQueue).call(t,0),r=i.reverse,i===wP||i instanceof Array&&r===wP.reverse?_P:r).call(e));try{for(o.s();!(n=o.n()).done;)(0,n.value)()}catch(s){o.e(s)}finally{o.f()}},$I.prototype.activate=function(){$I.current&&$I.current.deactivate(),$I.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},$I.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},$I.prototype._onTapOverlay=function(e){this.activate(),e.srcEvent.stopPropagation()};var GI=ox("Reflect","construct"),YI=qS(function(){function e(){}return!(GI(function(){},[],e)instanceof e)}),XI=!qS(function(){GI(function(){})}),KI=YI||XI;Pk({target:"Reflect",stat:!0,forced:KI,sham:KI},{construct:function(e,t){wk(e),Sk(t);var n=arguments.length<3?e:wk(arguments[2]);if(XI&&!YI)return GI(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var i=[null];return i.push.apply(i,t),new(Vx.apply(e,i))}var r=n.prototype,o=EE(ik(r)?r:Object.prototype),s=Function.apply.call(e,o,t);return ik(s)?s:o}});var ZI=_k.Reflect.construct,QI=ex("Array").entries,JI=Array.prototype,eA={DOMTokenList:!0,NodeList:!0},tA=HS(function(e){var t=function(e){var t=Object.prototype,n=t.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function a(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{a({},"")}catch(E){a=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var r=Object.create((t&&t.prototype instanceof d?t:d).prototype),o=new S(i||[]);return r._invoke=function(e,t,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return{value:void 0,done:!0}}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var a=_(s,n);if(a){if(a===h)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var c=l(e,t,n);if("normal"===c.type){if(i=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i="completed",n.method="throw",n.arg=c.arg)}}}(e,n,o),r}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(E){return{type:"throw",arg:E}}}e.wrap=c;var h={};function d(){}function u(){}function p(){}var f={};f[r]=function(){return this};var m=Object.getPrototypeOf,g=m&&m(m(k([])));g&&g!==t&&n.call(g,r)&&(f=g);var v=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach(function(t){a(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){function i(r,o,s,a){var c=l(e[r],e,o);if("throw"!==c.type){var h=c.arg,d=h.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then(function(e){i("next",e,s,a)},function(e){i("throw",e,s,a)}):t.resolve(d).then(function(e){h.value=e,s(h)},function(e){return i("throw",e,s,a)})}a(c.arg)}var r;this._invoke=function(e,n){function o(){return new t(function(t,r){i(e,n,t,r)})}return r=r?r.then(o,o):o()}}function _(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var i=l(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var r=i.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function k(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return u.prototype=v.constructor=p,p.constructor=u,u.displayName=a(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===u||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,a(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(b.prototype),b.prototype[o]=function(){return this},e.AsyncIterator=b,e.async=function(t,n,i,r,o){void 0===o&&(o=Promise);var s=new b(c(t,n,i,r),o);return e.isGeneratorFunction(n)?s:s.next().then(function(e){return e.done?e.value:s.next()})},y(v),a(v,s,"Generator"),v[r]=function(){return this},v.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=k,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return s.type="throw",s.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var a=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(a&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;C(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}(e.exports);try{regeneratorRuntime=t}catch(n){Function("r","regeneratorRuntime = r")(t)}}),nA=nR,iA=ex("Array").values,rA=Array.prototype,oA={DOMTokenList:!0,NodeList:!0},sA=function(e){var t=e.values;return e===rA||e instanceof Array&&t===rA.values||oA.hasOwnProperty(BE(e))?iA:t},aA=[],cA=aA.sort,lA=qS(function(){aA.sort(void 0)}),hA=qS(function(){aA.sort(null)}),dA=Ix("sort");Pk({target:"Array",proto:!0,forced:lA||!hA||!dA},{sort:function(e){return void 0===e?cA.call(jk(this)):cA.call(jk(this),wk(e))}});var uA=ex("Array").sort,pA=Array.prototype,fA=function(e){var t=e.sort;return e===pA||e instanceof Array&&t===pA.sort?uA:t},mA=ex("Array").keys,gA=Array.prototype,vA={DOMTokenList:!0,NodeList:!0},yA=function(e){var t=e.keys;return e===gA||e instanceof Array&&t===gA.keys||vA.hasOwnProperty(BE(e))?mA:t},bA=ix.some,_A=Ix("some"),wA=gx("some");Pk({target:"Array",proto:!0,forced:!_A||!wA},{some:function(e){return bA(this,e,arguments.length>1?arguments[1]:void 0)}});var CA=ex("Array").some,SA=Array.prototype,kA=!qS(function(){return Object.isExtensible(Object.preventExtensions({}))}),xA=HS(function(e){var t=xk.f,n=Uk("meta"),i=0,r=Object.isExtensible||function(){return!0},o=function(e){t(e,n,{value:{objectID:"O"+ ++i,weakData:{}}})},s=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!ik(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!sk(e,n)){if(!r(e))return"F";if(!t)return"E";o(e)}return e[n].objectID},getWeakData:function(e,t){if(!sk(e,n)){if(!r(e))return!0;if(!t)return!1;o(e)}return e[n].weakData},onFreeze:function(e){return kA&&s.REQUIRED&&r(e)&&!sk(e,n)&&o(e),e}};nE[n]=!0}),EA=function(e,t){this.stopped=e,this.result=t},OA=function(e,t,n){var i,r,o,s,a,c,l,h=!(!n||!n.AS_ENTRIES),d=!(!n||!n.IS_ITERATOR),u=!(!n||!n.INTERRUPTED),p=Ck(t,n&&n.that,1+h+u),f=function(e){return i&&lT(i),new EA(!0,e)},m=function(e){return h?(Sk(e),u?p(e[0],e[1],f):p(e[0],e[1])):u?p(e,f):p(e)};if(d)i=e;else{if("function"!=typeof(r=sT(e)))throw TypeError("Target is not iterable");if(pT(r)){for(o=0,s=Nk(e.length);s>o;o++)if((a=m(e[o]))&&a instanceof EA)return a;return new EA(!1)}i=r.call(e)}for(c=i.next;!(l=c.call(i)).done;){try{a=m(l.value)}catch(aK){throw lT(i),aK}if("object"==typeof a&&a&&a instanceof EA)return a}return new EA(!1)},TA=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e},PA=xk.f,RA=ix.forEach,IA=eO.set,AA=eO.getterFor,DA=function(e,t,n){var i,r=-1!==e.indexOf("Map"),o=-1!==e.indexOf("Weak"),s=r?"set":"add",a=WS[e],c=a&&a.prototype,l={};if($S&&"function"==typeof a&&(o||c.forEach&&!qS(function(){(new a).entries().next()}))){i=t(function(t,n){IA(TA(t,i,e),{type:e,collection:new a}),null!=n&&OA(n,t[s],{that:t,AS_ENTRIES:r})});var h=AA(e);RA(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(e){var t="add"==e||"set"==e;!(e in c)||o&&"clear"==e||Ek(i.prototype,e,function(n,i){var r=h(this).collection;if(!t&&o&&!ik(n))return"get"==e&&void 0;var s=r[e](0===n?0:n,i);return t?this:s})}),o||PA(i.prototype,"size",{configurable:!0,get:function(){return h(this).collection.size}})}else i=n.getConstructor(t,e,r,s),xA.REQUIRED=!0;return UE(i,e,!1,!0),l[e]=i,Pk({global:!0,forced:!0},l),o||n.setStrong(i,e,r),i},MA=function(e,t,n){for(var i in t)n&&n.unsafe&&e[i]?e[i]=t[i]:IE(e,i,t[i],n);return e},NA=Xk("species"),FA=xk.f,LA=xA.fastKey,jA=eO.set,BA=eO.getterFor,zA={getConstructor:function(e,t,n,i){var r=e(function(e,o){TA(e,r,t),jA(e,{type:t,index:EE(null),first:void 0,last:void 0,size:0}),$S||(e.size=0),null!=o&&OA(o,e[i],{that:e,AS_ENTRIES:n})}),o=BA(t),s=function(e,t,n){var i,r,s=o(e),c=a(e,t);return c?c.value=n:(s.last=c={index:r=LA(t,!0),key:t,value:n,previous:i=s.last,next:void 0,removed:!1},s.first||(s.first=c),i&&(i.next=c),$S?s.size++:e.size++,"F"!==r&&(s.index[r]=c)),e},a=function(e,t){var n,i=o(e),r=LA(t);if("F"!==r)return i.index[r];for(n=i.first;n;n=n.next)if(n.key==t)return n};return MA(r.prototype,{clear:function(){for(var e=o(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,$S?e.size=0:this.size=0},delete:function(e){var t=o(this),n=a(this,e);if(n){var i=n.next,r=n.previous;delete t.index[n.index],n.removed=!0,r&&(r.next=i),i&&(i.previous=r),t.first==n&&(t.first=i),t.last==n&&(t.last=r),$S?t.size--:this.size--}return!!n},forEach:function(e){for(var t,n=o(this),i=Ck(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(i(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!a(this,e)}}),MA(r.prototype,n?{get:function(e){var t=a(this,e);return t&&t.value},set:function(e,t){return s(this,0===e?0:e,t)}}:{add:function(e){return s(this,e=0===e?0:e,e)}}),$S&&FA(r.prototype,"size",{get:function(){return o(this).size}}),r},setStrong:function(e,t,n){var i=t+" Iterator",r=BA(t),o=BA(i);YO(e,t,function(e,t){jA(this,{type:i,target:e,state:r(e),kind:t,last:void 0})},function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})},n?"entries":"values",!n,!0),function(e){var t=ox(e);$S&&t&&!t[NA]&&(0,xk.f)(t,NA,{configurable:!0,get:function(){return this}})}(t)}},VA=(DA("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},zA),_k.Map),HA=AT;Pk({target:"Object",stat:!0},{setPrototypeOf:UO});var UA,WA=_k.Object.setPrototypeOf,qA=HS(function(e){function t(n,i){return e.exports=t=WA||function(e,t){return e.__proto__=t,e},t(n,i)}e.exports=t}),$A=function(e,t){return!t||"object"!==rR(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t},GA=tP,YA=HS(function(e){function t(n){return e.exports=t=WA?GA:function(e){return e.__proto__||GA(e)},t(n)}e.exports=t}),XA=new Uint8Array(16);function KA(){if(!UA&&!(UA="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return UA(XA)}var ZA=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function QA(e){return"string"==typeof e&&ZA.test(e)}for(var JA=[],eD=0;eD<256;++eD)JA.push((eD+256).toString(16).substr(1));function tD(e,t,n){var i=(e=e||{}).random||(e.rng||KA)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){n=n||0;for(var r=0;r<16;++r)t[n+r]=i[r];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(JA[e[t+0]]+JA[e[t+1]]+JA[e[t+2]]+JA[e[t+3]]+"-"+JA[e[t+4]]+JA[e[t+5]]+"-"+JA[e[t+6]]+JA[e[t+7]]+"-"+JA[e[t+8]]+JA[e[t+9]]+"-"+JA[e[t+10]]+JA[e[t+11]]+JA[e[t+12]]+JA[e[t+13]]+JA[e[t+14]]+JA[e[t+15]]).toLowerCase();if(!QA(n))throw TypeError("Stringified UUID is invalid");return n}(i)}function nD(e){return"string"==typeof e||"number"==typeof e}var iD=function(){function e(t){qx(this,e),this._queue=[],this._timeout=null,this._extended=null,this.delay=null,this.max=1/0,this.setOptions(t)}return Xx(e,[{key:"setOptions",value:function(e){e&&void 0!==e.delay&&(this.delay=e.delay),e&&void 0!==e.max&&(this.max=e.max),this._flushIfNeeded()}},{key:"destroy",value:function(){if(this.flush(),this._extended){for(var e=this._extended.object,t=this._extended.methods,n=0;n<t.length;n++){var i=t[n];i.original?e[i.name]=i.original:delete e[i.name]}this._extended=null}}},{key:"replace",value:function(e,t){var n=this,i=e[t];if(!i)throw new Error("Method "+t+" undefined");e[t]=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.queue({args:t,fn:i,context:this})}}},{key:"queue",value:function(e){this._queue.push("function"==typeof e?{fn:e}:e),this._flushIfNeeded()}},{key:"_flushIfNeeded",value:function(){var e=this;this._queue.length>this.max&&this.flush(),null!=this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&"number"==typeof this.delay&&(this._timeout=kT(function(){e.flush()},this.delay))}},{key:"flush",value:function(){var e,t;PP(e=vP(t=this._queue).call(t,0)).call(e,function(e){e.fn.apply(e.context||e.fn,e.args||[])})}}],[{key:"extend",value:function(t,n){var i=new e(n);if(void 0!==t.flush)throw new Error("Target object already has a property flush");t.flush=function(){i.flush()};var r=[{name:"flush",original:void 0}];if(n&&n.replace)for(var o=0;o<n.replace.length;o++){var s=n.replace[o];r.push({name:s,original:t[s]}),i.replace(t,s)}return i._extended={object:t,methods:r},i}}]),e}(),rD=function(){function e(){qx(this,e),this._subscribers={"*":[],add:[],remove:[],update:[]},this.subscribe=e.prototype.on,this.unsubscribe=e.prototype.off}return Xx(e,[{key:"_trigger",value:function(e,t,n){var i,r;if("*"===e)throw new Error("Cannot trigger event *");PP(i=hR(r=[]).call(r,aR(this._subscribers[e]),aR(this._subscribers["*"]))).call(i,function(i){i(e,t,null!=n?n:null)})}},{key:"on",value:function(e,t){"function"==typeof t&&this._subscribers[e].push(t)}},{key:"off",value:function(e,t){var n;this._subscribers[e]=Tx(n=this._subscribers[e]).call(n,function(e){return e!==t})}}]),e}(),oD=(DA("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},zA),_k.Set);function sD(e,t){var n;if(void 0===dR||null==cT(e)){if(tR(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return aD(e,void 0);var i=sR(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?_T(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?aD(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=aT(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function aD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var cD=function(){function e(t){qx(this,e),this._pairs=t}return Xx(e,[{key:nA,value:tA.mark(function e(){var t,n,i,r,o;return tA.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=sD(this._pairs),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return i=QP(n.value,2),r=i[0],o=i[1],e.next=7,[r,o];case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}},e,this,[[1,11,14,17]])})},{key:"entries",value:tA.mark(function e(){var t,n,i,r,o;return tA.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=sD(this._pairs),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return i=QP(n.value,2),r=i[0],o=i[1],e.next=7,[r,o];case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}},e,this,[[1,11,14,17]])})},{key:"keys",value:tA.mark(function e(){var t,n,i,r;return tA.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=sD(this._pairs),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return i=QP(n.value,1),r=i[0],e.next=7,r;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}},e,this,[[1,11,14,17]])})},{key:"values",value:tA.mark(function e(){var t,n,i,r;return tA.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=sD(this._pairs),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return i=QP(n.value,2),r=i[1],e.next=7,r;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}},e,this,[[1,11,14,17]])})},{key:"toIdArray",value:function(){var e;return Cx(e=aR(this._pairs)).call(e,function(e){return e[0]})}},{key:"toItemArray",value:function(){var e;return Cx(e=aR(this._pairs)).call(e,function(e){return e[1]})}},{key:"toEntryArray",value:function(){return aR(this._pairs)}},{key:"toObjectMap",value:function(){var e,t=DT(null),n=sD(this._pairs);try{for(n.s();!(e=n.n()).done;){var i=QP(e.value,2);t[i[0]]=i[1]}}catch(r){n.e(r)}finally{n.f()}return t}},{key:"toMap",value:function(){return new VA(this._pairs)}},{key:"toIdSet",value:function(){return new oD(this.toIdArray())}},{key:"toItemSet",value:function(){return new oD(this.toItemArray())}},{key:"cache",value:function(){return new e(aR(this._pairs))}},{key:"distinct",value:function(e){var t,n=new oD,i=sD(this._pairs);try{for(i.s();!(t=i.n()).done;){var r=QP(t.value,2);n.add(e(r[1],r[0]))}}catch(o){i.e(o)}finally{i.f()}return n}},{key:"filter",value:function(t){var n=this._pairs;return new e(MT({},nA,tA.mark(function e(){var i,r,o,s,a;return tA.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=sD(n),e.prev=1,i.s();case 3:if((r=i.n()).done){e.next=10;break}if(o=QP(r.value,2),!t(a=o[1],s=o[0])){e.next=8;break}return e.next=8,[s,a];case 8:e.next=3;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),i.e(e.t0);case 15:return e.prev=15,i.f(),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[1,12,15,18]])})))}},{key:"forEach",value:function(e){var t,n=sD(this._pairs);try{for(n.s();!(t=n.n()).done;){var i=QP(t.value,2);e(i[1],i[0])}}catch(r){n.e(r)}finally{n.f()}}},{key:"map",value:function(t){var n=this._pairs;return new e(MT({},nA,tA.mark(function e(){var i,r,o,s,a;return tA.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=sD(n),e.prev=1,i.s();case 3:if((r=i.n()).done){e.next=9;break}return o=QP(r.value,2),s=o[0],a=o[1],e.next=7,[s,t(a,s)];case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),i.e(e.t0);case 14:return e.prev=14,i.f(),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[1,11,14,17]])})))}},{key:"max",value:function(e){var t=aT(this._pairs),n=t.next();if(n.done)return null;for(var i=n.value[1],r=e(n.value[1],n.value[0]);!(n=t.next()).done;){var o=QP(n.value,2),s=o[1],a=e(s,o[0]);a>r&&(r=a,i=s)}return i}},{key:"min",value:function(e){var t=aT(this._pairs),n=t.next();if(n.done)return null;for(var i=n.value[1],r=e(n.value[1],n.value[0]);!(n=t.next()).done;){var o=QP(n.value,2),s=o[1],a=e(s,o[0]);a<r&&(r=a,i=s)}return i}},{key:"reduce",value:function(e,t){var n,i=sD(this._pairs);try{for(i.s();!(n=i.n()).done;){var r=QP(n.value,2);t=e(t,r[1],r[0])}}catch(o){i.e(o)}finally{i.f()}return t}},{key:"sort",value:function(t){var n=this;return new e(MT({},nA,function(){var e;return aT(fA(e=aR(n._pairs)).call(e,function(e,n){var i=QP(e,2),r=i[0],o=i[1],s=QP(n,2);return t(o,s[1],r,s[0])}))}))}}]),e}();function lD(e,t){var n=eR(e);if(DO){var i=DO(e);t&&(i=Tx(i).call(i,function(t){return yE(e,t).enumerable})),n.push.apply(n,i)}return n}function hD(e){for(var t=1;t<arguments.length;t++){var n,i=null!=arguments[t]?arguments[t]:{};if(t%2)PP(n=lD(Object(i),!0)).call(n,function(t){MT(e,t,i[t])});else if(fE)cE(e,fE(i));else{var r;PP(r=lD(Object(i))).call(r,function(t){Kx(e,t,yE(i,t))})}}return e}function dD(e,t){var n;if(void 0===dR||null==cT(e)){if(tR(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return uD(e,void 0);var i=sR(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?_T(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?uD(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=aT(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function uD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var pD=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=HA(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qA(e,t)}(r,e);var t,n,i=(t=r,n=function(){if("undefined"==typeof Reflect||!ZI)return!1;if(ZI.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(ZI(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,i=YA(t);if(n){var r=YA(this).constructor;e=ZI(i,arguments,r)}else e=i.apply(this,arguments);return $A(this,e)});function r(e,t){var n;return qx(this,r),(n=i.call(this))._queue=null,e&&!tR(e)&&(t=e,e=[]),n._options=t||{},n._data=new VA,n.length=0,n._idProp=n._options.fieldId||"id",e&&e.length&&n.add(e),n.setOptions(t),n}return Xx(r,[{key:"setOptions",value:function(e){e&&void 0!==e.queue&&(!1===e.queue?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=iD.extend(this,{replace:["add","update","remove"]})),e.queue&&"object"===rR(e.queue)&&this._queue.setOptions(e.queue)))}},{key:"add",value:function(e,t){var n,i,r,o=this,s=[];if(tR(e)){var a=Cx(e).call(e,function(e){return e[o._idProp]});if((i=a,r=i.some,i===SA||i instanceof Array&&r===SA.some?CA:r).call(a,function(e){return o._data.has(e)}))throw new Error("A duplicate id was found in the parameter array.");for(var c=0,l=e.length;c<l;c++)n=this._addItem(e[c]),s.push(n)}else{if(!e||"object"!==rR(e))throw new Error("Unknown dataType");n=this._addItem(e),s.push(n)}return s.length&&this._trigger("add",{items:s},t),s}},{key:"update",value:function(e,t){var n=this,i=[],r=[],o=[],s=[],a=this._idProp,c=function(e){var t=e[a];if(null!=t&&n._data.has(t)){var c=e,l=hP({},n._data.get(t)),h=n._updateItem(c);r.push(h),s.push(c),o.push(l)}else{var d=n._addItem(e);i.push(d)}};if(tR(e))for(var l=0,h=e.length;l<h;l++)e[l]&&"object"===rR(e[l])?c(e[l]):console.warn("Ignoring input item, which is not an object at index "+l);else{if(!e||"object"!==rR(e))throw new Error("Unknown dataType");c(e)}return i.length&&this._trigger("add",{items:i},t),r.length&&this._trigger("update",{items:r,oldData:o,data:s},t),hR(i).call(i,r)}},{key:"updateOnly",value:function(e,t){var n,i=this;tR(e)||(e=[e]);var r=Cx(n=Cx(e).call(e,function(e){var t=i._data.get(e[i._idProp]);if(null==t)throw new Error("Updating non-existent items is not allowed.");return{oldData:t,update:e}})).call(n,function(e){var t=e.oldData,n=t[i._idProp],r=function(e){for(var t,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return VI.apply(void 0,hR(t=[{},e]).call(t,i))}(t,e.update);return i._data.set(n,r),{id:n,oldData:t,updatedData:r}});if(r.length){var o={items:Cx(r).call(r,function(e){return e.id}),oldData:Cx(r).call(r,function(e){return e.oldData}),data:Cx(r).call(r,function(e){return e.updatedData})};return this._trigger("update",o,t),o.items}return[]}},{key:"get",value:function(e,t){var n=void 0,i=void 0,r=void 0;nD(e)?(n=e,r=t):tR(e)?(i=e,r=t):r=e;var o,s=r&&"Object"===r.returnType?"Object":"Array",a=r&&Tx(r),c=[],l=void 0,h=void 0;if(null!=n)(l=this._data.get(n))&&a&&!a(l)&&(l=void 0);else if(null!=i)for(var d=0,u=i.length;d<u;d++)null==(l=this._data.get(i[d]))||a&&!a(l)||c.push(l);else for(var p,f=0,m=(h=aR(yA(p=this._data).call(p))).length;f<m;f++)null==(l=this._data.get(h[f]))||a&&!a(l)||c.push(l);if(r&&r.order&&null==n&&this._sort(c,r.order),r&&r.fields){var g=r.fields;if(null!=n&&null!=l)l=this._filterFields(l,g);else for(var v=0,y=c.length;v<y;v++)c[v]=this._filterFields(c[v],g)}if("Object"==s){for(var b={},_=0,w=c.length;_<w;_++){var C=c[_];b[C[this._idProp]]=C}return b}return null!=n?null!==(o=l)&&void 0!==o?o:null:c}},{key:"getIds",value:function(e){var t=this._data,n=e&&Tx(e),i=e&&e.order,r=aR(yA(t).call(t)),o=[];if(n)if(i){for(var s=[],a=0,c=r.length;a<c;a++){var l=this._data.get(r[a]);null!=l&&n(l)&&s.push(l)}this._sort(s,i);for(var h=0,d=s.length;h<d;h++)o.push(s[h][this._idProp])}else for(var u=0,p=r.length;u<p;u++){var f=this._data.get(r[u]);null!=f&&n(f)&&o.push(f[this._idProp])}else if(i){for(var m=[],g=0,v=r.length;g<v;g++)m.push(t.get(r[g]));this._sort(m,i);for(var y=0,b=m.length;y<b;y++)o.push(m[y][this._idProp])}else for(var _=0,w=r.length;_<w;_++){var C=t.get(r[_]);null!=C&&o.push(C[this._idProp])}return o}},{key:"getDataSet",value:function(){return this}},{key:"forEach",value:function(e,t){var n=t&&Tx(t),i=this._data,r=aR(yA(i).call(i));if(t&&t.order)for(var o=this.get(t),s=0,a=o.length;s<a;s++){var c=o[s];e(c,c[this._idProp])}else for(var l=0,h=r.length;l<h;l++){var d=r[l],u=this._data.get(d);null==u||n&&!n(u)||e(u,d)}}},{key:"map",value:function(e,t){for(var n=t&&Tx(t),i=[],r=this._data,o=aR(yA(r).call(r)),s=0,a=o.length;s<a;s++){var c=o[s],l=this._data.get(c);null==l||n&&!n(l)||i.push(e(l,c))}return t&&t.order&&this._sort(i,t.order),i}},{key:"_filterFields",value:function(e,t){var n,i,r;return e?(i=n=tR(t)?t:eR(t),r=i.reduce,i===Lx||i instanceof Array&&r===Lx.reduce?Fx:r).call(n,function(t,n){return t[n]=e[n],t},{}):e}},{key:"_sort",value:function(e,t){if("string"==typeof t){var n=t;fA(e).call(e,function(e,t){var i=e[n],r=t[n];return i>r?1:i<r?-1:0})}else{if("function"!=typeof t)throw new TypeError("Order must be a function or a string");fA(e).call(e,t)}}},{key:"remove",value:function(e,t){for(var n=[],i=[],r=tR(e)?e:[e],o=0,s=r.length;o<s;o++){var a=this._remove(r[o]);if(a){var c=a[this._idProp];null!=c&&(n.push(c),i.push(a))}}return n.length&&this._trigger("remove",{items:n,oldData:i},t),n}},{key:"_remove",value:function(e){var t;if(nD(e)?t=e:e&&"object"===rR(e)&&(t=e[this._idProp]),null!=t&&this._data.has(t)){var n=this._data.get(t)||null;return this._data.delete(t),--this.length,n}return null}},{key:"clear",value:function(e){for(var t,n=aR(yA(t=this._data).call(t)),i=[],r=0,o=n.length;r<o;r++)i.push(this._data.get(n[r]));return this._data.clear(),this.length=0,this._trigger("remove",{items:n,oldData:i},e),n}},{key:"max",value:function(e){var t,n,i=null,r=null,o=dD(sA(t=this._data).call(t));try{for(o.s();!(n=o.n()).done;){var s=n.value,a=s[e];"number"==typeof a&&(null==r||a>r)&&(i=s,r=a)}}catch(c){o.e(c)}finally{o.f()}return i||null}},{key:"min",value:function(e){var t,n,i=null,r=null,o=dD(sA(t=this._data).call(t));try{for(o.s();!(n=o.n()).done;){var s=n.value,a=s[e];"number"==typeof a&&(null==r||a<r)&&(i=s,r=a)}}catch(c){o.e(c)}finally{o.f()}return i||null}},{key:"distinct",value:function(e){for(var t=this._data,n=aR(yA(t).call(t)),i=[],r=0,o=0,s=n.length;o<s;o++){for(var a=t.get(n[o])[e],c=!1,l=0;l<r;l++)if(i[l]==a){c=!0;break}c||void 0===a||(i[r]=a,r++)}return i}},{key:"_addItem",value:function(e){var t=function(e,t){return null==e[t]&&(e[t]=tD()),e}(e,this._idProp),n=t[this._idProp];if(this._data.has(n))throw new Error("Cannot add item: item with id "+n+" already exists");return this._data.set(n,t),++this.length,n}},{key:"_updateItem",value:function(e){var t=e[this._idProp];if(null==t)throw new Error("Cannot update item: item has no id (item: "+function(e,t,n){return _k.JSON.stringify.apply(null,arguments)}(e)+")");var n=this._data.get(t);if(!n)throw new Error("Cannot update item: no item with id "+t+" found");return this._data.set(t,hD(hD({},n),e)),t}},{key:"stream",value:function(e){if(e){var t=this._data;return new cD(MT({},nA,tA.mark(function n(){var i,r,o,s;return tA.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:i=dD(e),n.prev=1,i.s();case 3:if((r=i.n()).done){n.next=11;break}if(null==(s=t.get(o=r.value))){n.next=9;break}return n.next=9,[o,s];case 9:n.next=3;break;case 11:n.next=16;break;case 13:n.prev=13,n.t0=n.catch(1),i.e(n.t0);case 16:return n.prev=16,i.f(),n.finish(16);case 19:case"end":return n.stop()}},n,null,[[1,13,16,19]])})))}var n,i,r;return new cD(MT({},nA,Wx((i=this._data,r=i.entries,n=i===JI||i instanceof Array&&r===JI.entries||eA.hasOwnProperty(BE(i))?QI:r)).call(n,this._data)))}},{key:"idProp",get:function(){return this._idProp}}]),r}(rD);function fD(e,t){return"object"===rR(t)&&null!==t&&e===t.idProp&&"function"==typeof PP(t)&&"function"==typeof t.get&&"function"==typeof t.getDataSet&&"function"==typeof t.getIds&&"number"==typeof t.length&&"function"==typeof Cx(t)&&"function"==typeof t.off&&"function"==typeof t.on&&"function"==typeof t.stream&&function(e,t){return"object"===rR(t)&&null!==t&&e===t.idProp&&"function"==typeof t.add&&"function"==typeof t.clear&&"function"==typeof t.distinct&&"function"==typeof PP(t)&&"function"==typeof t.get&&"function"==typeof t.getDataSet&&"function"==typeof t.getIds&&"number"==typeof t.length&&"function"==typeof Cx(t)&&"function"==typeof t.max&&"function"==typeof t.min&&"function"==typeof t.off&&"function"==typeof t.on&&"function"==typeof t.remove&&"function"==typeof t.setOptions&&"function"==typeof t.stream&&"function"==typeof t.update&&"function"==typeof t.updateOnly}(e,t.getDataSet())}var mD="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function gD(e){var t={exports:{}};return e(t,t.exports),t.exports}var vD=function(e){return e&&e.Math==Math&&e},yD=vD("object"==typeof globalThis&&globalThis)||vD("object"==typeof window&&window)||vD("object"==typeof self&&self)||vD("object"==typeof mD&&mD)||function(){return this}()||Function("return this")(),bD=function(e){try{return!!e()}catch(aK){return!0}},_D=!bD(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),wD={}.propertyIsEnumerable,CD=Object.getOwnPropertyDescriptor,SD={f:CD&&!wD.call({1:2},1)?function(e){var t=CD(this,e);return!!t&&t.enumerable}:wD},kD=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},xD={}.toString,ED=function(e){return xD.call(e).slice(8,-1)},OD="".split,TD=bD(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==ED(e)?OD.call(e,""):Object(e)}:Object,PD=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},RD=function(e){return TD(PD(e))},ID=function(e){return"object"==typeof e?null!==e:"function"==typeof e},AD=function(e,t){if(!ID(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!ID(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!ID(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!ID(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")},DD={}.hasOwnProperty,MD=function(e,t){return DD.call(e,t)},ND=yD.document,FD=ID(ND)&&ID(ND.createElement),LD=function(e){return FD?ND.createElement(e):{}},jD=!_D&&!bD(function(){return 7!=Object.defineProperty(LD("div"),"a",{get:function(){return 7}}).a}),BD=Object.getOwnPropertyDescriptor,zD={f:_D?BD:function(e,t){if(e=RD(e),t=AD(t,!0),jD)try{return BD(e,t)}catch(aK){}if(MD(e,t))return kD(!SD.f.call(e,t),e[t])}},VD=/#|\.prototype\./,HD=function(e,t){var n=WD[UD(e)];return n==$D||n!=qD&&("function"==typeof t?bD(t):!!t)},UD=HD.normalize=function(e){return String(e).replace(VD,".").toLowerCase()},WD=HD.data={},qD=HD.NATIVE="N",$D=HD.POLYFILL="P",GD=HD,YD={},XD=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},KD=function(e,t,n){if(XD(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}},ZD=function(e){if(!ID(e))throw TypeError(String(e)+" is not an object");return e},QD=Object.defineProperty,JD={f:_D?QD:function(e,t,n){if(ZD(e),t=AD(t,!0),ZD(n),jD)try{return QD(e,t,n)}catch(aK){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},eM=_D?function(e,t,n){return JD.f(e,t,kD(1,n))}:function(e,t,n){return e[t]=n,e},tM=zD.f,nM=function(e){var t=function(t,n,i){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,i)}return e.apply(this,arguments)};return t.prototype=e.prototype,t},iM=function(e,t){var n,i,r,o,s,a,c,l,h=e.target,d=e.global,u=e.stat,p=e.proto,f=d?yD:u?yD[h]:(yD[h]||{}).prototype,m=d?YD:YD[h]||(YD[h]={}),g=m.prototype;for(r in t)n=!GD(d?r:h+(u?".":"#")+r,e.forced)&&f&&MD(f,r),s=m[r],n&&(a=e.noTargetGet?(l=tM(f,r))&&l.value:f[r]),o=n&&a?a:t[r],n&&typeof s==typeof o||(c=e.bind&&n?KD(o,yD):e.wrap&&n?nM(o):p&&"function"==typeof o?KD(Function.call,o):o,(e.sham||o&&o.sham||s&&s.sham)&&eM(c,"sham",!0),m[r]=c,p&&(MD(YD,i=h+"Prototype")||eM(YD,i,{}),YD[i][r]=o,e.real&&g&&!g[r]&&eM(g,r,o)))},rM=[].slice,oM={},sM=function(e,t,n){if(!(t in oM)){for(var i=[],r=0;r<t;r++)i[r]="a["+r+"]";oM[t]=Function("C,a","return new C("+i.join(",")+")")}return oM[t](e,n)},aM=Function.bind||function(e){var t=XD(this),n=rM.call(arguments,1),i=function(){var r=n.concat(rM.call(arguments));return this instanceof i?sM(t,r.length,r):t.apply(e,r)};return ID(t.prototype)&&(i.prototype=t.prototype),i};iM({target:"Function",proto:!0},{bind:aM});var cM=function(e){return YD[e+"Prototype"]},lM=cM("Function").bind,hM=Function.prototype,dM=function(e){var t=e.bind;return e===hM||e instanceof Function&&t===hM.bind?lM:t},uM=Math.ceil,pM=Math.floor,fM=function(e){return isNaN(e=+e)?0:(e>0?pM:uM)(e)},mM=Math.min,gM=function(e){return e>0?mM(fM(e),9007199254740991):0},vM=Math.max,yM=Math.min,bM=function(e,t){var n=fM(e);return n<0?vM(n+t,0):yM(n,t)},_M=function(e){return function(t,n,i){var r,o=RD(t),s=gM(o.length),a=bM(i,s);if(e&&n!=n){for(;s>a;)if((r=o[a++])!=r)return!0}else for(;s>a;a++)if((e||a in o)&&o[a]===n)return e||a||0;return!e&&-1}},wM={includes:_M(!0),indexOf:_M(!1)},CM={},SM=wM.indexOf,kM=function(e,t){var n,i=RD(e),r=0,o=[];for(n in i)!MD(CM,n)&&MD(i,n)&&o.push(n);for(;t.length>r;)MD(i,n=t[r++])&&(~SM(o,n)||o.push(n));return o},xM=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],EM=Object.keys||function(e){return kM(e,xM)},OM={f:Object.getOwnPropertySymbols},TM=function(e){return Object(PD(e))},PM=Object.assign,RM=Object.defineProperty,IM=!PM||bD(function(){if(_D&&1!==PM({b:1},PM(RM({},"a",{enumerable:!0,get:function(){RM(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach(function(e){t[e]=e}),7!=PM({},e)[n]||"abcdefghijklmnopqrst"!=EM(PM({},t)).join("")})?function(e,t){for(var n=TM(e),i=arguments.length,r=1,o=OM.f,s=SD.f;i>r;)for(var a,c=TD(arguments[r++]),l=o?EM(c).concat(o(c)):EM(c),h=l.length,d=0;h>d;)a=l[d++],_D&&!s.call(c,a)||(n[a]=c[a]);return n}:PM;iM({target:"Object",stat:!0,forced:Object.assign!==IM},{assign:IM});var AM=YD.Object.assign;function DM(e,t,n,i){e.beginPath(),e.arc(t,n,i,0,2*Math.PI,!1),e.closePath()}function MM(e,t,n,i,r,o){var s=Math.PI/180;i-2*o<0&&(o=i/2),r-2*o<0&&(o=r/2),e.beginPath(),e.moveTo(t+o,n),e.lineTo(t+i-o,n),e.arc(t+i-o,n+o,o,270*s,360*s,!1),e.lineTo(t+i,n+r-o),e.arc(t+i-o,n+r-o,o,0,90*s,!1),e.lineTo(t+o,n+r),e.arc(t+o,n+r-o,o,90*s,180*s,!1),e.lineTo(t,n+o),e.arc(t+o,n+o,o,180*s,270*s,!1),e.closePath()}function NM(e,t,n,i,r){var o=i/2*.5522848,s=r/2*.5522848,a=t+i,c=n+r,l=t+i/2,h=n+r/2;e.beginPath(),e.moveTo(t,h),e.bezierCurveTo(t,h-s,l-o,n,l,n),e.bezierCurveTo(l+o,n,a,h-s,a,h),e.bezierCurveTo(a,h+s,l+o,c,l,c),e.bezierCurveTo(l-o,c,t,h+s,t,h),e.closePath()}function FM(e,t,n,i,r){var o=r*(1/3),s=i/2*.5522848,a=o/2*.5522848,c=t+i,l=n+o,h=t+i/2,d=n+o/2,u=n+(r-o/2),p=n+r;e.beginPath(),e.moveTo(c,d),e.bezierCurveTo(c,d+a,h+s,l,h,l),e.bezierCurveTo(h-s,l,t,d+a,t,d),e.bezierCurveTo(t,d-a,h-s,n,h,n),e.bezierCurveTo(h+s,n,c,d-a,c,d),e.lineTo(c,u),e.bezierCurveTo(c,u+a,h+s,p,h,p),e.bezierCurveTo(h-s,p,t,u+a,t,u),e.lineTo(t,d)}function LM(e,t,n,i,r,o){e.beginPath(),e.moveTo(t,n);for(var s=o.length,a=i-t,c=r-n,l=c/a,h=Math.sqrt(a*a+c*c),d=0,u=!0,p=0,f=+o[0];h>=.1;)(f=+o[d++%s])>h&&(f=h),p=Math.sqrt(f*f/(1+l*l)),t+=p=a<0?-p:p,n+=l*p,!0===u?e.lineTo(t,n):e.moveTo(t,n),h-=f,u=!u}var jM={circle:DM,dashedLine:LM,database:FM,diamond:function(e,t,n,i){e.beginPath(),e.lineTo(t,n+i),e.lineTo(t+i,n),e.lineTo(t,n-i),e.lineTo(t-i,n),e.closePath()},ellipse:NM,ellipse_vis:NM,hexagon:function(e,t,n,i){e.beginPath();var r=2*Math.PI/6;e.moveTo(t+i,n);for(var o=1;o<6;o++)e.lineTo(t+i*Math.cos(r*o),n+i*Math.sin(r*o));e.closePath()},roundRect:MM,square:function(e,t,n,i){e.beginPath(),e.rect(t-i,n-i,2*i,2*i),e.closePath()},star:function(e,t,n,i){e.beginPath(),n+=.1*(i*=.82);for(var r=0;r<10;r++){var o=r%2==0?1.3*i:.5*i;e.lineTo(t+o*Math.sin(2*r*Math.PI/10),n-o*Math.cos(2*r*Math.PI/10))}e.closePath()},triangle:function(e,t,n,i){e.beginPath(),n+=.275*(i*=1.15);var r=2*i,o=r/2,s=Math.sqrt(3)/6*r,a=Math.sqrt(r*r-o*o);e.moveTo(t,n-(a-s)),e.lineTo(t+o,n+s),e.lineTo(t-o,n+s),e.lineTo(t,n-(a-s)),e.closePath()},triangleDown:function(e,t,n,i){e.beginPath(),n-=.275*(i*=1.15);var r=2*i,o=r/2,s=Math.sqrt(3)/6*r,a=Math.sqrt(r*r-o*o);e.moveTo(t,n+(a-s)),e.lineTo(t+o,n-s),e.lineTo(t-o,n-s),e.lineTo(t,n+(a-s)),e.closePath()}},BM=gD(function(e){function t(e){if(e)return function(e){for(var n in t.prototype)e[n]=t.prototype[n];return e}(e)}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,i=this._callbacks["$"+e];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r=0;r<i.length;r++)if((n=i[r])===t||n.fn===t){i.splice(r,1);break}return 0===i.length&&delete this._callbacks["$"+e],this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(n){i=0;for(var r=(n=n.slice(0)).length;i<r;++i)n[i].apply(this,t)}return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}});iM({target:"Object",stat:!0,forced:!_D,sham:!_D},{defineProperty:JD.f});var zM=gD(function(e){var t=YD.Object,n=e.exports=function(e,n,i){return t.defineProperty(e,n,i)};t.defineProperty.sham&&(n.sham=!0)}),VM=zM,HM=_D?Object.defineProperties:function(e,t){ZD(e);for(var n,i=EM(t),r=i.length,o=0;r>o;)JD.f(e,n=i[o++],t[n]);return e};iM({target:"Object",stat:!0,forced:!_D,sham:!_D},{defineProperties:HM});var UM=gD(function(e){var t=YD.Object,n=e.exports=function(e,n){return t.defineProperties(e,n)};t.defineProperties.sham&&(n.sham=!0)}),WM=function(e){return"function"==typeof e?e:void 0},qM=function(e,t){return arguments.length<2?WM(YD[e])||WM(yD[e]):YD[e]&&YD[e][t]||yD[e]&&yD[e][t]},$M=xM.concat("length","prototype"),GM={f:Object.getOwnPropertyNames||function(e){return kM(e,$M)}},YM=qM("Reflect","ownKeys")||function(e){var t=GM.f(ZD(e)),n=OM.f;return n?t.concat(n(e)):t},XM=function(e,t,n){var i=AD(t);i in e?JD.f(e,i,kD(0,n)):e[i]=n};iM({target:"Object",stat:!0,sham:!_D},{getOwnPropertyDescriptors:function(e){for(var t,n,i=RD(e),r=zD.f,o=YM(i),s={},a=0;o.length>a;)void 0!==(n=r(i,t=o[a++]))&&XM(s,t,n);return s}});var KM=YD.Object.getOwnPropertyDescriptors,ZM=zD.f,QM=bD(function(){ZM(1)});iM({target:"Object",stat:!0,forced:!_D||QM,sham:!_D},{getOwnPropertyDescriptor:function(e,t){return ZM(RD(e),t)}});var JM,eN=gD(function(e){var t=YD.Object,n=e.exports=function(e,n){return t.getOwnPropertyDescriptor(e,n)};t.getOwnPropertyDescriptor.sham&&(n.sham=!0)}),tN=eN,nN=!!Object.getOwnPropertySymbols&&!bD(function(){return!String(Symbol())}),iN=nN&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,rN=Array.isArray||function(e){return"Array"==ED(e)},oN=qM("document","documentElement"),sN=yD["__core-js_shared__"]||function(e,t){try{eM(yD,e,t)}catch(aK){yD[e]=t}return t}("__core-js_shared__",{}),aN=gD(function(e){(e.exports=function(e,t){return sN[e]||(sN[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.8.1",mode:"pure",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})}),cN=0,lN=Math.random(),hN=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++cN+lN).toString(36)},dN=aN("keys"),uN=function(e){return dN[e]||(dN[e]=hN(e))},pN=uN("IE_PROTO"),fN=function(){},mN=function(e){return"<script>"+e+"<\/script>"},gN=function(){try{JM=document.domain&&new ActiveXObject("htmlfile")}catch(aK){}var e,t;gN=JM?function(e){e.write(mN("")),e.close();var t=e.parentWindow.Object;return e=null,t}(JM):((t=LD("iframe")).style.display="none",oN.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(mN("document.F=Object")),e.close(),e.F);for(var n=xM.length;n--;)delete gN.prototype[xM[n]];return gN()};CM[pN]=!0;var vN=Object.create||function(e,t){var n;return null!==e?(fN.prototype=ZD(e),n=new fN,fN.prototype=null,n[pN]=e):n=gN(),void 0===t?n:HM(n,t)},yN=GM.f,bN={}.toString,_N="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],wN={f:function(e){return _N&&"[object Window]"==bN.call(e)?function(e){try{return yN(e)}catch(aK){return _N.slice()}}(e):yN(RD(e))}},CN=function(e,t,n,i){i&&i.enumerable?e[t]=n:eM(e,t,n)},SN=aN("wks"),kN=yD.Symbol,xN=iN?kN:kN&&kN.withoutSetter||hN,EN=function(e){return MD(SN,e)||(SN[e]=nN&&MD(kN,e)?kN[e]:xN("Symbol."+e)),SN[e]},ON={f:EN},TN=JD.f,PN=function(e){var t=YD.Symbol||(YD.Symbol={});MD(t,e)||TN(t,e,{value:ON.f(e)})},RN={};RN[EN("toStringTag")]="z";var IN="[object z]"===String(RN),AN=EN("toStringTag"),DN="Arguments"==ED(function(){return arguments}()),MN=IN?ED:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(aK){}}(t=Object(e),AN))?n:DN?ED(t):"Object"==(i=ED(t))&&"function"==typeof t.callee?"Arguments":i},NN=IN?{}.toString:function(){return"[object "+MN(this)+"]"},FN=JD.f,LN=EN("toStringTag"),jN=function(e,t,n,i){if(e){var r=n?e:e.prototype;MD(r,LN)||FN(r,LN,{configurable:!0,value:t}),i&&!IN&&eM(r,"toString",NN)}},BN=Function.toString;"function"!=typeof sN.inspectSource&&(sN.inspectSource=function(e){return BN.call(e)});var zN,VN,HN,UN=yD.WeakMap,WN="function"==typeof UN&&/native code/.test((0,sN.inspectSource)(UN));if(WN){var qN=sN.state||(sN.state=new(0,yD.WeakMap)),$N=qN.get,GN=qN.has,YN=qN.set;zN=function(e,t){return t.facade=e,YN.call(qN,e,t),t},VN=function(e){return $N.call(qN,e)||{}},HN=function(e){return GN.call(qN,e)}}else{var XN=uN("state");CM[XN]=!0,zN=function(e,t){return t.facade=e,eM(e,XN,t),t},VN=function(e){return MD(e,XN)?e[XN]:{}},HN=function(e){return MD(e,XN)}}var KN={set:zN,get:VN,has:HN,enforce:function(e){return HN(e)?VN(e):zN(e,{})},getterFor:function(e){return function(t){var n;if(!ID(t)||(n=VN(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},ZN=EN("species"),QN=function(e,t){var n;return rN(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!rN(n.prototype)?ID(n)&&null===(n=n[ZN])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)},JN=[].push,eF=function(e){var t=1==e,n=2==e,i=3==e,r=4==e,o=6==e,s=7==e,a=5==e||o;return function(c,l,h,d){for(var u,p,f=TM(c),m=TD(f),g=KD(l,h,3),v=gM(m.length),y=0,b=d||QN,_=t?b(c,v):n||s?b(c,0):void 0;v>y;y++)if((a||y in m)&&(p=g(u=m[y],y,f),e))if(t)_[y]=p;else if(p)switch(e){case 3:return!0;case 5:return u;case 6:return y;case 2:JN.call(_,u)}else switch(e){case 4:return!1;case 7:JN.call(_,u)}return o?-1:i||r?r:_}},tF={forEach:eF(0),map:eF(1),filter:eF(2),some:eF(3),every:eF(4),find:eF(5),findIndex:eF(6),filterOut:eF(7)},nF=tF.forEach,iF=uN("hidden"),rF=EN("toPrimitive"),oF=KN.set,sF=KN.getterFor("Symbol"),aF=Object.prototype,cF=yD.Symbol,lF=qM("JSON","stringify"),hF=zD.f,dF=JD.f,uF=wN.f,pF=SD.f,fF=aN("symbols"),mF=aN("op-symbols"),gF=aN("string-to-symbol-registry"),vF=aN("symbol-to-string-registry"),yF=aN("wks"),bF=yD.QObject,_F=!bF||!bF.prototype||!bF.prototype.findChild,wF=_D&&bD(function(){return 7!=vN(dF({},"a",{get:function(){return dF(this,"a",{value:7}).a}})).a})?function(e,t,n){var i=hF(aF,t);i&&delete aF[t],dF(e,t,n),i&&e!==aF&&dF(aF,t,i)}:dF,CF=function(e,t){var n=fF[e]=vN(cF.prototype);return oF(n,{type:"Symbol",tag:e,description:t}),_D||(n.description=t),n},SF=iN?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof cF},kF=function(e,t,n){e===aF&&kF(mF,t,n),ZD(e);var i=AD(t,!0);return ZD(n),MD(fF,i)?(n.enumerable?(MD(e,iF)&&e[iF][i]&&(e[iF][i]=!1),n=vN(n,{enumerable:kD(0,!1)})):(MD(e,iF)||dF(e,iF,kD(1,{})),e[iF][i]=!0),wF(e,i,n)):dF(e,i,n)},xF=function(e,t){ZD(e);var n=RD(t),i=EM(n).concat(PF(n));return nF(i,function(t){_D&&!EF.call(n,t)||kF(e,t,n[t])}),e},EF=function(e){var t=AD(e,!0),n=pF.call(this,t);return!(this===aF&&MD(fF,t)&&!MD(mF,t))&&(!(n||!MD(this,t)||!MD(fF,t)||MD(this,iF)&&this[iF][t])||n)},OF=function(e,t){var n=RD(e),i=AD(t,!0);if(n!==aF||!MD(fF,i)||MD(mF,i)){var r=hF(n,i);return!r||!MD(fF,i)||MD(n,iF)&&n[iF][i]||(r.enumerable=!0),r}},TF=function(e){var t=uF(RD(e)),n=[];return nF(t,function(e){MD(fF,e)||MD(CM,e)||n.push(e)}),n},PF=function(e){var t=e===aF,n=uF(t?mF:RD(e)),i=[];return nF(n,function(e){!MD(fF,e)||t&&!MD(aF,e)||i.push(fF[e])}),i};if(nN||(CN((cF=function(){if(this instanceof cF)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=hN(e),n=function(e){this===aF&&n.call(mF,e),MD(this,iF)&&MD(this[iF],t)&&(this[iF][t]=!1),wF(this,t,kD(1,e))};return _D&&_F&&wF(aF,t,{configurable:!0,set:n}),CF(t,e)}).prototype,"toString",function(){return sF(this).tag}),CN(cF,"withoutSetter",function(e){return CF(hN(e),e)}),SD.f=EF,JD.f=kF,zD.f=OF,GM.f=wN.f=TF,OM.f=PF,ON.f=function(e){return CF(EN(e),e)},_D&&dF(cF.prototype,"description",{configurable:!0,get:function(){return sF(this).description}})),iM({global:!0,wrap:!0,forced:!nN,sham:!nN},{Symbol:cF}),nF(EM(yF),function(e){PN(e)}),iM({target:"Symbol",stat:!0,forced:!nN},{for:function(e){var t=String(e);if(MD(gF,t))return gF[t];var n=cF(t);return gF[t]=n,vF[n]=t,n},keyFor:function(e){if(!SF(e))throw TypeError(e+" is not a symbol");if(MD(vF,e))return vF[e]},useSetter:function(){_F=!0},useSimple:function(){_F=!1}}),iM({target:"Object",stat:!0,forced:!nN,sham:!_D},{create:function(e,t){return void 0===t?vN(e):xF(vN(e),t)},defineProperty:kF,defineProperties:xF,getOwnPropertyDescriptor:OF}),iM({target:"Object",stat:!0,forced:!nN},{getOwnPropertyNames:TF,getOwnPropertySymbols:PF}),iM({target:"Object",stat:!0,forced:bD(function(){OM.f(1)})},{getOwnPropertySymbols:function(e){return OM.f(TM(e))}}),lF){var RF=!nN||bD(function(){var e=cF();return"[null]"!=lF([e])||"{}"!=lF({a:e})||"{}"!=lF(Object(e))});iM({target:"JSON",stat:!0,forced:RF},{stringify:function(e,t,n){for(var i,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);if(i=t,(ID(t)||void 0!==e)&&!SF(e))return rN(t)||(t=function(e,t){if("function"==typeof i&&(t=i.call(this,e,t)),!SF(t))return t}),r[1]=t,lF.apply(null,r)}})}cF.prototype[rF]||eM(cF.prototype,rF,cF.prototype.valueOf),jN(cF,"Symbol"),CM[iF]=!0;var IF,AF,DF,MF=YD.Object.getOwnPropertySymbols,NF={},FF=!bD(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),LF=uN("IE_PROTO"),jF=Object.prototype,BF=FF?Object.getPrototypeOf:function(e){return e=TM(e),MD(e,LF)?e[LF]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?jF:null},zF=(EN("iterator"),!1);[].keys&&("next"in(DF=[].keys())?(AF=BF(BF(DF)))!==Object.prototype&&(IF=AF):zF=!0),null==IF&&(IF={});var VF={IteratorPrototype:IF,BUGGY_SAFARI_ITERATORS:zF},HF=VF.IteratorPrototype,UF=function(){return this},WF=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(aK){}return function(n,i){return ZD(n),function(e){if(!ID(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}(i),t?e.call(n,i):n.__proto__=i,n}}():void 0),qF=VF.IteratorPrototype,$F=VF.BUGGY_SAFARI_ITERATORS,GF=EN("iterator"),YF=function(){return this},XF=function(e,t,n,i,r,o,s){!function(e,t,n){var i=t+" Iterator";e.prototype=vN(HF,{next:kD(1,n)}),jN(e,i,!1,!0),NF[i]=UF}(n,t,i);var a,c,l,h=function(e){if(e===r&&m)return m;if(!$F&&e in p)return p[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},d=t+" Iterator",u=!1,p=e.prototype,f=p[GF]||p["@@iterator"]||r&&p[r],m=!$F&&f||h(r),g="Array"==t&&p.entries||f;if(g&&(a=BF(g.call(new e)),qF!==Object.prototype&&a.next&&(jN(a,d,!0,!0),NF[d]=YF)),"values"==r&&f&&"values"!==f.name&&(u=!0,m=function(){return f.call(this)}),s&&p[GF]!==m&&eM(p,GF,m),NF[t]=m,r)if(c={values:h("values"),keys:o?m:h("keys"),entries:h("entries")},s)for(l in c)($F||u||!(l in p))&&CN(p,l,c[l]);else iM({target:t,proto:!0,forced:$F||u},c);return c},KF=KN.set,ZF=KN.getterFor("Array Iterator");XF(Array,"Array",function(e,t){KF(this,{type:"Array Iterator",target:RD(e),index:0,kind:t})},function(){var e=ZF(this),t=e.target,n=e.kind,i=e.index++;return!t||i>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:t[i],done:!1}:{value:[i,t[i]],done:!1}},"values"),NF.Arguments=NF.Array;var QF=EN("toStringTag");for(var JF in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var eL=yD[JF],tL=eL&&eL.prototype;tL&&MN(tL)!==QF&&eM(tL,QF,JF),NF[JF]=NF.Array}var nL=function(e){return function(t,n){var i,r,o=String(PD(t)),s=fM(n),a=o.length;return s<0||s>=a?e?"":void 0:(i=o.charCodeAt(s))<55296||i>56319||s+1===a||(r=o.charCodeAt(s+1))<56320||r>57343?e?o.charAt(s):i:e?o.slice(s,s+2):r-56320+(i-55296<<10)+65536}},iL=(nL(!1),nL(!0)),rL=KN.set,oL=KN.getterFor("String Iterator");XF(String,"String",function(e){rL(this,{type:"String Iterator",string:String(e),index:0})},function(){var e,t=oL(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=iL(n,i),t.index+=e.length,{value:e,done:!1})});var sL=EN("iterator"),aL=function(e){if(null!=e)return e[sL]||e["@@iterator"]||NF[MN(e)]},cL=function(e){var t=aL(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return ZD(t.call(e))},lL=aL,hL=function(e){var t=e.return;if(void 0!==t)return ZD(t.call(e)).value},dL=function(e,t,n,i){try{return i?t(ZD(n)[0],n[1]):t(n)}catch(aK){throw hL(e),aK}},uL=EN("iterator"),pL=Array.prototype,fL=function(e){return void 0!==e&&(NF.Array===e||pL[uL]===e)},mL=EN("iterator"),gL=!1;try{var vL=0,yL={next:function(){return{done:!!vL++}},return:function(){gL=!0}};yL[mL]=function(){return this},Array.from(yL,function(){throw 2})}catch(aK){}var bL=!function(e,t){if(!gL)return!1;var n=!1;try{var i={};i[mL]=function(){return{next:function(){return{done:n=!0}}}},Array.from(i)}catch(aK){}return n}();iM({target:"Array",stat:!0,forced:bL},{from:function(e){var t,n,i,r,o,s,a=TM(e),c="function"==typeof this?this:Array,l=arguments.length,h=l>1?arguments[1]:void 0,d=void 0!==h,u=aL(a),p=0;if(d&&(h=KD(h,l>2?arguments[2]:void 0,2)),null==u||c==Array&&fL(u))for(n=new c(t=gM(a.length));t>p;p++)s=d?h(a[p],p):a[p],XM(n,p,s);else for(o=(r=u.call(a)).next,n=new c;!(i=o.call(r)).done;p++)s=d?dL(r,h,[i.value,p],!0):i.value,XM(n,p,s);return n.length=p,n}});var _L=YD.Array.from,wL=_L;iM({target:"Array",proto:!0},{fill:function(e){for(var t=TM(this),n=gM(t.length),i=arguments.length,r=bM(i>1?arguments[1]:void 0,n),o=i>2?arguments[2]:void 0,s=void 0===o?n:bM(o,n);s>r;)t[r++]=e;return t}});var CL=cM("Array").fill,SL=Array.prototype,kL=function(e){var t=e.fill;return e===SL||e instanceof Array&&t===SL.fill?CL:t},xL=qM("navigator","userAgent")||"",EL=[].slice,OL=/MSIE .\./.test(xL),TL=function(e){return function(t,n){var i=arguments.length>2,r=i?EL.call(arguments,2):void 0;return e(i?function(){("function"==typeof t?t:Function(t)).apply(this,r)}:t,n)}};iM({global:!0,bind:!0,forced:OL},{setTimeout:TL(yD.setTimeout),setInterval:TL(yD.setInterval)});var PL=YD.setTimeout,RL=qM("JSON","stringify"),IL=/[\uD800-\uDFFF]/g,AL=/^[\uD800-\uDBFF]$/,DL=/^[\uDC00-\uDFFF]$/,ML=function(e,t,n){var i=n.charAt(t-1),r=n.charAt(t+1);return AL.test(e)&&!DL.test(r)||DL.test(e)&&!AL.test(i)?"\\u"+e.charCodeAt(0).toString(16):e},NL=bD(function(){return'"\\udf06\\ud834"'!==RL("\udf06\ud834")||'"\\udead"'!==RL("\udead")});RL&&iM({target:"JSON",stat:!0,forced:NL},{stringify:function(e,t,n){var i=RL.apply(null,arguments);return"string"==typeof i?i.replace(IL,ML):i}}),YD.JSON||(YD.JSON={stringify:JSON.stringify});var FL=function(e,t,n){return YD.JSON.stringify.apply(null,arguments)},LL=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},jL=zM;function BL(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),jL(e,i.key,i)}}var zL=function(e,t,n){return t&&BL(e.prototype,t),n&&BL(e,n),e};iM({target:"Object",stat:!0,sham:!_D},{create:vN});var VL=YD.Object,HL=function(e,t){return VL.create(e,t)},UL=HL,WL=function(e,t,n){return t in e?jL(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},qL=RegExp("^[\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff][\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]*"),$L=RegExp("[\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff][\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]*$"),GL=function(e){return function(t){var n=String(PD(t));return 1&e&&(n=n.replace(qL,"")),2&e&&(n=n.replace($L,"")),n}},YL={start:GL(1),end:GL(2),trim:GL(3)},XL=YL.trim;iM({target:"String",proto:!0,forced:bD(function(){return!!"\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff".trim()||"\u200b\x85\u180e"!="\u200b\x85\u180e".trim()||"trim"!=="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff".trim.name})},{trim:function(){return XL(this)}}),cM("String");var KL=function(e,t){var n=[][e];return!!n&&bD(function(){n.call(null,t||function(){throw 1},1)})},ZL=Object.defineProperty,QL={},JL=function(e){throw e},ej=function(e,t){if(MD(QL,e))return QL[e];t||(t={});var n=[][e],i=!!MD(t,"ACCESSORS")&&t.ACCESSORS,r=MD(t,0)?t[0]:JL,o=MD(t,1)?t[1]:void 0;return QL[e]=!!n&&!bD(function(){if(i&&!_D)return!0;var e={length:-1};i?ZL(e,1,{enumerable:!0,get:JL}):e[1]=1,n.call(e,r,o)})},tj=wM.indexOf,nj=[].indexOf,ij=!!nj&&1/[1].indexOf(1,-0)<0,rj=KL("indexOf"),oj=ej("indexOf",{ACCESSORS:!0,1:0});iM({target:"Array",proto:!0,forced:ij||!rj||!oj},{indexOf:function(e){return ij?nj.apply(this,arguments)||0:tj(this,e,arguments.length>1?arguments[1]:void 0)}});var sj=cM("Array").indexOf,aj=Array.prototype,cj=function(e){var t=e.indexOf;return e===aj||e instanceof Array&&t===aj.indexOf?sj:t},lj=YL.trim,hj=yD.parseInt,dj=/^[+-]?0[Xx]/,uj=8!==hj("\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff08")||22!==hj("\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff0x16")?function(e,t){var n=lj(String(e));return hj(n,t>>>0||(dj.test(n)?16:10))}:hj;iM({global:!0,forced:parseInt!=uj},{parseInt:uj});var pj=YD.parseInt,fj=SD.f,mj=function(e){return function(t){for(var n,i=RD(t),r=EM(i),o=r.length,s=0,a=[];o>s;)n=r[s++],_D&&!fj.call(i,n)||a.push(e?[n,i[n]]:i[n]);return a}},gj=(mj(!0),mj(!1));iM({target:"Object",stat:!0},{values:function(e){return gj(e)}});var vj,yj,bj=yD.process,_j=bj&&bj.versions,wj=_j&&_j.v8;wj?yj=(vj=wj.split("."))[0]+vj[1]:xL&&(!(vj=xL.match(/Edge\/(\d+)/))||vj[1]>=74)&&(vj=xL.match(/Chrome\/(\d+)/))&&(yj=vj[1]);var Cj=yj&&+yj,Sj=EN("species"),kj=function(e){return Cj>=51||!bD(function(){var t=[];return(t.constructor={})[Sj]=function(){return{foo:1}},1!==t[e](Boolean).foo})},xj=tF.filter,Ej=kj("filter"),Oj=ej("filter");iM({target:"Array",proto:!0,forced:!Ej||!Oj},{filter:function(e){return xj(this,e,arguments.length>1?arguments[1]:void 0)}});var Tj=cM("Array").filter,Pj=Array.prototype,Rj=function(e){var t=e.filter;return e===Pj||e instanceof Array&&t===Pj.filter?Tj:t},Ij=bD(function(){BF(1)});iM({target:"Object",stat:!0,forced:Ij,sham:!FF},{getPrototypeOf:function(e){return BF(TM(e))}});var Aj=YD.Object.getPrototypeOf,Dj=Aj,Mj=wM.includes,Nj=ej("indexOf",{ACCESSORS:!0,1:0});iM({target:"Array",proto:!0,forced:!Nj},{includes:function(e){return Mj(this,e,arguments.length>1?arguments[1]:void 0)}});var Fj=cM("Array").includes,Lj=EN("match"),jj=function(e){if(function(e){var t;return ID(e)&&(void 0!==(t=e[Lj])?!!t:"RegExp"==ED(e))}(e))throw TypeError("The method doesn't accept regular expressions");return e},Bj=EN("match");iM({target:"String",proto:!0,forced:!function(e){var t=/./;try{"/./".includes(t)}catch(n){try{return t[Bj]=!1,"/./".includes(t)}catch(i){}}return!1}()},{includes:function(e){return!!~String(PD(this)).indexOf(jj(e),arguments.length>1?arguments[1]:void 0)}});var zj=cM("String").includes,Vj=Array.prototype,Hj=String.prototype,Uj=function(e){var t=e.includes;return e===Vj||e instanceof Array&&t===Vj.includes?Fj:"string"==typeof e||e===Hj||e instanceof String&&t===Hj.includes?zj:t},Wj=kj("splice"),qj=ej("splice",{ACCESSORS:!0,0:0,1:2}),$j=Math.max,Gj=Math.min;iM({target:"Array",proto:!0,forced:!Wj||!qj},{splice:function(e,t){var n,i,r,o,s,a,c=TM(this),l=gM(c.length),h=bM(e,l),d=arguments.length;if(0===d?n=i=0:1===d?(n=0,i=l-h):(n=d-2,i=Gj($j(fM(t),0),l-h)),l+n-i>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(r=QN(c,i),o=0;o<i;o++)(s=h+o)in c&&XM(r,o,c[s]);if(r.length=i,n<i){for(o=h;o<l-i;o++)a=o+n,(s=o+i)in c?c[a]=c[s]:delete c[a];for(o=l;o>l-i+n;o--)delete c[o-1]}else if(n>i)for(o=l-i;o>h;o--)a=o+n-1,(s=o+i-1)in c?c[a]=c[s]:delete c[a];for(o=0;o<n;o++)c[o+h]=arguments[o+2];return c.length=l-i+n,r}});var Yj=cM("Array").splice,Xj=Array.prototype,Kj=function(e){var t=e.splice;return e===Xj||e instanceof Array&&t===Xj.splice?Yj:t},Zj=[].reverse,Qj=[1,2];iM({target:"Array",proto:!0,forced:String(Qj)===String(Qj.reverse())},{reverse:function(){return rN(this)&&(this.length=this.length),Zj.call(this)}});var Jj=cM("Array").reverse,eB=Array.prototype,tB=function(e){var t=e.reverse;return e===eB||e instanceof Array&&t===eB.reverse?Jj:t},nB=tF.forEach,iB=KL("forEach"),rB=ej("forEach"),oB=iB&&rB?[].forEach:function(e){return nB(this,e,arguments.length>1?arguments[1]:void 0)};iM({target:"Array",proto:!0,forced:[].forEach!=oB},{forEach:oB});var sB=cM("Array").forEach,aB=Array.prototype,cB={DOMTokenList:!0,NodeList:!0},lB=function(e){var t=e.forEach;return e===aB||e instanceof Array&&t===aB.forEach||cB.hasOwnProperty(MN(e))?sB:t};iM({target:"Array",stat:!0},{isArray:rN});var hB=YD.Array.isArray,dB=hB,uB=EN("iterator"),pB=function(e){var t=Object(e);return void 0!==t[uB]||"@@iterator"in t||NF.hasOwnProperty(MN(t))},fB=EN("isConcatSpreadable"),mB=Cj>=51||!bD(function(){var e=[];return e[fB]=!1,e.concat()[0]!==e}),gB=kj("concat"),vB=function(e){if(!ID(e))return!1;var t=e[fB];return void 0!==t?!!t:rN(e)};iM({target:"Array",proto:!0,forced:!mB||!gB},{concat:function(e){var t,n,i,r,o,s=TM(this),a=QN(s,0),c=0;for(t=-1,i=arguments.length;t<i;t++)if(vB(o=-1===t?s:arguments[t])){if(c+(r=gM(o.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<r;n++,c++)n in o&&XM(a,c,o[n])}else{if(c>=9007199254740991)throw TypeError("Maximum allowed index exceeded");XM(a,c++,o)}return a.length=c,a}}),PN("asyncIterator"),PN("hasInstance"),PN("isConcatSpreadable"),PN("iterator"),PN("match"),PN("matchAll"),PN("replace"),PN("search"),PN("species"),PN("split"),PN("toPrimitive"),PN("toStringTag"),PN("unscopables"),jN(yD.JSON,"JSON",!0);var yB=YD.Symbol;PN("asyncDispose"),PN("dispose"),PN("observable"),PN("patternMatch"),PN("replaceAll");var bB=yB,_B=_L,wB=kj("slice"),CB=ej("slice",{ACCESSORS:!0,0:0,1:2}),SB=EN("species"),kB=[].slice,xB=Math.max;iM({target:"Array",proto:!0,forced:!wB||!CB},{slice:function(e,t){var n,i,r,o=RD(this),s=gM(o.length),a=bM(e,s),c=bM(void 0===t?s:t,s);if(rN(o)&&("function"!=typeof(n=o.constructor)||n!==Array&&!rN(n.prototype)?ID(n)&&null===(n=n[SB])&&(n=void 0):n=void 0,n===Array||void 0===n))return kB.call(o,a,c);for(i=new(void 0===n?Array:n)(xB(c-a,0)),r=0;a<c;a++,r++)a in o&&XM(i,r,o[a]);return i.length=r,i}});var EB=cM("Array").slice,OB=Array.prototype,TB=function(e){var t=e.slice;return e===OB||e instanceof Array&&t===OB.slice?EB:t},PB=TB,RB=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i},IB=function(e,t){var n;if(e){if("string"==typeof e)return RB(e,t);var i=PB(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?_B(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?RB(e,t):void 0}},AB=function(e,t){return function(e){if(dB(e))return e}(e)||function(e,t){if(void 0!==bB&&pB(Object(e))){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=cL(e);!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(c){r=!0,o=c}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return n}}(e,t)||IB(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()};iM({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}});var DB=YD.Date.now,MB=bD(function(){EM(1)});iM({target:"Object",stat:!0,forced:MB},{keys:function(e){return EM(TM(e))}});var NB=YD.Object.keys,FB=tF.map,LB=kj("map"),jB=ej("map");iM({target:"Array",proto:!0,forced:!LB||!jB},{map:function(e){return FB(this,e,arguments.length>1?arguments[1]:void 0)}});var BB=cM("Array").map,zB=Array.prototype,VB=function(e){var t=e.map;return e===zB||e instanceof Array&&t===zB.map?BB:t},HB=hB,UB=ON.f("iterator"),WB=gD(function(e){function t(n){return e.exports=t="function"==typeof bB&&"symbol"==typeof UB?function(e){return typeof e}:function(e){return e&&"function"==typeof bB&&e.constructor===bB&&e!==bB.prototype?"symbol":typeof e},t(n)}e.exports=t});iM({target:"Reflect",stat:!0},{ownKeys:YM});var qB=TB,$B=function(e){return function(e){if(dB(e))return RB(e)}(e)||function(e){if(void 0!==bB&&pB(Object(e)))return _B(e)}(e)||IB(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},GB=cM("Array").concat,YB=Array.prototype,XB=function(e){var t=e.concat;return e===YB||e instanceof Array&&t===YB.concat?GB:t},KB=yB;function ZB(){return(ZB=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function QB(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function JB(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var ez,tz="function"!=typeof Object.assign?function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])}return t}:Object.assign,nz=["","webkit","Moz","MS","ms","o"],iz="undefined"==typeof document?{style:{}}:document.createElement("div"),rz=Math.round,oz=Math.abs,sz=Date.now;function az(e,t){for(var n,i,r=t[0].toUpperCase()+t.slice(1),o=0;o<nz.length;){if((i=(n=nz[o])?n+r:t)in e)return i;o++}}ez="undefined"==typeof window?{}:window;var cz=az(iz.style,"touchAction"),lz=void 0!==cz,hz=function(){if(!lz)return!1;var e={},t=ez.CSS&&ez.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){return e[n]=!t||ez.CSS.supports("touch-action",n)}),e}(),dz="ontouchstart"in ez,uz=void 0!==az(ez,"PointerEvent"),pz=dz&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),fz=["x","y"],mz=["clientX","clientY"];function gz(e,t,n){var i;if(e)if(e.forEach)e.forEach(t,n);else if(void 0!==e.length)for(i=0;i<e.length;)t.call(n,e[i],i,e),i++;else for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e)}function vz(e,t){return"function"==typeof e?e.apply(t&&t[0]||void 0,t):e}function yz(e,t){return e.indexOf(t)>-1}var bz=function(){function e(e,t){this.manager=e,this.set(t)}var t=e.prototype;return t.set=function(e){"compute"===e&&(e=this.compute()),lz&&this.manager.element.style&&hz[e]&&(this.manager.element.style[cz]=e),this.actions=e.toLowerCase().trim()},t.update=function(){this.set(this.manager.options.touchAction)},t.compute=function(){var e=[];return gz(this.manager.recognizers,function(t){vz(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),function(e){if(yz(e,"none"))return"none";var t=yz(e,"pan-x"),n=yz(e,"pan-y");return t&&n?"none":t||n?t?"pan-x":"pan-y":yz(e,"manipulation")?"manipulation":"auto"}(e.join(" "))},t.preventDefaults=function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var i=this.actions,r=yz(i,"none")&&!hz.none,o=yz(i,"pan-y")&&!hz["pan-y"],s=yz(i,"pan-x")&&!hz["pan-x"];if(r&&1===e.pointers.length&&e.distance<2&&e.deltaTime<250)return;if(!s||!o)return r||o&&6&n||s&&24&n?this.preventSrc(t):void 0}},t.preventSrc=function(e){this.manager.session.prevented=!0,e.preventDefault()},e}();function _z(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}function wz(e){var t=e.length;if(1===t)return{x:rz(e[0].clientX),y:rz(e[0].clientY)};for(var n=0,i=0,r=0;r<t;)n+=e[r].clientX,i+=e[r].clientY,r++;return{x:rz(n/t),y:rz(i/t)}}function Cz(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:rz(e.pointers[n].clientX),clientY:rz(e.pointers[n].clientY)},n++;return{timeStamp:sz(),pointers:t,center:wz(t),deltaX:e.deltaX,deltaY:e.deltaY}}function Sz(e,t,n){n||(n=fz);var i=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return Math.sqrt(i*i+r*r)}function kz(e,t,n){return n||(n=fz),180*Math.atan2(t[n[1]]-e[n[1]],t[n[0]]-e[n[0]])/Math.PI}function xz(e,t){return e===t?1:oz(e)>=oz(t)?e<0?2:4:t<0?8:16}function Ez(e,t,n){return{x:t/e||0,y:n/e||0}}function Oz(e,t,n){var i=n.pointers.length,r=n.changedPointers.length,o=1&t&&i-r==0,s=12&t&&i-r==0;n.isFirst=!!o,n.isFinal=!!s,o&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,i=t.pointers,r=i.length;n.firstInput||(n.firstInput=Cz(t)),r>1&&!n.firstMultiple?n.firstMultiple=Cz(t):1===r&&(n.firstMultiple=!1);var o=n.firstInput,s=n.firstMultiple,a=s?s.center:o.center,c=t.center=wz(i);t.timeStamp=sz(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=kz(a,c),t.distance=Sz(a,c),function(e,t){var n=t.center,i=e.offsetDelta||{},r=e.prevDelta||{},o=e.prevInput||{};1!==t.eventType&&4!==o.eventType||(r=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=r.x+(n.x-i.x),t.deltaY=r.y+(n.y-i.y)}(n,t),t.offsetDirection=xz(t.deltaX,t.deltaY);var l,h,d=Ez(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=d.x,t.overallVelocityY=d.y,t.overallVelocity=oz(d.x)>oz(d.y)?d.x:d.y,t.scale=s?(l=s.pointers,Sz((h=i)[0],h[1],mz)/Sz(l[0],l[1],mz)):1,t.rotation=s?function(e,t){return kz(t[1],t[0],mz)+kz(e[1],e[0],mz)}(s.pointers,i):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,i,r,o,s=e.lastInterval||t,a=t.timeStamp-s.timeStamp;if(8!==t.eventType&&(a>25||void 0===s.velocity)){var c=t.deltaX-s.deltaX,l=t.deltaY-s.deltaY,h=Ez(a,c,l);i=h.x,r=h.y,n=oz(h.x)>oz(h.y)?h.x:h.y,o=xz(c,l),e.lastInterval=t}else n=s.velocity,i=s.velocityX,r=s.velocityY,o=s.direction;t.velocity=n,t.velocityX=i,t.velocityY=r,t.direction=o}(n,t);var u,p=e.element,f=t.srcEvent;_z(u=f.composedPath?f.composedPath()[0]:f.path?f.path[0]:f.target,p)&&(p=u),t.target=p}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function Tz(e){return e.trim().split(/\s+/g)}function Pz(e,t,n){gz(Tz(t),function(t){e.addEventListener(t,n,!1)})}function Rz(e,t,n){gz(Tz(t),function(t){e.removeEventListener(t,n,!1)})}function Iz(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||window}var Az=function(){function e(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){vz(e.options.enable,[e])&&n.handler(t)},this.init()}var t=e.prototype;return t.handler=function(){},t.init=function(){this.evEl&&Pz(this.element,this.evEl,this.domHandler),this.evTarget&&Pz(this.target,this.evTarget,this.domHandler),this.evWin&&Pz(Iz(this.element),this.evWin,this.domHandler)},t.destroy=function(){this.evEl&&Rz(this.element,this.evEl,this.domHandler),this.evTarget&&Rz(this.target,this.evTarget,this.domHandler),this.evWin&&Rz(Iz(this.element),this.evWin,this.domHandler)},e}();function Dz(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var i=0;i<e.length;){if(n&&e[i][n]==t||!n&&e[i]===t)return i;i++}return-1}var Mz={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},Nz={2:"touch",3:"pen",4:"mouse",5:"kinect"},Fz="pointerdown",Lz="pointermove pointerup pointercancel";ez.MSPointerEvent&&!ez.PointerEvent&&(Fz="MSPointerDown",Lz="MSPointerMove MSPointerUp MSPointerCancel");var jz=function(e){function t(){var n,i=t.prototype;return i.evEl=Fz,i.evWin=Lz,(n=e.apply(this,arguments)||this).store=n.manager.session.pointerEvents=[],n}return QB(t,e),t.prototype.handler=function(e){var t=this.store,n=!1,i=e.type.toLowerCase().replace("ms",""),r=Mz[i],o=Nz[e.pointerType]||e.pointerType,s="touch"===o,a=Dz(t,e.pointerId,"pointerId");1&r&&(0===e.button||s)?a<0&&(t.push(e),a=t.length-1):12&r&&(n=!0),a<0||(t[a]=e,this.callback(this.manager,r,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(a,1))},t}(Az);function Bz(e){return Array.prototype.slice.call(e,0)}function zz(e,t,n){for(var i=[],r=[],o=0;o<e.length;){var s=t?e[o][t]:e[o];Dz(r,s)<0&&i.push(e[o]),r[o]=s,o++}return n&&(i=t?i.sort(function(e,n){return e[t]>n[t]}):i.sort()),i}var Vz={touchstart:1,touchmove:2,touchend:4,touchcancel:8},Hz=function(e){function t(){var n;return t.prototype.evTarget="touchstart touchmove touchend touchcancel",(n=e.apply(this,arguments)||this).targetIds={},n}return QB(t,e),t.prototype.handler=function(e){var t=Vz[e.type],n=Uz.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})},t}(Az);function Uz(e,t){var n,i,r=Bz(e.touches),o=this.targetIds;if(3&t&&1===r.length)return o[r[0].identifier]=!0,[r,r];var s=Bz(e.changedTouches),a=[],c=this.target;if(i=r.filter(function(e){return _z(e.target,c)}),1===t)for(n=0;n<i.length;)o[i[n].identifier]=!0,n++;for(n=0;n<s.length;)o[s[n].identifier]&&a.push(s[n]),12&t&&delete o[s[n].identifier],n++;return a.length?[zz(i.concat(a),"identifier",!0),a]:void 0}var Wz={mousedown:1,mousemove:2,mouseup:4},qz=function(e){function t(){var n,i=t.prototype;return i.evEl="mousedown",i.evWin="mousemove mouseup",(n=e.apply(this,arguments)||this).pressed=!1,n}return QB(t,e),t.prototype.handler=function(e){var t=Wz[e.type];1&t&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))},t}(Az);function $z(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY},i=this.lastTouches;this.lastTouches.push(n),setTimeout(function(){var e=i.indexOf(n);e>-1&&i.splice(e,1)},2500)}}function Gz(e,t){1&e?(this.primaryTouch=t.changedPointers[0].identifier,$z.call(this,t)):12&e&&$z.call(this,t)}function Yz(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(t-r.x),s=Math.abs(n-r.y);if(o<=25&&s<=25)return!0}return!1}var Xz=function(){return function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).handler=function(e,t,n){var r="mouse"===n.pointerType;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if("touch"===n.pointerType)Gz.call(JB(JB(i)),t,n);else if(r&&Yz.call(JB(JB(i)),n))return;i.callback(e,t,n)}},i.touch=new Hz(i.manager,i.handler),i.mouse=new qz(i.manager,i.handler),i.primaryTouch=null,i.lastTouches=[],i}return QB(t,e),t.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},t}(Az)}();function Kz(e,t,n){return!!Array.isArray(e)&&(gz(e,n[t],n),!0)}var Zz=1;function Qz(e,t){var n=t.manager;return n?n.get(e):e}function Jz(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}var eV=function(){function e(e){void 0===e&&(e={}),this.options=ZB({enable:!0},e),this.id=Zz++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var t=e.prototype;return t.set=function(e){return tz(this.options,e),this.manager&&this.manager.touchAction.update(),this},t.recognizeWith=function(e){if(Kz(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=Qz(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},t.dropRecognizeWith=function(e){return Kz(e,"dropRecognizeWith",this)||(e=Qz(e,this),delete this.simultaneous[e.id]),this},t.requireFailure=function(e){if(Kz(e,"requireFailure",this))return this;var t=this.requireFail;return-1===Dz(t,e=Qz(e,this))&&(t.push(e),e.requireFailure(this)),this},t.dropRequireFailure=function(e){if(Kz(e,"dropRequireFailure",this))return this;e=Qz(e,this);var t=Dz(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},t.hasRequireFailures=function(){return this.requireFail.length>0},t.canRecognizeWith=function(e){return!!this.simultaneous[e.id]},t.emit=function(e){var t=this,n=this.state;function i(n){t.manager.emit(n,e)}n<8&&i(t.options.event+Jz(n)),i(t.options.event),e.additionalEvent&&i(e.additionalEvent),n>=8&&i(t.options.event+Jz(n))},t.tryEmit=function(e){if(this.canEmit())return this.emit(e);this.state=32},t.canEmit=function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},t.recognize=function(e){var t=tz({},e);if(!vz(this.options.enable,[this,t]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},t.process=function(e){},t.getTouchAction=function(){},t.reset=function(){},e}(),tV=function(e){function t(t){var n;return void 0===t&&(t={}),(n=e.call(this,ZB({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},t))||this).pTime=!1,n.pCenter=!1,n._timer=null,n._input=null,n.count=0,n}QB(t,e);var n=t.prototype;return n.getTouchAction=function(){return["manipulation"]},n.process=function(e){var t=this,n=this.options,i=e.pointers.length===n.pointers,r=e.distance<n.threshold,o=e.deltaTime<n.time;if(this.reset(),1&e.eventType&&0===this.count)return this.failTimeout();if(r&&o&&i){if(4!==e.eventType)return this.failTimeout();var s=!this.pTime||e.timeStamp-this.pTime<n.interval,a=!this.pCenter||Sz(this.pCenter,e.center)<n.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,a&&s?this.count+=1:this.count=1,this._input=e,0==this.count%n.taps)return this.hasRequireFailures()?(this._timer=setTimeout(function(){t.state=8,t.tryEmit()},n.interval),2):8}return 32},n.failTimeout=function(){var e=this;return this._timer=setTimeout(function(){e.state=32},this.options.interval),32},n.reset=function(){clearTimeout(this._timer)},n.emit=function(){8===this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},t}(eV),nV=function(e){function t(t){return void 0===t&&(t={}),e.call(this,ZB({pointers:1},t))||this}QB(t,e);var n=t.prototype;return n.attrTest=function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},n.process=function(e){var t=this.state,n=e.eventType,i=6&t,r=this.attrTest(e);return i&&(8&n||!r)?16|t:i||r?4&n?8|t:2&t?4|t:2:32},t}(eV);function iV(e){return 16===e?"down":8===e?"up":2===e?"left":4===e?"right":""}var rV=function(e){function t(t){var n;return void 0===t&&(t={}),(n=e.call(this,ZB({event:"pan",threshold:10,pointers:1,direction:30},t))||this).pX=null,n.pY=null,n}QB(t,e);var n=t.prototype;return n.getTouchAction=function(){var e=this.options.direction,t=[];return 6&e&&t.push("pan-y"),24&e&&t.push("pan-x"),t},n.directionTest=function(e){var t=this.options,n=!0,i=e.distance,r=e.direction,o=e.deltaX,s=e.deltaY;return r&t.direction||(6&t.direction?(r=0===o?1:o<0?2:4,n=o!==this.pX,i=Math.abs(e.deltaX)):(r=0===s?1:s<0?8:16,n=s!==this.pY,i=Math.abs(e.deltaY))),e.direction=r,n&&i>t.threshold&&r&t.direction},n.attrTest=function(e){return nV.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},n.emit=function(t){this.pX=t.deltaX,this.pY=t.deltaY;var n=iV(t.direction);n&&(t.additionalEvent=this.options.event+n),e.prototype.emit.call(this,t)},t}(nV),oV=function(e){function t(t){return void 0===t&&(t={}),e.call(this,ZB({event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},t))||this}QB(t,e);var n=t.prototype;return n.getTouchAction=function(){return rV.prototype.getTouchAction.call(this)},n.attrTest=function(t){var n,i=this.options.direction;return 30&i?n=t.overallVelocity:6&i?n=t.overallVelocityX:24&i&&(n=t.overallVelocityY),e.prototype.attrTest.call(this,t)&&i&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers===this.options.pointers&&oz(n)>this.options.velocity&&4&t.eventType},n.emit=function(e){var t=iV(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)},t}(nV),sV=function(e){function t(t){return void 0===t&&(t={}),e.call(this,ZB({event:"pinch",threshold:0,pointers:2},t))||this}QB(t,e);var n=t.prototype;return n.getTouchAction=function(){return["none"]},n.attrTest=function(t){return e.prototype.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},n.emit=function(t){1!==t.scale&&(t.additionalEvent=this.options.event+(t.scale<1?"in":"out")),e.prototype.emit.call(this,t)},t}(nV),aV=function(e){function t(t){return void 0===t&&(t={}),e.call(this,ZB({event:"rotate",threshold:0,pointers:2},t))||this}QB(t,e);var n=t.prototype;return n.getTouchAction=function(){return["none"]},n.attrTest=function(t){return e.prototype.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)},t}(nV),cV=function(e){function t(t){var n;return void 0===t&&(t={}),(n=e.call(this,ZB({event:"press",pointers:1,time:251,threshold:9},t))||this)._timer=null,n._input=null,n}QB(t,e);var n=t.prototype;return n.getTouchAction=function(){return["auto"]},n.process=function(e){var t=this,n=this.options,i=e.pointers.length===n.pointers,r=e.distance<n.threshold,o=e.deltaTime>n.time;if(this._input=e,!r||!i||12&e.eventType&&!o)this.reset();else if(1&e.eventType)this.reset(),this._timer=setTimeout(function(){t.state=8,t.tryEmit()},n.time);else if(4&e.eventType)return 8;return 32},n.reset=function(){clearTimeout(this._timer)},n.emit=function(e){8===this.state&&(e&&4&e.eventType?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=sz(),this.manager.emit(this.options.event,this._input)))},t}(eV),lV={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},hV=[[aV,{enable:!1}],[sV,{enable:!1},["rotate"]],[oV,{direction:6}],[rV,{direction:6},["swipe"]],[tV],[tV,{event:"doubletap",taps:2},["tap"]],[cV]];function dV(e,t){var n,i=e.element;i.style&&(gz(e.options.cssProps,function(r,o){n=az(i.style,o),t?(e.oldCssProps[n]=i.style[n],i.style[n]=r):i.style[n]=e.oldCssProps[n]||""}),t||(e.oldCssProps={}))}var uV=function(){function e(e,t){var n=this;this.options=tz({},lV,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new(this.options.inputClass||(uz?jz:pz?Hz:dz?Xz:qz))(this,Oz),this.touchAction=new bz(this,this.options.touchAction),dV(this,!0),gz(this.options.recognizers,function(e){var t=n.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}var t=e.prototype;return t.set=function(e){return tz(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},t.stop=function(e){this.session.stopped=e?2:1},t.recognize=function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var i=this.recognizers,r=t.curRecognizer;(!r||r&&8&r.state)&&(t.curRecognizer=null,r=null);for(var o=0;o<i.length;)n=i[o],2===t.stopped||r&&n!==r&&!n.canRecognizeWith(r)?n.reset():n.recognize(e),!r&&14&n.state&&(t.curRecognizer=n,r=n),o++}},t.get=function(e){if(e instanceof eV)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event===e)return t[n];return null},t.add=function(e){if(Kz(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},t.remove=function(e){if(Kz(e,"remove",this))return this;var t=this.get(e);if(e){var n=this.recognizers,i=Dz(n,t);-1!==i&&(n.splice(i,1),this.touchAction.update())}return this},t.on=function(e,t){if(void 0===e||void 0===t)return this;var n=this.handlers;return gz(Tz(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this},t.off=function(e,t){if(void 0===e)return this;var n=this.handlers;return gz(Tz(e),function(e){t?n[e]&&n[e].splice(Dz(n[e],t),1):delete n[e]}),this},t.emit=function(e,t){this.options.domEvents&&function(e,t){var n=document.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](t),i++}},t.destroy=function(){this.element&&dV(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},e}(),pV={touchstart:1,touchmove:2,touchend:4,touchcancel:8},fV=function(e){function t(){var n,i=t.prototype;return i.evTarget="touchstart",i.evWin="touchstart touchmove touchend touchcancel",(n=e.apply(this,arguments)||this).started=!1,n}return QB(t,e),t.prototype.handler=function(e){var t=pV[e.type];if(1===t&&(this.started=!0),this.started){var n=mV.call(this,e,t);12&t&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}},t}(Az);function mV(e,t){var n=Bz(e.touches),i=Bz(e.changedTouches);return 12&t&&(n=zz(n.concat(i),"identifier",!0)),[n,i]}function gV(e,t,n){var i="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",r=window.console&&(window.console.warn||window.console.log);return r&&r.call(window.console,i,n),e.apply(this,arguments)}}var vV=gV(function(e,t,n){for(var i=Object.keys(t),r=0;r<i.length;)(!n||n&&void 0===e[i[r]])&&(e[i[r]]=t[i[r]]),r++;return e},"extend","Use `assign`."),yV=gV(function(e,t){return vV(e,t,!0)},"merge","Use `assign`.");function bV(e,t,n){var i,r=t.prototype;(i=e.prototype=Object.create(r)).constructor=e,i._super=r,n&&tz(i,n)}function _V(e,t){return function(){return e.apply(t,arguments)}}var wV=function(){var e=function(e,t){return void 0===t&&(t={}),new uV(e,ZB({recognizers:hV.concat()},t))};return e.VERSION="2.0.17-rc",e.DIRECTION_ALL=30,e.DIRECTION_DOWN=16,e.DIRECTION_LEFT=2,e.DIRECTION_RIGHT=4,e.DIRECTION_UP=8,e.DIRECTION_HORIZONTAL=6,e.DIRECTION_VERTICAL=24,e.DIRECTION_NONE=1,e.DIRECTION_DOWN=16,e.INPUT_START=1,e.INPUT_MOVE=2,e.INPUT_END=4,e.INPUT_CANCEL=8,e.STATE_POSSIBLE=1,e.STATE_BEGAN=2,e.STATE_CHANGED=4,e.STATE_ENDED=8,e.STATE_RECOGNIZED=8,e.STATE_CANCELLED=16,e.STATE_FAILED=32,e.Manager=uV,e.Input=Az,e.TouchAction=bz,e.TouchInput=Hz,e.MouseInput=qz,e.PointerEventInput=jz,e.TouchMouseInput=Xz,e.SingleTouchInput=fV,e.Recognizer=eV,e.AttrRecognizer=nV,e.Tap=tV,e.Pan=rV,e.Swipe=oV,e.Pinch=sV,e.Rotate=aV,e.Press=cV,e.on=Pz,e.off=Rz,e.each=gz,e.merge=yV,e.extend=vV,e.bindFn=_V,e.assign=tz,e.inherit=bV,e.bindFn=_V,e.prefixed=az,e.toArray=Bz,e.inArray=Dz,e.uniqueArray=zz,e.splitStr=Tz,e.boolOrFn=vz,e.hasParent=_z,e.addEventListeners=Pz,e.removeEventListeners=Rz,e.defaults=tz({},lV,{preset:hV}),e}();function CV(e,t){var n;if(void 0===KB||null==lL(e)){if(HB(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return SV(e,void 0);var i=qB(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?wL(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?SV(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=cL(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function SV(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function kV(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return xV(t.length?t:[DB()])}function xV(e){var t=function(){for(var e=EV(),t=e(" "),n=e(" "),i=e(" "),r=0;r<arguments.length;r++)(t-=e(r<0||arguments.length<=r?void 0:arguments[r]))<0&&(t+=1),(n-=e(r<0||arguments.length<=r?void 0:arguments[r]))<0&&(n+=1),(i-=e(r<0||arguments.length<=r?void 0:arguments[r]))<0&&(i+=1);return[t,n,i]}(e),n=AB(t,3),i=n[0],r=n[1],o=n[2],s=1,a=function(){var e=2091639*i+2.3283064365386963e-10*s;return i=r,r=o,o=e-(s=0|e)};return a.uint32=function(){return 4294967296*a()},a.fract53=function(){return a()+11102230246251565e-32*(2097152*a()|0)},a.algorithm="Alea",a.seed=e,a.version="0.9",a}function EV(){var e=4022871197;return function(t){for(var n=t.toString(),i=0;i<n.length;i++){var r=.02519603282416938*(e+=n.charCodeAt(i));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)}}KB("DELETE");var OV="undefined"!=typeof window?window.Hammer||wV:function(){return function(){var e=function(){};return{on:e,off:e,destroy:e,emit:e,get:function(){return{set:e}}}}()};function TV(e){var t,n=this;this._cleanupQueue=[],this.active=!1,this._dom={container:e,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(function(){n._dom.overlay.parentNode.removeChild(n._dom.overlay)});var i=OV(this._dom.overlay);i.on("tap",dM(t=this._onTapOverlay).call(t,this)),this._cleanupQueue.push(function(){i.destroy()});var r=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];lB(r).call(r,function(e){i.on(e,function(e){e.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=function(t){(function(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1})(t.target,e)||n.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(function(){document.body.removeEventListener("click",n._onClick)})),this._escListener=function(e){("key"in e?"Escape"===e.key:27===e.keyCode)&&n.deactivate()}}BM(TV.prototype),TV.current=null,TV.prototype.destroy=function(){var e,t;this.deactivate();var n,i=CV(tB(e=Kj(t=this._cleanupQueue).call(t,0)).call(e));try{for(i.s();!(n=i.n()).done;)(0,n.value)()}catch(r){i.e(r)}finally{i.f()}},TV.prototype.activate=function(){TV.current&&TV.current.deactivate(),TV.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},TV.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},TV.prototype._onTapOverlay=function(e){this.activate(),e.srcEvent.stopPropagation()};var PV=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,RV=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,IV=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,AV=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function DV(e){if(e)for(;!0===e.hasChildNodes();){var t=e.firstChild;t&&(DV(t),e.removeChild(t))}}function MV(e){return e instanceof String||"string"==typeof e}function NV(e){return"object"===WB(e)&&null!==e}function FV(e,t,n,i){var r=!1;!0===i&&(r=null===t[n]&&void 0!==e[n]),r?delete e[n]:e[n]=t[n]}function LV(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var i in e)if(void 0!==t[i])if(null===t[i]||"object"!==WB(t[i]))FV(e,t,i,n);else{var r=e[i],o=t[i];NV(r)&&NV(o)&&LV(r,o,n)}}function jV(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(HB(n))throw new TypeError("Arrays are not supported by deepExtend");for(var r=0;r<e.length;r++){var o=e[r];if(Object.prototype.hasOwnProperty.call(n,o))if(n[o]&&n[o].constructor===Object)void 0===t[o]&&(t[o]={}),t[o].constructor===Object?zV(t[o],n[o],!1,i):FV(t,n,o,i);else{if(HB(n[o]))throw new TypeError("Arrays are not supported by deepExtend");FV(t,n,o,i)}}return t}function BV(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(HB(n))throw new TypeError("Arrays are not supported by deepExtend");for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)&&!Uj(e).call(e,r))if(n[r]&&n[r].constructor===Object)void 0===t[r]&&(t[r]={}),t[r].constructor===Object?zV(t[r],n[r]):FV(t,n,r,i);else if(HB(n[r])){t[r]=[];for(var o=0;o<n[r].length;o++)t[r].push(n[r][o])}else FV(t,n,r,i);return t}function zV(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)||!0===n)if("object"===WB(t[r])&&null!==t[r]&&Dj(t[r])===Object.prototype)void 0===e[r]?e[r]=zV({},t[r],n):"object"===WB(e[r])&&null!==e[r]&&Dj(e[r])===Object.prototype?zV(e[r],t[r],n):FV(e,t,r,i);else if(HB(t[r])){var o;e[r]=qB(o=t[r]).call(o)}else FV(e,t,r,i);return e}function VV(e,t){var n;return XB(n=[]).call(n,$B(e),[t])}function HV(e){return qB(e).call(e)}function UV(e){return e.getBoundingClientRect().top}function WV(e,t){if(HB(e))for(var n=e.length,i=0;i<n;i++)t(e[i],i,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(e[r],r,e)}function qV(e){var t;switch(e.length){case 3:case 4:return(t=RV.exec(e))?{r:pj(t[1]+t[1],16),g:pj(t[2]+t[2],16),b:pj(t[3]+t[3],16)}:null;case 6:case 7:return(t=PV.exec(e))?{r:pj(t[1],16),g:pj(t[2],16),b:pj(t[3],16)}:null;default:return null}}function $V(e,t){if(Uj(e).call(e,"rgba"))return e;if(Uj(e).call(e,"rgb")){var n=e.substr(cj(e).call(e,"(")+1).replace(")","").split(",");return"rgba("+n[0]+","+n[1]+","+n[2]+","+t+")"}var i=qV(e);return null==i?e:"rgba("+i.r+","+i.g+","+i.b+","+t+")"}function GV(e,t,n){var i;return"#"+qB(i=((1<<24)+(e<<16)+(t<<8)+n).toString(16)).call(i,1)}function YV(e,t){if(MV(e)){var n=e;if(JV(n)){var i,r=VB(i=n.substr(4).substr(0,n.length-5).split(",")).call(i,function(e){return pj(e)});n=GV(r[0],r[1],r[2])}if(!0===QV(n)){var o=function(e){var t=qV(e);if(!t)throw new TypeError("'".concat(e,"' is not a valid color."));return XV(t.r,t.g,t.b)}(n),s={h:o.h,s:.8*o.s,v:Math.min(1,1.02*o.v)},a={h:o.h,s:Math.min(1,1.25*o.s),v:.8*o.v},c=ZV(a.h,a.s,a.v),l=ZV(s.h,s.s,s.v);return{background:n,border:c,highlight:{background:l,border:c},hover:{background:l,border:c}}}return{background:n,border:n,highlight:{background:n,border:n},hover:{background:n,border:n}}}return t?{background:e.background||t.background,border:e.border||t.border,highlight:MV(e.highlight)?{border:e.highlight,background:e.highlight}:{background:e.highlight&&e.highlight.background||t.highlight.background,border:e.highlight&&e.highlight.border||t.highlight.border},hover:MV(e.hover)?{border:e.hover,background:e.hover}:{border:e.hover&&e.hover.border||t.hover.border,background:e.hover&&e.hover.background||t.hover.background}}:{background:e.background||void 0,border:e.border||void 0,highlight:MV(e.highlight)?{border:e.highlight,background:e.highlight}:{background:e.highlight&&e.highlight.background||void 0,border:e.highlight&&e.highlight.border||void 0},hover:MV(e.hover)?{border:e.hover,background:e.hover}:{border:e.hover&&e.hover.border||void 0,background:e.hover&&e.hover.background||void 0}}}function XV(e,t,n){e/=255,t/=255,n/=255;var i=Math.min(e,Math.min(t,n)),r=Math.max(e,Math.max(t,n));return i===r?{h:0,s:0,v:i}:{h:60*((e===i?3:n===i?1:5)-(e===i?t-n:n===i?e-t:n-e)/(r-i))/360,s:(r-i)/r,v:r}}function KV(e,t,n){var i,r,o,s=Math.floor(6*e),a=6*e-s,c=n*(1-t),l=n*(1-a*t),h=n*(1-(1-a)*t);switch(s%6){case 0:i=n,r=h,o=c;break;case 1:i=l,r=n,o=c;break;case 2:i=c,r=n,o=h;break;case 3:i=c,r=l,o=n;break;case 4:i=h,r=c,o=n;break;case 5:i=n,r=c,o=l}return{r:Math.floor(255*i),g:Math.floor(255*r),b:Math.floor(255*o)}}function ZV(e,t,n){var i=KV(e,t,n);return GV(i.r,i.g,i.b)}function QV(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)}function JV(e){return IV.test(e)}function eH(e){return AV.test(e)}function tH(e){if(null===e||"object"!==WB(e))return null;if(e instanceof Element)return e;var t=UL(e);for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&"object"==WB(e[n])&&(t[n]=tH(e[n]));return t}function nH(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=function(e){return null!=e},o=function(e){return null!==e&&"object"===WB(e)},s=function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0};if(!o(e))throw new Error("Parameter mergeTarget must be an object");if(!o(t))throw new Error("Parameter options must be an object");if(!r(n))throw new Error("Parameter option must have a value");if(!o(i))throw new Error("Parameter globalOptions must be an object");var a=function(e,t,n){o(e[n])||(e[n]={});var i=t[n],r=e[n];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},c=t[n],l=o(i)&&!s(i),h=l?i[n]:void 0,d=h?h.enabled:void 0;if(void 0!==c){if("boolean"==typeof c)return o(e[n])||(e[n]={}),void(e[n].enabled=c);if(null===c&&!o(e[n])){if(!r(h))return;e[n]=UL(h)}if(o(c)){var u=!0;void 0!==c.enabled?u=c.enabled:void 0!==d&&(u=h.enabled),a(e,t,n),e[n].enabled=u}}}var iH={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:(4-2*e)*e-1},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}};function rH(e,t){var n;HB(t)||(t=[t]);var i,r=CV(e);try{for(r.s();!(i=r.n()).done;){var o=i.value;if(o){n=o[t[0]];for(var s=1;s<t.length;s++)n&&(n=n[t[s]]);if(void 0!==n)break}}}catch(a){r.e(a)}finally{r.f()}return n}var oH={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"},sH=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;LL(this,e),this.pixelRatio=t,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return zL(e,[{key:"insertTo",value:function(e){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(e){if("function"!=typeof e)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=e}},{key:"setCloseCallback",value:function(e){if("function"!=typeof e)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=e}},{key:"_isColorString",value:function(e){if("string"==typeof e)return oH[e]}},{key:"setColor",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("none"!==e){var n,i=this._isColorString(e);if(void 0!==i&&(e=i),!0===MV(e)){if(!0===JV(e)){var r=e.substr(4).substr(0,e.length-5).split(",");n={r:r[0],g:r[1],b:r[2],a:1}}else if(!0===eH(e)){var o=e.substr(5).substr(0,e.length-6).split(",");n={r:o[0],g:o[1],b:o[2],a:o[3]}}else if(!0===QV(e)){var s=qV(e);n={r:s.r,g:s.g,b:s.b,a:1}}}else if(e instanceof Object&&void 0!==e.r&&void 0!==e.g&&void 0!==e.b){var a=void 0!==e.a?e.a:"1.0";n={r:e.r,g:e.g,b:e.b,a}}if(void 0===n)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+FL(e));this._setColor(n,t)}}},{key:"show",value:function(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];!0===t&&(this.previousColor=AM({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display="none",PL(function(){void 0!==e.closeCallback&&(e.closeCallback(),e.closeCallback=void 0)},0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!0===t&&(this.initialColor=AM({},e)),this.color=e;var n=XV(e.r,e.g,e.b),i=2*Math.PI,r=this.r*n.s,o=this.centerCoordinates.x+r*Math.sin(i*n.h),s=this.centerCoordinates.y+r*Math.cos(i*n.h);this.colorPickerSelector.style.left=o-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=s-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}},{key:"_setOpacity",value:function(e){this.color.a=e/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(e){var t=XV(this.color.r,this.color.g,this.color.b);t.v=e/100;var n=KV(t.h,t.s,t.v);n.a=this.color.a,this.color=n,this._updatePicker()}},{key:"_updatePicker",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.color,t=XV(e.r,e.g,e.b),n=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1)),n.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var i=this.colorPickerCanvas.clientWidth,r=this.colorPickerCanvas.clientHeight;n.clearRect(0,0,i,r),n.putImageData(this.hueCircle,0,0),n.fillStyle="rgba(0,0,0,"+(1-t.v)+")",n.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),kL(n).call(n),this.brightnessRange.value=100*t.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){var e,t,n,i;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var r=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var o=document.createElement("DIV");o.style.color="red",o.style.fontWeight="bold",o.style.padding="10px",o.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(o)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(a){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(a){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var s=this;this.opacityRange.onchange=function(){s._setOpacity(this.value)},this.opacityRange.oninput=function(){s._setOpacity(this.value)},this.brightnessRange.onchange=function(){s._setBrightness(this.value)},this.brightnessRange.oninput=function(){s._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=dM(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=dM(t=this._apply).call(t,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=dM(n=this._save).call(n,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=dM(i=this._loadLast).call(i,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var e=this;this.drag={},this.pinch={},this.hammer=new OV(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",function(t){t.isFirst&&e._moveSelector(t)}),this.hammer.on("tap",function(t){e._moveSelector(t)}),this.hammer.on("panstart",function(t){e._moveSelector(t)}),this.hammer.on("panmove",function(t){e._moveSelector(t)}),this.hammer.on("panend",function(t){e._moveSelector(t)})}},{key:"_generateHueCircle",value:function(){if(!1===this.generated){var e=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var t,n,i,r,o=this.colorPickerCanvas.clientWidth,s=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,o,s),this.centerCoordinates={x:.5*o,y:.5*s},this.r=.49*o;var a,c=2*Math.PI/360,l=1/this.r;for(i=0;i<360;i++)for(r=0;r<this.r;r++)t=this.centerCoordinates.x+r*Math.sin(c*i),n=this.centerCoordinates.y+r*Math.cos(c*i),a=KV(.002777777777777778*i,r*l,1),e.fillStyle="rgb("+a.r+","+a.g+","+a.b+")",e.fillRect(t-.5,n-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,o,s)}this.generated=!0}},{key:"_moveSelector",value:function(e){var t=this.colorPickerDiv.getBoundingClientRect(),n=.5*this.colorPickerDiv.clientHeight,i=.5*this.colorPickerDiv.clientWidth,r=e.center.x-t.left-i,o=e.center.y-t.top-n,s=Math.atan2(r,o),a=.98*Math.min(Math.sqrt(r*r+o*o),i),c=Math.cos(s)*a+n,l=Math.sin(s)*a+i;this.colorPickerSelector.style.top=c-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=l-.5*this.colorPickerSelector.clientWidth+"px";var h=s/(2*Math.PI);h=h<0?h+1:h;var d=a/this.r,u=XV(this.color.r,this.color.g,this.color.b);u.h=h,u.s=d;var p=KV(u.h,u.s,u.v);p.a=this.color.a,this.color=p,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),e}();function aH(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length<1)throw new TypeError("Invalid arguments.");if(1===t.length)return document.createTextNode(t[0]);var i=document.createElement(t[0]);return i.appendChild(aH.apply(void 0,$B(qB(t).call(t,1)))),i}var cH,lH=!1,hH=TV,dH=function(){function e(t,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){return!1};LL(this,e),this.parent=t,this.changedOptions=[],this.container=n,this.allowCreation=!1,this.hideOption=o,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},AM(this.options,this.defaultOptions),this.configureOptions=i,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new sH(r),this.wrapper=void 0}return zL(e,[{key:"setOptions",value:function(e){if(void 0!==e){this.popupHistory={},this._removePopup();var t=!0;if("string"==typeof e)this.options.filter=e;else if(HB(e))this.options.filter=e.join();else if("object"===WB(e)){if(null==e)throw new TypeError("options cannot be null");void 0!==e.container&&(this.options.container=e.container),void 0!==Rj(e)&&(this.options.filter=Rj(e)),void 0!==e.showButton&&(this.options.showButton=e.showButton),void 0!==e.enabled&&(t=e.enabled)}else"boolean"==typeof e?(this.options.filter=!0,t=e):"function"==typeof e&&(this.options.filter=e,t=!0);!1===Rj(this.options)&&(t=!1),this.options.enabled=t}this._clean()}},{key:"setModuleOptions",value:function(e){this.moduleOptions=e,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){this._clean(),this.changedOptions=[];var e=Rj(this.options),t=0,n=!1;for(var i in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,i)&&(this.allowCreation=!1,n=!1,"function"==typeof e?n=(n=e(i,[]))||this._handleObject(this.configureOptions[i],[i],!0):!0!==e&&-1===cj(e).call(e,i)||(n=!0),!1!==n&&(this.allowCreation=!0,t>0&&this._makeItem([]),this._makeHeader(i),this._handleObject(this.configureOptions[i],[i])),t++);this._makeButton(),this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(e){for(var t=this.moduleOptions,n=0;n<e.length;n++){if(void 0===t[e[n]]){t=void 0;break}t=t[e[n]]}return t}},{key:"_makeItem",value:function(e){if(!0===this.allowCreation){var t=document.createElement("div");t.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return lB(i).call(i,function(e){t.appendChild(e)}),this.domElements.push(t),this.domElements.length}return 0}},{key:"_makeHeader",value:function(e){var t=document.createElement("div");t.className="vis-configuration vis-config-header",t.innerText=e,this._makeItem([],t)}},{key:"_makeLabel",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=document.createElement("div");if(i.className="vis-configuration vis-config-label vis-config-s"+t.length,!0===n){for(;i.firstChild;)i.removeChild(i.firstChild);i.appendChild(aH("i","b",e))}else i.innerText=e+":";return i}},{key:"_makeDropdown",value:function(e,t,n){var i=document.createElement("select");i.className="vis-configuration vis-config-select";var r=0;void 0!==t&&-1!==cj(e).call(e,t)&&(r=cj(e).call(e,t));for(var o=0;o<e.length;o++){var s=document.createElement("option");s.value=e[o],o===r&&(s.selected="selected"),s.innerText=e[o],i.appendChild(s)}var a=this;i.onchange=function(){a._update(this.value,n)};var c=this._makeLabel(n[n.length-1],n);this._makeItem(n,c,i)}},{key:"_makeRange",value:function(e,t,n){var i=e[0],r=e[1],o=e[2],s=e[3],a=document.createElement("input");a.className="vis-configuration vis-config-range";try{a.type="range",a.min=r,a.max=o}catch(f){}a.step=s;var c="",l=0;void 0!==t?(t<0&&1.2*t<r?(a.min=Math.ceil(1.2*t),l=a.min,c="range increased"):t/1.2<r&&(a.min=Math.ceil(t/1.2),l=a.min,c="range increased"),1.2*t>o&&1!==o&&(a.max=Math.ceil(1.2*t),l=a.max,c="range increased"),a.value=t):a.value=i;var h=document.createElement("input");h.className="vis-configuration vis-config-rangeinput",h.value=a.value;var d=this;a.onchange=function(){h.value=this.value,d._update(Number(this.value),n)},a.oninput=function(){h.value=this.value};var u=this._makeLabel(n[n.length-1],n),p=this._makeItem(n,u,a,h);""!==c&&this.popupHistory[p]!==l&&(this.popupHistory[p]=l,this._setupPopup(c,p))}},{key:"_makeButton",value:function(){var e=this;if(!0===this.options.showButton){var t=document.createElement("div");t.className="vis-configuration vis-config-button",t.innerText="generate options",t.onclick=function(){e._printOptions()},t.onmouseover=function(){t.className="vis-configuration vis-config-button hover"},t.onmouseout=function(){t.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(t)}}},{key:"_setupPopup",value:function(e,t){var n=this;if(!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit){var i=document.createElement("div");i.id="vis-configuration-popup",i.className="vis-configuration-popup",i.innerText=e,i.onclick=function(){n._removePopup()},this.popupCounter+=1,this.popupDiv={html:i,index:t}}}},{key:"_removePopup",value:function(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var e=this;if(void 0!==this.popupDiv.html){var t=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=t.left+"px",this.popupDiv.html.style.top=t.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=PL(function(){e.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=PL(function(){e._removePopup()},1800)}}},{key:"_makeCheckbox",value:function(e,t,n){var i=document.createElement("input");i.type="checkbox",i.className="vis-configuration vis-config-checkbox",i.checked=e,void 0!==t&&(i.checked=t,t!==e&&("object"===WB(e)?t!==e.enabled&&this.changedOptions.push({path:n,value:t}):this.changedOptions.push({path:n,value:t})));var r=this;i.onchange=function(){r._update(this.checked,n)};var o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,i)}},{key:"_makeTextInput",value:function(e,t,n){var i=document.createElement("input");i.type="text",i.className="vis-configuration vis-config-text",i.value=t,t!==e&&this.changedOptions.push({path:n,value:t});var r=this;i.onchange=function(){r._update(this.value,n)};var o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,i)}},{key:"_makeColorField",value:function(e,t,n){var i=this,r=e[1],o=document.createElement("div");"none"!==(t=void 0===t?r:t)?(o.className="vis-configuration vis-config-colorBlock",o.style.backgroundColor=t):o.className="vis-configuration vis-config-colorBlock none",t=void 0===t?r:t,o.onclick=function(){i._showColorPicker(t,o,n)};var s=this._makeLabel(n[n.length-1],n);this._makeItem(n,s,o)}},{key:"_showColorPicker",value:function(e,t,n){var i=this;t.onclick=function(){},this.colorPicker.insertTo(t),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(function(e){var r="rgba("+e.r+","+e.g+","+e.b+","+e.a+")";t.style.backgroundColor=r,i._update(r,n)}),this.colorPicker.setCloseCallback(function(){t.onclick=function(){i._showColorPicker(e,t,n)}})}},{key:"_handleObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=!1,r=Rj(this.options),o=!1;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){i=!0;var a=e[s],c=VV(t,s);if("function"==typeof r&&!1===(i=r(s,t))&&!HB(a)&&"string"!=typeof a&&"boolean"!=typeof a&&a instanceof Object&&(this.allowCreation=!1,i=this._handleObject(a,c,!0),this.allowCreation=!1===n),!1!==i){o=!0;var l=this._getValue(c);if(HB(a))this._handleArray(a,l,c);else if("string"==typeof a)this._makeTextInput(a,l,c);else if("boolean"==typeof a)this._makeCheckbox(a,l,c);else if(a instanceof Object){if(!this.hideOption(t,s,this.moduleOptions))if(void 0!==a.enabled){var h=VV(c,"enabled"),d=this._getValue(h);if(!0===d){var u=this._makeLabel(s,c,!0);this._makeItem(c,u),o=this._handleObject(a,c)||o}else this._makeCheckbox(a,d,c)}else{var p=this._makeLabel(s,c,!0);this._makeItem(c,p),o=this._handleObject(a,c)||o}}else console.error("dont know how to handle",a,s,c)}}return o}},{key:"_handleArray",value:function(e,t,n){"string"==typeof e[0]&&"color"===e[0]?(this._makeColorField(e,t,n),e[1]!==t&&this.changedOptions.push({path:n,value:t})):"string"==typeof e[0]?(this._makeDropdown(e,t,n),e[0]!==t&&this.changedOptions.push({path:n,value:t})):"number"==typeof e[0]&&(this._makeRange(e,t,n),e[0]!==t&&this.changedOptions.push({path:n,value:Number(t)}))}},{key:"_update",value:function(e,t){var n=this._constructOptions(e,t);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",n),this.initialized=!0,this.parent.setOptions(n)}},{key:"_constructOptions",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n;e="false"!==(e="true"===e||e)&&e;for(var r=0;r<t.length;r++)"global"!==t[r]&&(void 0===i[t[r]]&&(i[t[r]]={}),r!==t.length-1?i=i[t[r]]:i[t[r]]=e);return n}},{key:"_printOptions",value:function(){for(var e=this.getOptions();this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(aH("pre","const options = "+FL(e,null,2)))}},{key:"getOptions",value:function(){for(var e={},t=0;t<this.changedOptions.length;t++)this._constructOptions(this.changedOptions[t].value,this.changedOptions[t].path,e);return e}}]),e}(),uH=OV,pH=function(){function e(t,n){LL(this,e),this.container=t,this.overflowMethod=n||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return zL(e,[{key:"setPosition",value:function(e,t){this.x=pj(e),this.y=pj(t)}},{key:"setText",value:function(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}},{key:"show",value:function(e){if(void 0===e&&(e=!0),!0===e){var t=this.frame.clientHeight,n=this.frame.clientWidth,i=this.frame.parentNode.clientHeight,r=this.frame.parentNode.clientWidth,o=0,s=0;if("flip"==this.overflowMethod){var a=!1,c=!0;this.y-t<this.padding&&(c=!1),this.x+n>r-this.padding&&(a=!0),o=a?this.x-n:this.x,s=c?this.y-t:this.y}else(s=this.y-t)+t+this.padding>i&&(s=i-t-this.padding),s<this.padding&&(s=this.padding),(o=this.x)+n+this.padding>r&&(o=r-n-this.padding),o<this.padding&&(o=this.padding);this.frame.style.left=o+"px",this.frame.style.top=s+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),e}(),fH=function(){function e(){LL(this,e)}return zL(e,null,[{key:"validate",value:function(t,n,i){lH=!1,cH=n;var r=n;return void 0!==i&&(r=n[i]),e.parse(t,r,[]),lH}},{key:"parse",value:function(t,n,i){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.check(r,t,n,i)}},{key:"check",value:function(t,n,i,r){if(void 0!==i[t]||void 0!==i.__any__){var o=t,s=!0;void 0===i[t]&&void 0!==i.__any__&&(o="__any__",s="object"===e.getType(n[t]));var a=i[o];s&&void 0!==a.__type__&&(a=a.__type__),e.checkFields(t,n,i,o,a,r)}else e.getSuggestion(t,i,r)}},{key:"checkFields",value:function(t,n,i,r,o,s){var a=function(n){console.error("%c"+n+e.printLocation(s,t),"background: #FFeeee; color: #dd0000")},c=e.getType(n[t]),l=o[c];void 0!==l?"array"===e.getType(l)&&-1===cj(l).call(l,n[t])?(a('Invalid option detected in "'+t+'". Allowed values are:'+e.print(l)+' not "'+n[t]+'". '),lH=!0):"object"===c&&"__any__"!==r&&(s=VV(s,t),e.parse(n[t],i[r],s)):void 0===o.any&&(a('Invalid type received for "'+t+'". Expected: '+e.print(NB(o))+". Received ["+c+'] "'+n[t]+'"'),lH=!0)}},{key:"getType",value:function(e){var t=WB(e);return"object"===t?null===e?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":HB(e)?"array":e instanceof Date?"date":void 0!==e.nodeType?"dom":!0===e._isAMomentObject?"moment":"object":"number"===t?"number":"boolean"===t?"boolean":"string"===t?"string":void 0===t?"undefined":t}},{key:"getSuggestion",value:function(t,n,i){var r,o=e.findInOptions(t,n,i,!1),s=e.findInOptions(t,cH,[],!0);r=void 0!==o.indexMatch?" in "+e.printLocation(o.path,t,"")+'Perhaps it was incomplete? Did you mean: "'+o.indexMatch+'"?\n\n':s.distance<=4&&o.distance>s.distance?" in "+e.printLocation(o.path,t,"")+"Perhaps it was misplaced? Matching option found at: "+e.printLocation(s.path,s.closestMatch,""):o.distance<=8?'. Did you mean "'+o.closestMatch+'"?'+e.printLocation(o.path,t):". Did you mean one of these: "+e.print(NB(n))+e.printLocation(i,t),console.error('%cUnknown option detected: "'+t+'"'+r,"background: #FFeeee; color: #dd0000"),lH=!0}},{key:"findInOptions",value:function(t,n,i){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=1e9,s="",a=[],c=t.toLowerCase(),l=void 0;for(var h in n){var d=void 0;if(void 0!==n[h].__type__&&!0===r){var u=e.findInOptions(t,n[h],VV(i,h));o>u.distance&&(s=u.closestMatch,a=u.path,o=u.distance,l=u.indexMatch)}else{var p;-1!==cj(p=h.toLowerCase()).call(p,c)&&(l=h),o>(d=e.levenshteinDistance(t,h))&&(s=h,a=HV(i),o=d)}}return{closestMatch:s,path:a,distance:o,indexMatch:l}}},{key:"printLocation",value:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n",i="\n\n"+n+"options = {\n",r=0;r<e.length;r++){for(var o=0;o<r+1;o++)i+="  ";i+=e[r]+": {\n"}for(var s=0;s<e.length+1;s++)i+="  ";i+=t+"\n";for(var a=0;a<e.length+1;a++){for(var c=0;c<e.length-a;c++)i+="  ";i+="}\n"}return i+"\n\n"}},{key:"print",value:function(e){return FL(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}},{key:"levenshteinDistance",value:function(e,t){if(0===e.length)return t.length;if(0===t.length)return e.length;var n,i,r=[];for(n=0;n<=t.length;n++)r[n]=[n];for(i=0;i<=e.length;i++)r[0][i]=i;for(n=1;n<=t.length;n++)for(i=1;i<=e.length;i++)r[n][i]=t.charAt(n-1)==e.charAt(i-1)?r[n-1][i-1]:Math.min(r[n-1][i-1]+1,Math.min(r[n][i-1]+1,r[n-1][i]+1));return r[t.length][e.length]}}]),e}(),mH={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},gH=UL(mH);gH.color="color.color",gH.style="dashes";var vH={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},yH="",bH=0,_H="",wH="",CH=0;function SH(){bH++,_H=yH.charAt(bH)}function kH(){return yH.charAt(bH+1)}var xH=/[a-zA-Z_0-9.:#]/;function EH(e){return xH.test(e)}function OH(e,t){if(e||(e={}),t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function TH(e,t,n){for(var i=t.split("."),r=e;i.length;){var o=i.shift();i.length?(r[o]||(r[o]={}),r=r[o]):r[o]=n}}function PH(e,t){for(var n,i,r=null,o=[e],s=e;s.parent;)o.push(s.parent),s=s.parent;if(s.nodes)for(n=0,i=s.nodes.length;n<i;n++)if(t.id===s.nodes[n].id){r=s.nodes[n];break}for(r||(r={id:t.id},e.node&&(r.attr=OH(r.attr,e.node))),n=o.length-1;n>=0;n--){var a,c=o[n];c.nodes||(c.nodes=[]),-1===cj(a=c.nodes).call(a,r)&&c.nodes.push(r)}t.attr&&(r.attr=OH(r.attr,t.attr))}function RH(e,t){if(e.edges||(e.edges=[]),e.edges.push(t),e.edge){var n=OH({},e.edge);t.attr=OH(n,t.attr)}}function IH(e,t,n,i,r){var o={from:t,to:n,type:i};return e.edge&&(o.attr=OH({},e.edge)),o.attr=OH(o.attr||{},r),null!=r&&r.hasOwnProperty("arrows")&&null!=r.arrows&&(o.arrows={to:{enabled:!0,type:r.arrows.type}},r.arrows=null),o}function AH(){for(CH=0,wH="";" "===_H||"\t"===_H||"\n"===_H||"\r"===_H;)SH();do{var e=!1;if("#"===_H){for(var t=bH-1;" "===yH.charAt(t)||"\t"===yH.charAt(t);)t--;if("\n"===yH.charAt(t)||""===yH.charAt(t)){for(;""!=_H&&"\n"!=_H;)SH();e=!0}}if("/"===_H&&"/"===kH()){for(;""!=_H&&"\n"!=_H;)SH();e=!0}if("/"===_H&&"*"===kH()){for(;""!=_H;){if("*"===_H&&"/"===kH()){SH(),SH();break}SH()}e=!0}for(;" "===_H||"\t"===_H||"\n"===_H||"\r"===_H;)SH()}while(e);if(""!==_H){var n=_H+kH();if(vH[n])return CH=1,wH=n,SH(),void SH();if(vH[_H])return CH=1,wH=_H,void SH();if(EH(_H)||"-"===_H){for(wH+=_H,SH();EH(_H);)wH+=_H,SH();return"false"===wH?wH=!1:"true"===wH?wH=!0:isNaN(Number(wH))||(wH=Number(wH)),void(CH=2)}if('"'===_H){for(SH();""!=_H&&('"'!=_H||'"'===_H&&'"'===kH());)'"'===_H?(wH+=_H,SH()):"\\"===_H&&"n"===kH()?(wH+="\n",SH()):wH+=_H,SH();if('"'!=_H)throw jH('End of string " expected');return SH(),void(CH=2)}for(CH=3;""!=_H;)wH+=_H,SH();throw new SyntaxError('Syntax error in part "'+BH(wH,30)+'"')}CH=1}function DH(e){for(;""!==wH&&"}"!=wH;)MH(e),";"===wH&&AH()}function MH(e){var t=NH(e);if(t)FH(e,t);else if(!function(e){return"node"===wH?(AH(),e.node=LH(),"node"):"edge"===wH?(AH(),e.edge=LH(),"edge"):"graph"===wH?(AH(),e.graph=LH(),"graph"):null}(e)){if(2!=CH)throw jH("Identifier expected");var n=wH;if(AH(),"="===wH){if(AH(),2!=CH)throw jH("Identifier expected");e[n]=wH,AH()}else!function(e,t){var n={id:t},i=LH();i&&(n.attr=i),PH(e,n),FH(e,t)}(e,n)}}function NH(e){var t=null;if("subgraph"===wH&&((t={}).type="subgraph",AH(),2===CH&&(t.id=wH,AH())),"{"===wH){if(AH(),t||(t={}),t.parent=e,t.node=e.node,t.edge=e.edge,t.graph=e.graph,DH(t),"}"!=wH)throw jH("Angle bracket } expected");AH(),delete t.node,delete t.edge,delete t.graph,delete t.parent,e.subgraphs||(e.subgraphs=[]),e.subgraphs.push(t)}return t}function FH(e,t){for(;"->"===wH||"--"===wH;){var n,i=wH;AH();var r=NH(e);if(r)n=r;else{if(2!=CH)throw jH("Identifier or subgraph expected");PH(e,{id:n=wH}),AH()}RH(e,IH(e,t,n,i,LH())),t=n}}function LH(){for(var e,t,n=null,i={dashed:!0,solid:!1,dotted:[1,5]},r={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},o=new Array,s=new Array;"["===wH;){for(AH(),n={};""!==wH&&"]"!=wH;){if(2!=CH)throw jH("Attribute name expected");var a=wH;if(AH(),"="!=wH)throw jH("Equal sign = expected");if(AH(),2!=CH)throw jH("Attribute value expected");var c=wH;"style"===a&&(c=i[c]),"arrowhead"===a&&(a="arrows",c={to:{enabled:!0,type:r[c]}}),"arrowtail"===a&&(a="arrows",c={from:{enabled:!0,type:r[c]}}),o.push({attr:n,name:a,value:c}),s.push(a),AH(),","==wH&&AH()}if("]"!=wH)throw jH("Bracket ] expected");AH()}if(Uj(s).call(s,"dir")){var l={arrows:{}};for(e=0;e<o.length;e++)if("arrows"===o[e].name)if(null!=o[e].value.to)l.arrows.to=e;else{if(null==o[e].value.from)throw jH("Invalid value of arrows");l.arrows.from=e}else"dir"===o[e].name&&(l.dir=e);var h,d,u=o[l.dir].value;if(!Uj(s).call(s,"arrows"))if("both"===u)o.push({attr:o[l.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),l.arrows.to=o.length-1,o.push({attr:o[l.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),l.arrows.from=o.length-1;else if("forward"===u)o.push({attr:o[l.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),l.arrows.to=o.length-1;else if("back"===u)o.push({attr:o[l.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),l.arrows.from=o.length-1;else{if("none"!==u)throw jH('Invalid dir type "'+u+'"');o.push({attr:o[l.dir].attr,name:"arrows",value:""}),l.arrows.to=o.length-1}if("both"===u)l.arrows.to&&l.arrows.from?(o[l.arrows.to]={attr:o[l.arrows.to].attr,name:o[l.arrows.to].name,value:{to:{enabled:!0,type:d=o[l.arrows.to].value.to.type},from:{enabled:!0,type:h=o[l.arrows.from].value.from.type}}},Kj(o).call(o,l.arrows.from,1)):l.arrows.to?o[l.arrows.to]={attr:o[l.arrows.to].attr,name:o[l.arrows.to].name,value:{to:{enabled:!0,type:d=o[l.arrows.to].value.to.type},from:{enabled:!0,type:h="arrow"}}}:l.arrows.from&&(o[l.arrows.from]={attr:o[l.arrows.from].attr,name:o[l.arrows.from].name,value:{to:{enabled:!0,type:d="arrow"},from:{enabled:!0,type:h=o[l.arrows.from].value.from.type}}});else if("back"===u)l.arrows.to&&l.arrows.from?o[l.arrows.from]={attr:o[l.arrows.from].attr,name:o[l.arrows.from].name,value:{to:{enabled:!0,type:d=""},from:{enabled:!0,type:h=o[l.arrows.from].value.from.type}}}:l.arrows.to?(d="",h="arrow",l.arrows.from=l.arrows.to,o[l.arrows.from]={attr:o[l.arrows.from].attr,name:o[l.arrows.from].name,value:{to:{enabled:!0,type:d},from:{enabled:!0,type:h}}}):l.arrows.from&&(o[l.arrows.to]={attr:o[l.arrows.from].attr,name:o[l.arrows.from].name,value:{to:{enabled:!0,type:d=""},from:{enabled:!0,type:h=o[l.arrows.from].value.from.type}}}),o[l.arrows.from]={attr:o[l.arrows.from].attr,name:o[l.arrows.from].name,value:{from:{enabled:!0,type:o[l.arrows.from].value.from.type}}};else if("none"===u){var p;o[p=l.arrows.to?l.arrows.to:l.arrows.from]={attr:o[p].attr,name:o[p].name,value:""}}else{if("forward"!==u)throw jH('Invalid dir type "'+u+'"');l.arrows.to&&l.arrows.from||l.arrows.to?o[l.arrows.to]={attr:o[l.arrows.to].attr,name:o[l.arrows.to].name,value:{to:{enabled:!0,type:d=o[l.arrows.to].value.to.type},from:{enabled:!0,type:h=""}}}:l.arrows.from&&(d="arrow",h="",l.arrows.to=l.arrows.from,o[l.arrows.to]={attr:o[l.arrows.to].attr,name:o[l.arrows.to].name,value:{to:{enabled:!0,type:d},from:{enabled:!0,type:h}}}),o[l.arrows.to]={attr:o[l.arrows.to].attr,name:o[l.arrows.to].name,value:{to:{enabled:!0,type:o[l.arrows.to].value.to.type}}}}Kj(o).call(o,l.dir,1)}if(Uj(s).call(s,"penwidth")){var f=[];for(t=o.length,e=0;e<t;e++)"width"!==o[e].name&&("penwidth"===o[e].name&&(o[e].name="width"),f.push(o[e]));o=f}for(t=o.length,e=0;e<t;e++)TH(o[e].attr,o[e].name,o[e].value);return n}function jH(e){return new SyntaxError(e+', got "'+BH(wH,30)+'" (char '+bH+")")}function BH(e,t){return e.length<=t?e:e.substr(0,27)+"..."}function zH(e,t,n){for(var i=t.split("."),r=i.pop(),o=e,s=0;s<i.length;s++){var a=i[s];a in o||(o[a]={}),o=o[a]}return o[r]=n,e}function VH(e,t){var n={};for(var i in e)if(e.hasOwnProperty(i)){var r=t[i];HB(r)?lB(r).call(r,function(t){zH(n,t,e[i])}):zH(n,"string"==typeof r?r:i,e[i])}return n}var HH=Object.freeze({__proto__:null,en:{addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},de:{addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzuf\xfcgen",addNode:"Knoten hinzuf\xfcgen",back:"Zur\xfcck",close:"Schlie\xdfen",createEdgeError:"Es ist nicht m\xf6glich, Kanten mit Clustern zu verbinden.",del:"L\xf6sche Auswahl",deleteClusterError:"Cluster k\xf6nnen nicht gel\xf6scht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster k\xf6nnen nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},es:{addDescription:"Haga clic en un lugar vac\xedo para colocar un nuevo nodo.",addEdge:"A\xf1adir arista",addNode:"A\xf1adir nodo",back:"Atr\xe1s",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar selecci\xf3n",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},it:{addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},nl:{addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},pt:{addDescription:"Clique em um espa\xe7o em branco para adicionar um novo n\xf3",addEdge:"Adicionar aresta",addNode:"Adicionar n\xf3",back:"Voltar",close:"Fechar",createEdgeError:"N\xe3o foi poss\xedvel linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters n\xe3o puderam ser removidos.",edgeDescription:"Clique em um n\xf3 e arraste a aresta at\xe9 outro n\xf3 para conect\xe1-los",edit:"Editar",editClusterError:"Clusters n\xe3o puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n\xf3 para conect\xe1-los",editNode:"Editar n\xf3"},ru:{addDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u0432 \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u043e\u0435 \u043c\u0435\u0441\u0442\u043e, \u0447\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0443\u0437\u0435\u043b.",addEdge:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0440\u0435\u0431\u0440\u043e",addNode:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0437\u0435\u043b",back:"\u041d\u0430\u0437\u0430\u0434",close:"\u0417\u0430\u043a\u0440\u044b\u0432\u0430\u0442\u044c",createEdgeError:"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0440\u0435\u0431\u0440\u0430 \u0432 \u043a\u043b\u0430\u0441\u0442\u0435\u0440.",del:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0435",deleteClusterError:"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u044b \u043d\u0435 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u044b",edgeDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u043d\u0430 \u0443\u0437\u0435\u043b \u0438 \u043f\u0440\u043e\u0442\u044f\u043d\u0438\u0442\u0435 \u0440\u0435\u0431\u0440\u043e \u043a \u0434\u0440\u0443\u0433\u043e\u043c\u0443 \u0443\u0437\u043b\u0443, \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0438\u0445.",edit:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",editClusterError:"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u044b \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f.",editEdge:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0440\u0435\u0431\u0440\u043e",editEdgeDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u043d\u0430 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u044b\u0435 \u0442\u043e\u0447\u043a\u0438 \u0438 \u043f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0438\u0445 \u0432 \u0443\u0437\u0435\u043b, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u043a \u043d\u0435\u043c\u0443.",editNode:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0443\u0437\u0435\u043b"},cn:{addDescription:"\u5355\u51fb\u7a7a\u767d\u5904\u653e\u7f6e\u65b0\u8282\u70b9\u3002",addEdge:"\u6dfb\u52a0\u8fde\u63a5\u7ebf",addNode:"\u6dfb\u52a0\u8282\u70b9",back:"\u8fd4\u56de",close:"\u95dc\u9589",createEdgeError:"\u65e0\u6cd5\u5c06\u8fde\u63a5\u7ebf\u8fde\u63a5\u5230\u7fa4\u96c6\u3002",del:"\u5220\u9664\u9009\u5b9a",deleteClusterError:"\u65e0\u6cd5\u5220\u9664\u7fa4\u96c6\u3002",edgeDescription:"\u5355\u51fb\u67d0\u4e2a\u8282\u70b9\u5e76\u5c06\u8be5\u8fde\u63a5\u7ebf\u62d6\u52a8\u5230\u53e6\u4e00\u4e2a\u8282\u70b9\u4ee5\u8fde\u63a5\u5b83\u4eec\u3002",edit:"\u7f16\u8f91",editClusterError:"\u65e0\u6cd5\u7f16\u8f91\u7fa4\u96c6\u3002",editEdge:"\u7f16\u8f91\u8fde\u63a5\u7ebf",editEdgeDescription:"\u5355\u51fb\u63a7\u5236\u8282\u70b9\u5e76\u5c06\u5b83\u4eec\u62d6\u5230\u8282\u70b9\u4e0a\u8fde\u63a5\u3002",editNode:"\u7f16\u8f91\u8282\u70b9"},uk:{addDescription:"K\u043b\u0456\u043a\u043d\u0456\u0442\u044c \u043d\u0430 \u0432\u0456\u043b\u044c\u043d\u0435 \u043c\u0456\u0441\u0446\u0435, \u0449\u043e\u0431 \u0434\u043e\u0434\u0430\u0442\u0438 \u043d\u043e\u0432\u0438\u0439 \u0432\u0443\u0437\u043e\u043b.",addEdge:"\u0414\u043e\u0434\u0430\u0442\u0438 \u043a\u0440\u0430\u0439",addNode:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0432\u0443\u0437\u043e\u043b",back:"\u041d\u0430\u0437\u0430\u0434",close:"\u0417\u0430\u043a\u0440\u0438\u0442\u0438",createEdgeError:"\u041d\u0435 \u043c\u043e\u0436\u043b\u0438\u0432\u043e \u043e\u0431'\u0454\u0434\u043d\u0430\u0442\u0438 \u043a\u0440\u0430\u0457 \u0432 \u0433\u0440\u0443\u043f\u0443.",del:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u043e\u0431\u0440\u0430\u043d\u0435",deleteClusterError:"\u0413\u0440\u0443\u043f\u0438 \u043d\u0435 \u043c\u043e\u0436\u0443\u0442\u044c \u0431\u0443\u0442\u0438 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u0456.",edgeDescription:"\u041a\u043b\u0456\u043a\u043d\u0456\u0442\u044c \u043d\u0430 \u0432\u0443\u0437\u043e\u043b \u0456 \u043f\u0435\u0440\u0435\u0442\u044f\u0433\u043d\u0456\u0442\u044c \u043a\u0440\u0430\u0439 \u0434\u043e \u0456\u043d\u0448\u043e\u0433\u043e \u0432\u0443\u0437\u043b\u0430, \u0449\u043e\u0431 \u0457\u0445 \u0437'\u0454\u0434\u043d\u0430\u0442\u0438.",edit:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438",editClusterError:"\u0413\u0440\u0443\u043f\u0438 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0456 \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043d\u043d\u044f.",editEdge:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u043a\u0440\u0430\u0439",editEdgeDescription:"\u041a\u043b\u0456\u043a\u043d\u0456\u0442\u044c \u043d\u0430 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u0456 \u0442\u043e\u0447\u043a\u0438 \u0456 \u043f\u0435\u0440\u0435\u0442\u044f\u0433\u043d\u0456\u0442\u044c \u0457\u0445 \u0443 \u0432\u0443\u0437\u043e\u043b, \u0449\u043e\u0431 \u043f\u0456\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u0438\u0441\u044f \u0434\u043e \u043d\u044c\u043e\u0433\u043e.",editNode:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0432\u0443\u0437\u043e\u043b"},fr:{addDescription:"Cliquez dans un endroit vide pour placer un n\u0153ud.",addEdge:"Ajouter un lien",addNode:"Ajouter un n\u0153ud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de cr\xe9er un lien vers un cluster.",del:"Effacer la s\xe9lection",deleteClusterError:"Les clusters ne peuvent pas \xeatre effac\xe9s.",edgeDescription:"Cliquez sur un n\u0153ud et glissez le lien vers un autre n\u0153ud pour les connecter.",edit:"\xc9diter",editClusterError:"Les clusters ne peuvent pas \xeatre \xe9dit\xe9s.",editEdge:"\xc9diter le lien",editEdgeDescription:"Cliquez sur les points de contr\xf4le et glissez-les pour connecter un n\u0153ud.",editNode:"\xc9diter le n\u0153ud"},cs:{addDescription:"Kluknut\xedm do pr\xe1zdn\xe9ho prostoru m\u016f\u017eete p\u0159idat nov\xfd vrchol.",addEdge:"P\u0159idat hranu",addNode:"P\u0159idat vrchol",back:"Zp\u011bt",close:"Zav\u0159\xedt",createEdgeError:"Nelze p\u0159ipojit hranu ke shluku.",del:"Smazat v\xfdb\u011br",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"P\u0159eta\u017een\xedm z jednoho vrcholu do druh\xe9ho m\u016f\u017eete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"P\u0159eta\u017een\xedm kontroln\xedho vrcholu hrany ji m\u016f\u017eete p\u0159ipojit k jin\xe9mu vrcholu.",editNode:"Upravit vrchol"}}),UH=function(){function e(){LL(this,e),this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}return zL(e,[{key:"init",value:function(){if(!this.initialized()){this.src=this.image.src;var e=this.image.width,t=this.image.height;this.width=e,this.height=t;var n=Math.floor(t/2),i=Math.floor(t/4),r=Math.floor(t/8),o=Math.floor(t/16),s=Math.floor(e/2),a=Math.floor(e/4),c=Math.floor(e/8),l=Math.floor(e/16);this.canvas.width=3*a,this.canvas.height=n,this.coordinates=[[0,0,s,n],[s,0,a,i],[s,i,c,r],[5*c,i,l,o]],this._fillMipMap()}}},{key:"initialized",value:function(){return void 0!==this.coordinates}},{key:"_fillMipMap",value:function(){var e=this.canvas.getContext("2d"),t=this.coordinates[0];e.drawImage(this.image,t[0],t[1],t[2],t[3]);for(var n=1;n<this.NUM_ITERATIONS;n++){var i=this.coordinates[n-1],r=this.coordinates[n];e.drawImage(this.canvas,i[0],i[1],i[2],i[3],r[0],r[1],r[2],r[3])}}},{key:"drawImageAtPosition",value:function(e,t,n,i,r,o){if(this.initialized())if(t>2){t*=.5;for(var s=0;t>2&&s<this.NUM_ITERATIONS;)t*=.5,s+=1;s>=this.NUM_ITERATIONS&&(s=this.NUM_ITERATIONS-1);var a=this.coordinates[s];e.drawImage(this.canvas,a[0],a[1],a[2],a[3],n,i,r,o)}else e.drawImage(this.image,n,i,r,o)}}]),e}(),WH=function(){function e(t){LL(this,e),this.images={},this.imageBroken={},this.callback=t}return zL(e,[{key:"_tryloadBrokenUrl",value:function(e,t,n){void 0!==e&&void 0!==n&&(void 0!==t?(n.image.onerror=function(){console.error("Could not load brokenImage:",t)},n.image.src=t):console.warn("No broken url image defined"))}},{key:"_redrawWithImage",value:function(e){this.callback&&this.callback(e)}},{key:"load",value:function(e,t){var n=this,i=this.images[e];if(i)return i;var r=new UH;return this.images[e]=r,r.image.onload=function(){n._fixImageCoordinates(r.image),r.init(),n._redrawWithImage(r)},r.image.onerror=function(){console.error("Could not load image:",e),n._tryloadBrokenUrl(e,t,r)},r.image.src=e,r}},{key:"_fixImageCoordinates",value:function(e){0===e.width&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e))}}]),e}(),qH=!bD(function(){return Object.isExtensible(Object.preventExtensions({}))}),$H=gD(function(e){var t=JD.f,n=hN("meta"),i=0,r=Object.isExtensible||function(){return!0},o=function(e){t(e,n,{value:{objectID:"O"+ ++i,weakData:{}}})},s=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!ID(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!MD(e,n)){if(!r(e))return"F";if(!t)return"E";o(e)}return e[n].objectID},getWeakData:function(e,t){if(!MD(e,n)){if(!r(e))return!0;if(!t)return!1;o(e)}return e[n].weakData},onFreeze:function(e){return qH&&s.REQUIRED&&r(e)&&!MD(e,n)&&o(e),e}};CM[n]=!0}),GH=function(e,t){this.stopped=e,this.result=t},YH=function(e,t,n){var i,r,o,s,a,c,l,h=!(!n||!n.AS_ENTRIES),d=!(!n||!n.IS_ITERATOR),u=!(!n||!n.INTERRUPTED),p=KD(t,n&&n.that,1+h+u),f=function(e){return i&&hL(i),new GH(!0,e)},m=function(e){return h?(ZD(e),u?p(e[0],e[1],f):p(e[0],e[1])):u?p(e,f):p(e)};if(d)i=e;else{if("function"!=typeof(r=aL(e)))throw TypeError("Target is not iterable");if(fL(r)){for(o=0,s=gM(e.length);s>o;o++)if((a=m(e[o]))&&a instanceof GH)return a;return new GH(!1)}i=r.call(e)}for(c=i.next;!(l=c.call(i)).done;){try{a=m(l.value)}catch(aK){throw hL(i),aK}if("object"==typeof a&&a&&a instanceof GH)return a}return new GH(!1)},XH=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e},KH=JD.f,ZH=tF.forEach,QH=KN.set,JH=KN.getterFor,eU=function(e,t,n){var i,r=-1!==e.indexOf("Map"),o=-1!==e.indexOf("Weak"),s=r?"set":"add",a=yD[e],c=a&&a.prototype,l={};if(_D&&"function"==typeof a&&(o||c.forEach&&!bD(function(){(new a).entries().next()}))){i=t(function(t,n){QH(XH(t,i,e),{type:e,collection:new a}),null!=n&&YH(n,t[s],{that:t,AS_ENTRIES:r})});var h=JH(e);ZH(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(e){var t="add"==e||"set"==e;!(e in c)||o&&"clear"==e||eM(i.prototype,e,function(n,i){var r=h(this).collection;if(!t&&o&&!ID(n))return"get"==e&&void 0;var s=r[e](0===n?0:n,i);return t?this:s})}),o||KH(i.prototype,"size",{configurable:!0,get:function(){return h(this).collection.size}})}else i=n.getConstructor(t,e,r,s),$H.REQUIRED=!0;return jN(i,e,!1,!0),l[e]=i,iM({global:!0,forced:!0},l),o||n.setStrong(i,e,r),i},tU=function(e,t,n){for(var i in t)n&&n.unsafe&&e[i]?e[i]=t[i]:CN(e,i,t[i],n);return e},nU=EN("species"),iU=JD.f,rU=$H.fastKey,oU=KN.set,sU=KN.getterFor,aU={getConstructor:function(e,t,n,i){var r=e(function(e,o){XH(e,r,t),oU(e,{type:t,index:vN(null),first:void 0,last:void 0,size:0}),_D||(e.size=0),null!=o&&YH(o,e[i],{that:e,AS_ENTRIES:n})}),o=sU(t),s=function(e,t,n){var i,r,s=o(e),c=a(e,t);return c?c.value=n:(s.last=c={index:r=rU(t,!0),key:t,value:n,previous:i=s.last,next:void 0,removed:!1},s.first||(s.first=c),i&&(i.next=c),_D?s.size++:e.size++,"F"!==r&&(s.index[r]=c)),e},a=function(e,t){var n,i=o(e),r=rU(t);if("F"!==r)return i.index[r];for(n=i.first;n;n=n.next)if(n.key==t)return n};return tU(r.prototype,{clear:function(){for(var e=o(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,_D?e.size=0:this.size=0},delete:function(e){var t=o(this),n=a(this,e);if(n){var i=n.next,r=n.previous;delete t.index[n.index],n.removed=!0,r&&(r.next=i),i&&(i.previous=r),t.first==n&&(t.first=i),t.last==n&&(t.last=r),_D?t.size--:this.size--}return!!n},forEach:function(e){for(var t,n=o(this),i=KD(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(i(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!a(this,e)}}),tU(r.prototype,n?{get:function(e){var t=a(this,e);return t&&t.value},set:function(e,t){return s(this,0===e?0:e,t)}}:{add:function(e){return s(this,e=0===e?0:e,e)}}),_D&&iU(r.prototype,"size",{get:function(){return o(this).size}}),r},setStrong:function(e,t,n){var i=t+" Iterator",r=sU(t),o=sU(i);XF(e,t,function(e,t){oU(this,{type:i,target:e,state:r(e),kind:t,last:void 0})},function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})},n?"entries":"values",!n,!0),function(e){var t=qM(e);_D&&t&&!t[nU]&&(0,JD.f)(t,nU,{configurable:!0,get:function(){return this}})}(t)}},cU=(eU("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},aU),YD.Map),lU=function(){function e(){LL(this,e),this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},AM(this.options,this.defaultOptions)}return zL(e,[{key:"setOptions",value:function(e){var t=["useDefaultGroups"];if(void 0!==e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&-1===cj(t).call(t,n)&&this.add(n,e[n])}},{key:"clear",value:function(){this._groups=new cU,this._groupNames=[]}},{key:"get",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this._groups.get(e);if(void 0===n&&t)if(!1===this.options.useDefaultGroups&&this._groupNames.length>0){var i=this._groupIndex%this._groupNames.length;++this._groupIndex,(n={}).color=this._groups.get(this._groupNames[i]),this._groups.set(e,n)}else{var r=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,(n={}).color=this._defaultGroups[r],this._groups.set(e,n)}return n}},{key:"add",value:function(e,t){return this._groups.has(e)||this._groupNames.push(e),this._groups.set(e,t),t}}]),e}(),hU=tF.some,dU=KL("some"),uU=ej("some");iM({target:"Array",proto:!0,forced:!dU||!uU},{some:function(e){return hU(this,e,arguments.length>1?arguments[1]:void 0)}});var pU=cM("Array").some,fU=Array.prototype,mU=yD.isFinite;iM({target:"Number",stat:!0},{isFinite:Number.isFinite||function(e){return"number"==typeof e&&mU(e)}});var gU=YD.Number.isFinite;iM({target:"Number",stat:!0},{isNaN:function(e){return e!=e}});var vU=YD.Number.isNaN,yU=wN.f,bU=bD(function(){return!Object.getOwnPropertyNames(1)});iM({target:"Object",stat:!0,forced:bU},{getOwnPropertyNames:yU});var _U=YD.Object,wU=YL.trim,CU=yD.parseFloat,SU=1/CU("\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff-0")!=-1/0?function(e){var t=wU(String(e)),n=CU(t);return 0===n&&"-"==t.charAt(0)?-0:n}:CU;iM({global:!0,forced:parseFloat!=SU},{parseFloat:SU});var kU=YD.parseFloat;function xU(e,t){var n=["node","edge","label"],i=!0,r=rH(t,"chosen");if("boolean"==typeof r)i=r;else if("object"===WB(r)){if(-1===cj(n).call(n,e))throw new Error("choosify: subOption '"+e+"' should be one of '"+n.join("', '")+"'");var o=rH(t,["chosen",e]);"boolean"!=typeof o&&"function"!=typeof o||(i=o)}return i}function EU(e,t,n){if(e.width<=0||e.height<=0)return!1;if(void 0!==n){var i={x:t.x-n.x,y:t.y-n.y};if(0!==n.angle){var r=-n.angle;t={x:Math.cos(r)*i.x-Math.sin(r)*i.y,y:Math.sin(r)*i.x+Math.cos(r)*i.y}}else t=i}return e.left<t.x&&e.x+e.width>t.x&&e.top<t.y&&e.y+e.width>t.y}function OU(e){return"string"==typeof e&&""!==e}function TU(e,t,n,i){var r=i.x,o=i.y;if("function"==typeof i.distanceToBorder){var s=i.distanceToBorder(e,t),a=Math.sin(t)*s,c=Math.cos(t)*s;c===s?(r+=s,o=i.y):a===s?(r=i.x,o-=s):(r+=c,o-=a)}else i.shape.width>i.shape.height?(r=i.x+.5*i.shape.width,o=i.y-n):(r=i.x+n,o=i.y-.5*i.shape.height);return{x:r,y:o}}var PU=cM("Array").values,RU=Array.prototype,IU={DOMTokenList:!0,NodeList:!0},AU=function(e){var t=e.values;return e===RU||e instanceof Array&&t===RU.values||IU.hasOwnProperty(MN(e))?PU:t},DU=function(){function e(t){LL(this,e),this.measureText=t,this.current=0,this.width=0,this.height=0,this.lines=[]}return zL(e,[{key:"_add",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal";void 0===this.lines[e]&&(this.lines[e]={width:0,height:0,blocks:[]});var i=t;void 0!==t&&""!==t||(i=" ");var r=this.measureText(i,n),o=AM({},AU(r));o.text=t,o.width=r.width,o.mod=n,void 0!==t&&""!==t||(o.width=0),this.lines[e].blocks.push(o),this.lines[e].width+=o.width}},{key:"curWidth",value:function(){var e=this.lines[this.current];return void 0===e?0:e.width}},{key:"append",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,e,t)}},{key:"newLine",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,e,t),this.current++}},{key:"determineLineHeights",value:function(){for(var e=0;e<this.lines.length;e++){var t=this.lines[e],n=0;if(void 0!==t.blocks)for(var i=0;i<t.blocks.length;i++){var r=t.blocks[i];n<r.height&&(n=r.height)}t.height=n}}},{key:"determineLabelSize",value:function(){for(var e=0,t=0,n=0;n<this.lines.length;n++){var i=this.lines[n];i.width>e&&(e=i.width),t+=i.height}this.width=e,this.height=t}},{key:"removeEmptyBlocks",value:function(){for(var e=[],t=0;t<this.lines.length;t++){var n=this.lines[t];if(0!==n.blocks.length&&(t!==this.lines.length-1||0!==n.width)){var i={};AM(i,n),i.blocks=[];for(var r=void 0,o=[],s=0;s<n.blocks.length;s++){var a=n.blocks[s];0!==a.width?o.push(a):void 0===r&&(r=a)}0===o.length&&void 0!==r&&o.push(r),i.blocks=o,e.push(i)}}return e}},{key:"finalize",value:function(){this.determineLineHeights(),this.determineLabelSize();var e=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:e}}}]),e}(),MU={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/},NU=function(){function e(t){LL(this,e),this.text=t,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}return zL(e,[{key:"mod",value:function(){return 0===this.modStack.length?"normal":this.modStack[0]}},{key:"modName",value:function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":this.bold&&this.ital?"boldital":this.bold?"bold":this.ital?"ital":void 0}},{key:"emitBlock",value:function(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}},{key:"add",value:function(e){" "===e&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=e&&(this.buffer+=e)}},{key:"parseWS",value:function(e){return!!/[ \t]/.test(e)&&(this.mono?this.add(e):this.spacing=!0,!0)}},{key:"setTag",value:function(e){this.emitBlock(),this[e]=!0,this.modStack.unshift(e)}},{key:"unsetTag",value:function(e){this.emitBlock(),this[e]=!1,this.modStack.shift()}},{key:"parseStartTag",value:function(e,t){return!(this.mono||this[e]||!this.match(t)||(this.setTag(e),0))}},{key:"match",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.prepareRegExp(e),i=AB(n,2),r=i[0],o=i[1],s=r.test(this.text.substr(this.position,o));return s&&t&&(this.position+=o-1),s}},{key:"parseEndTag",value:function(e,t,n){var i=this.mod()===e;return!(!(i="mono"===e?i&&this.mono:i&&!this.mono)||!this.match(t)||(void 0!==n?(this.position===this.text.length-1||this.match(n,!1))&&this.unsetTag(e):this.unsetTag(e),0))}},{key:"replace",value:function(e,t){return!!this.match(e)&&(this.add(t),this.position+=length-1,!0)}},{key:"prepareRegExp",value:function(e){var t,n;if(e instanceof RegExp)n=e,t=1;else{var i=MU[e];n=void 0!==i?i:new RegExp(e),t=e.length}return[n,t]}}]),e}(),FU=function(){function e(t,n,i,r){var o=this;LL(this,e),this.ctx=t,this.parent=n,this.selected=i,this.hover=r,this.lines=new DU(function(e,n){if(void 0===e)return 0;var s=o.parent.getFormattingValues(t,i,r,n),a=0;return""!==e&&(a=o.ctx.measureText(e).width),{width:a,values:s}})}return zL(e,[{key:"process",value:function(e){if(!OU(e))return this.lines.finalize();var t=this.parent.fontOptions;e=(e=e.replace(/\r\n/g,"\n")).replace(/\r/g,"\n");var n=String(e).split("\n"),i=n.length;if(t.multi)for(var r=0;r<i;r++){var o=this.splitBlocks(n[r],t.multi);if(void 0!==o)if(0!==o.length){if(t.maxWdt>0)for(var s=0;s<o.length;s++)this.splitStringIntoLines(o[s].text,o[s].mod,!0);else for(var a=0;a<o.length;a++)this.lines.append(o[a].text,o[a].mod);this.lines.newLine()}else this.lines.newLine("")}else if(t.maxWdt>0)for(var c=0;c<i;c++)this.splitStringIntoLines(n[c]);else for(var l=0;l<i;l++)this.lines.newLine(n[l]);return this.lines.finalize()}},{key:"decodeMarkupSystem",value:function(e){var t="none";return"markdown"===e||"md"===e?t="markdown":!0!==e&&"html"!==e||(t="html"),t}},{key:"splitHtmlBlocks",value:function(e){for(var t=new NU(e),n=function(e){return!!/&/.test(e)&&(t.replace(t.text,"&lt;","<")||t.replace(t.text,"&amp;","&")||t.add("&"),!0)};t.position<t.text.length;){var i=t.text.charAt(t.position);t.parseWS(i)||/</.test(i)&&(t.parseStartTag("bold","<b>")||t.parseStartTag("ital","<i>")||t.parseStartTag("mono","<code>")||t.parseEndTag("bold","</b>")||t.parseEndTag("ital","</i>")||t.parseEndTag("mono","</code>"))||n(i)||t.add(i),t.position++}return t.emitBlock(),t.blocks}},{key:"splitMarkdownBlocks",value:function(e){for(var t=this,n=new NU(e),i=!0,r=function(e){return!!/\\/.test(e)&&(n.position<t.text.length+1&&(n.position++,e=t.text.charAt(n.position),/ \t/.test(e)?n.spacing=!0:(n.add(e),i=!1)),!0)};n.position<n.text.length;){var o=n.text.charAt(n.position);n.parseWS(o)||r(o)||(i||n.spacing)&&(n.parseStartTag("bold","*")||n.parseStartTag("ital","_")||n.parseStartTag("mono","`"))||n.parseEndTag("bold","*","afterBold")||n.parseEndTag("ital","_","afterItal")||n.parseEndTag("mono","`","afterMono")||(n.add(o),i=!1),n.position++}return n.emitBlock(),n.blocks}},{key:"splitBlocks",value:function(e,t){var n=this.decodeMarkupSystem(t);return"none"===n?[{text:e,mod:"normal"}]:"markdown"===n?this.splitMarkdownBlocks(e):"html"===n?this.splitHtmlBlocks(e):void 0}},{key:"overMaxWidth",value:function(e){var t=this.ctx.measureText(e).width;return this.lines.curWidth()+t>this.parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function(e){for(var t="",n=0;n<e.length;){var i=t+(""===t?"":" ")+e[n];if(this.overMaxWidth(i))break;t=i,n++}return n}},{key:"getLongestFitWord",value:function(e){for(var t=0;t<e.length&&!this.overMaxWidth(qB(e).call(e,0,t));)t++;return t}},{key:"splitStringIntoLines",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.parent.getFormattingValues(this.ctx,this.selected,this.hover,t);for(var i=(e=(e=e.replace(/^( +)/g,"$1\r")).replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r")).split("\r");i.length>0;){var r=this.getLongestFit(i);if(0===r){var o=i[0],s=this.getLongestFitWord(o);this.lines.newLine(qB(o).call(o,0,s),t),i[0]=qB(o).call(o,s)}else{var a=r;" "===i[r-1]?r--:" "===i[a]&&a++;var c=qB(i).call(i,0,r).join("");r==i.length&&n?this.lines.append(c,t):this.lines.newLine(c,t),i=qB(i).call(i,a)}}}}]),e}(),LU=["bold","ital","boldital","mono"],jU=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];LL(this,e),this.body=t,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(n),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=i}return zL(e,[{key:"setOptions",value:function(e){if(this.elementOptions=e,this.initFontOptions(e.font),OU(e.label)?this.labelDirty=!0:e.label=void 0,null!=e.font)if("string"==typeof e.font)this.baseSize=this.fontOptions.size;else if("object"===WB(e.font)){var t=e.font.size;void 0!==t&&(this.baseSize=t)}}},{key:"initFontOptions",value:function(t){var n=this;WV(LU,function(e){n.fontOptions[e]={}}),e.parseFontString(this.fontOptions,t)?this.fontOptions.vadjust=0:WV(t,function(e,t){null!=e&&"object"!==WB(e)&&(n.fontOptions[t]=e)})}},{key:"constrain",value:function(e){var t={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},n=rH(e,"widthConstraint");if("number"==typeof n)t.maxWdt=Number(n),t.minWdt=Number(n);else if("object"===WB(n)){var i=rH(e,["widthConstraint","maximum"]);"number"==typeof i&&(t.maxWdt=Number(i));var r=rH(e,["widthConstraint","minimum"]);"number"==typeof r&&(t.minWdt=Number(r))}var o=rH(e,"heightConstraint");if("number"==typeof o)t.minHgt=Number(o);else if("object"===WB(o)){var s=rH(e,["heightConstraint","minimum"]);"number"==typeof s&&(t.minHgt=Number(s));var a=rH(e,["heightConstraint","valign"]);"string"==typeof a&&("top"!==a&&"bottom"!==a||(t.valign=a))}return t}},{key:"update",value:function(e,t){this.setOptions(e,!0),this.propagateFonts(t),zV(this.fontOptions,this.constrain(t)),this.fontOptions.chooser=xU("label",t)}},{key:"adjustSizes",value:function(e){var t=e?e.right+e.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=t,this.fontOptions.minWdt-=t),this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=e?e.top+e.bottom:0)}},{key:"addFontOptionsToPile",value:function(e,t){for(var n=0;n<t.length;++n)this.addFontToPile(e,t[n])}},{key:"addFontToPile",value:function(e,t){void 0!==t&&null!=t.font&&e.push(t.font)}},{key:"getBasicOptions",value:function(t){for(var n={},i=0;i<t.length;++i){var r=t[i],o={};e.parseFontString(o,r)&&(r=o),WV(r,function(e,t){void 0!==e&&(Object.prototype.hasOwnProperty.call(n,t)||(n[t]=-1!==cj(LU).call(LU,t)?{}:e))})}return n}},{key:"getFontOption",value:function(t,n,i){for(var r,o=0;o<t.length;++o){var s=t[o];if(Object.prototype.hasOwnProperty.call(s,n)){if(null==(r=s[n]))continue;var a={};if(e.parseFontString(a,r)&&(r=a),Object.prototype.hasOwnProperty.call(r,i))return r[i]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,i))return this.fontOptions[i];throw new Error("Did not find value for multi-font for property: '"+i+"'")}},{key:"getFontOptions",value:function(e,t){for(var n={},i=["color","size","face","mod","vadjust"],r=0;r<i.length;++r){var o=i[r];n[o]=this.getFontOption(e,t,o)}return n}},{key:"propagateFonts",value:function(e){var t=this,n=[];this.addFontOptionsToPile(n,e),this.fontOptions=this.getBasicOptions(n);for(var i=function(e){var i=LU[e],r=t.fontOptions[i];WV(t.getFontOptions(n,i),function(e,t){r[t]=e}),r.size=Number(r.size),r.vadjust=Number(r.vadjust)},r=0;r<LU.length;++r)i(r)}},{key:"draw",value:function(e,t,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";if(void 0!==this.elementOptions.label){var s=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&s<this.elementOptions.scaling.label.drawThreshold-1||(s>=this.elementOptions.scaling.label.maxVisible&&(s=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(e,i,r,t,n,o),this._drawBackground(e),this._drawText(e,t,this.size.yLine,o,s))}}},{key:"_drawBackground",value:function(e){if(void 0!==this.fontOptions.background&&"none"!==this.fontOptions.background){e.fillStyle=this.fontOptions.background;var t=this.getSize();e.fillRect(t.left,t.top,t.width,t.height)}}},{key:"_drawText",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"middle",r=arguments.length>4?arguments[4]:void 0,o=this._setAlignment(e,t,n,i),s=AB(o,2);t=s[0],n=s[1],e.textAlign="left",t-=this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&("top"===this.fontOptions.valign&&(n-=(this.size.height-this.size.labelHeight)/2),"bottom"===this.fontOptions.valign&&(n+=(this.size.height-this.size.labelHeight)/2));for(var a=0;a<this.lineCount;a++){var c=this.lines[a];if(c&&c.blocks){var l=0;this.isEdgeLabel||"center"===this.fontOptions.align?l+=(this.size.width-c.width)/2:"right"===this.fontOptions.align&&(l+=this.size.width-c.width);for(var h=0;h<c.blocks.length;h++){var d=c.blocks[h];e.font=d.font;var u=this._getColor(d.color,r,d.strokeColor),p=AB(u,2),f=p[0],m=p[1];d.strokeWidth>0&&(e.lineWidth=d.strokeWidth,e.strokeStyle=m,e.lineJoin="round"),e.fillStyle=f,d.strokeWidth>0&&e.strokeText(d.text,t+l,n+d.vadjust),e.fillText(d.text,t+l,n+d.vadjust),l+=d.width}n+=c.height}}}},{key:"_setAlignment",value:function(e,t,n,i){return this.isEdgeLabel&&"horizontal"!==this.fontOptions.align&&!1===this.pointToSelf?(t=0,n=0,"top"===this.fontOptions.align?(e.textBaseline="alphabetic",n-=4):"bottom"===this.fontOptions.align?(e.textBaseline="hanging",n+=4):e.textBaseline="middle"):e.textBaseline=i,[t,n]}},{key:"_getColor",value:function(e,t,n){var i=e||"#000000",r=n||"#ffffff";if(t<=this.elementOptions.scaling.label.drawThreshold){var o=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-t)));i=$V(i,o),r=$V(r,o)}return[i,r]}},{key:"getTextSize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._processLabel(e,t,n),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"getSize",value:function(){var e=this.size.left,t=this.size.top-1;if(this.isEdgeLabel){var n=.5*-this.size.width;switch(this.fontOptions.align){case"middle":e=n,t=.5*-this.size.height;break;case"top":e=n,t=-(this.size.height+2);break;case"bottom":e=n,t=2}}return{left:e,top:t,width:this.size.width,height:this.size.height}}},{key:"calculateLabelSize",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";this._processLabel(e,t,n),this.size.left=i-.5*this.size.width,this.size.top=r-.5*this.size.height,this.size.yLine=r+.5*(1-this.lineCount)*this.fontOptions.size,"hanging"===o&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}},{key:"getFormattingValues",value:function(e,t,n,i){var r=function(e,t,n){return"normal"===t?"mod"===n?"":e[n]:void 0!==e[t][n]?e[t][n]:e[n]},o={color:r(this.fontOptions,i,"color"),size:r(this.fontOptions,i,"size"),face:r(this.fontOptions,i,"face"),mod:r(this.fontOptions,i,"mod"),vadjust:r(this.fontOptions,i,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(t||n)&&("normal"===i&&!0===this.fontOptions.chooser&&this.elementOptions.labelHighlightBold?o.mod="bold":"function"==typeof this.fontOptions.chooser&&this.fontOptions.chooser(o,this.elementOptions.id,t,n));var s="";return void 0!==o.mod&&""!==o.mod&&(s+=o.mod+" "),e.font=(s+=o.size+"px "+o.face).replace(/"/g,""),o.font=e.font,o.height=o.size,o}},{key:"differentState",value:function(e,t){return e!==this.selectedState||t!==this.hoverState}},{key:"_processLabelText",value:function(e,t,n,i){return new FU(e,this,t,n).process(i)}},{key:"_processLabel",value:function(e,t,n){if(!1!==this.labelDirty||this.differentState(t,n)){var i=this._processLabelText(e,t,n,this.elementOptions.label);this.fontOptions.minWdt>0&&i.width<this.fontOptions.minWdt&&(i.width=this.fontOptions.minWdt),this.size.labelHeight=i.height,this.fontOptions.minHgt>0&&i.height<this.fontOptions.minHgt&&(i.height=this.fontOptions.minHgt),this.lines=i.lines,this.lineCount=i.lines.length,this.size.width=i.width,this.size.height=i.height,this.selectedState=t,this.hoverState=n,this.labelDirty=!1}}},{key:"visible",value:function(){return 0!==this.size.width&&0!==this.size.height&&void 0!==this.elementOptions.label&&!(this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}],[{key:"parseFontString",value:function(e,t){if(!t||"string"!=typeof t)return!1;var n=t.split(" ");return e.size=+n[0].replace("px",""),e.face=n[1],e.color=n[2],!0}}]),e}(),BU=qM("Reflect","construct"),zU=bD(function(){function e(){}return!(BU(function(){},[],e)instanceof e)}),VU=!bD(function(){BU(function(){})}),HU=zU||VU;iM({target:"Reflect",stat:!0,forced:HU,sham:HU},{construct:function(e,t){XD(e),ZD(t);var n=arguments.length<3?e:XD(arguments[2]);if(VU&&!zU)return BU(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var i=[null];return i.push.apply(i,t),new(aM.apply(e,i))}var r=n.prototype,o=vN(ID(r)?r:Object.prototype),s=Function.apply.call(e,o,t);return ID(s)?s:o}});var UU=YD.Reflect.construct,WU=HL;iM({target:"Object",stat:!0},{setPrototypeOf:WF});var qU=YD.Object.setPrototypeOf,$U=gD(function(e){function t(n,i){return e.exports=t=qU||function(e,t){return e.__proto__=t,e},t(n,i)}e.exports=t}),GU=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=WU(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$U(e,t)},YU=function(e,t){return!t||"object"!==WB(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t},XU=Aj,KU=gD(function(e){function t(n){return e.exports=t=qU?XU:function(e){return e.__proto__||XU(e)},t(n)}e.exports=t}),ZU=function(){function e(t,n,i){LL(this,e),this.body=n,this.labelModule=i,this.setOptions(t),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return zL(e,[{key:"setOptions",value:function(e){this.options=e}},{key:"_setMargins",value:function(e){this.margin={},this.options.margin&&("object"==WB(this.options.margin)?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),e.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(e,t){var n=this.options.borderWidth;return e&&this.resize(e),Math.min(Math.abs(this.width/2/Math.cos(t)),Math.abs(this.height/2/Math.sin(t)))+n}},{key:"enableShadow",value:function(e,t){t.shadow&&(e.shadowColor=t.shadowColor,e.shadowBlur=t.shadowSize,e.shadowOffsetX=t.shadowX,e.shadowOffsetY=t.shadowY)}},{key:"disableShadow",value:function(e,t){t.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(e,t){if(!1!==t.borderDashes)if(void 0!==e.setLineDash){var n=t.borderDashes;!0===n&&(n=[5,15]),e.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,t.borderDashes=!1}},{key:"disableBorderDashes",value:function(e,t){!1!==t.borderDashes&&(void 0!==e.setLineDash?e.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,t.borderDashes=!1))}},{key:"needsRefresh",value:function(e,t){return!0===this.refreshNeeded?(this.refreshNeeded=!1,!0):void 0===this.width||this.labelModule.differentState(e,t)}},{key:"initContextForDraw",value:function(e,t){e.lineWidth=Math.min(this.width,t.borderWidth/this.body.view.scale),e.strokeStyle=t.borderColor,e.fillStyle=t.color}},{key:"performStroke",value:function(e,t){var n=t.borderWidth/this.body.view.scale;e.save(),n>0&&(this.enableBorderDashes(e,t),e.stroke(),this.disableBorderDashes(e,t)),e.restore()}},{key:"performFill",value:function(e,t){e.save(),e.fillStyle=t.color,this.enableShadow(e,t),kL(e).call(e),this.disableShadow(e,t),e.restore(),this.performStroke(e,t)}},{key:"_addBoundingBoxMargin",value:function(e){this.boundingBox.left-=e,this.boundingBox.top-=e,this.boundingBox.bottom+=e,this.boundingBox.right+=e}},{key:"_updateBoundingBox",value:function(e,t,n,i,r){void 0!==n&&this.resize(n,i,r),this.left=e-this.width/2,this.top=t-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function(e,t,n,i,r){this._updateBoundingBox(e,t,n,i,r)}},{key:"getDimensionsFromLabel",value:function(e,t,n){this.textSize=this.labelModule.getTextSize(e,t,n);var i=this.textSize.width,r=this.textSize.height;return 0===i&&(i=14,r=14),{width:i,height:r}}}]),e}(),QU=function(e){GU(r,e);var t,n,i=(t=r,n=function(){if("undefined"==typeof Reflect||!UU)return!1;if(UU.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(UU(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,i=KU(t);if(n){var r=KU(this).constructor;e=UU(i,arguments,r)}else e=i.apply(this,arguments);return YU(this,e)});function r(e,t,n){var o;return LL(this,r),(o=i.call(this,e,t,n))._setMargins(n),o}return zL(r,[{key:"resize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(t,n)){var i=this.getDimensionsFromLabel(e,t,n);this.width=i.width+this.margin.right+this.margin.left,this.height=i.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}},{key:"draw",value:function(e,t,n,i,r,o){this.resize(e,i,r),this.left=t-this.width/2,this.top=n-this.height/2,this.initContextForDraw(e,o),MM(e,this.left,this.top,this.width,this.height,o.borderRadius),this.performFill(e,o),this.updateBoundingBox(t,n,e,i,r),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,r)}},{key:"updateBoundingBox",value:function(e,t,n,i,r){this._updateBoundingBox(e,t,n,i,r),this._addBoundingBoxMargin(this.options.shapeProperties.borderRadius)}},{key:"distanceToBorder",value:function(e,t){e&&this.resize(e);var n=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(t)),Math.abs(this.height/2/Math.sin(t)))+n}}]),r}(ZU),JU=function(e){GU(r,e);var t,n,i=(t=r,n=function(){if("undefined"==typeof Reflect||!UU)return!1;if(UU.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(UU(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,i=KU(t);if(n){var r=KU(this).constructor;e=UU(i,arguments,r)}else e=i.apply(this,arguments);return YU(this,e)});function r(e,t,n){var o;return LL(this,r),(o=i.call(this,e,t,n)).labelOffset=0,o.selected=!1,o}return zL(r,[{key:"setOptions",value:function(e,t,n){this.options=e,void 0===t&&void 0===n||this.setImages(t,n)}},{key:"setImages",value:function(e,t){t&&this.selected?(this.imageObj=t,this.imageObjAlt=e):(this.imageObj=e,this.imageObjAlt=t)}},{key:"switchImages",value:function(e){var t=e&&!this.selected||!e&&this.selected;if(this.selected=e,void 0!==this.imageObjAlt&&t){var n=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=n}}},{key:"_getImagePadding",value:function(){var e={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){var t=this.options.imagePadding;"object"==WB(t)?(e.top=t.top,e.right=t.right,e.bottom=t.bottom,e.left=t.left):(e.top=t,e.right=t,e.bottom=t,e.left=t)}return e}},{key:"_resizeImage",value:function(){var e,t;if(!1===this.options.shapeProperties.useImageSize){var n=1,i=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?n=this.imageObj.width/this.imageObj.height:i=this.imageObj.height/this.imageObj.width),e=2*this.options.size*n,t=2*this.options.size*i}else{var r=this._getImagePadding();e=this.imageObj.width+r.left+r.right,t=this.imageObj.height+r.top+r.bottom}this.width=e,this.height=t,this.radius=.5*this.width}},{key:"_drawRawCircle",value:function(e,t,n,i){this.initContextForDraw(e,i),DM(e,t,n,i.size),this.performFill(e,i)}},{key:"_drawImageAtPosition",value:function(e,t){if(0!=this.imageObj.width){e.globalAlpha=void 0!==t.opacity?t.opacity:1,this.enableShadow(e,t);var n=1;!0===this.options.shapeProperties.interpolation&&(n=this.imageObj.width/this.width/this.body.view.scale);var i=this._getImagePadding();this.imageObj.drawImageAtPosition(e,n,this.left+i.left,this.top+i.top,this.width-i.left-i.right,this.height-i.top-i.bottom),this.disableShadow(e,t)}}},{key:"_drawImageLabel",value:function(e,t,n,i,r){var o=0;if(void 0!==this.height){o=.5*this.height;var s=this.labelModule.getTextSize(e,i,r);s.lineCount>=1&&(o+=s.height/2)}var a=n+o;this.options.label&&(this.labelOffset=o),this.labelModule.draw(e,t,a,i,r,"hanging")}}]),r}(ZU),eW=function(e){GU(r,e);var t,n,i=(t=r,n=function(){if("undefined"==typeof Reflect||!UU)return!1;if(UU.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(UU(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,i=KU(t);if(n){var r=KU(this).constructor;e=UU(i,arguments,r)}else e=i.apply(this,arguments);return YU(this,e)});function r(e,t,n){var o;return LL(this,r),(o=i.call(this,e,t,n))._setMargins(n),o}return zL(r,[{key:"resize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(t,n)){var i=this.getDimensionsFromLabel(e,t,n),r=Math.max(i.width+this.margin.right+this.margin.left,i.height+this.margin.top+this.margin.bottom);this.options.size=r/2,this.width=r,this.height=r,this.radius=this.width/2}}},{key:"draw",value:function(e,t,n,i,r,o){this.resize(e,i,r),this.left=t-this.width/2,this.top=n-this.height/2,this._drawRawCircle(e,t,n,o),this.updateBoundingBox(t,n),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,n,i,r)}},{key:"updateBoundingBox",value:function(e,t){this.boundingBox.top=t-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=t+this.options.size}},{key:"distanceToBorder",value:function(e){return e&&this.resize(e),.5*this.width}}]),r}(JU),tW=function(e){GU(r,e);var t,n,i=(t=r,n=function(){if("undefined"==typeof Reflect||!UU)return!1;if(UU.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(UU(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,i=KU(t);if(n){var r=KU(this).constructor;e=UU(i,arguments,r)}else e=i.apply(this,arguments);return YU(this,e)});function r(e,t,n,o,s){var a;return LL(this,r),(a=i.call(this,e,t,n)).setImages(o,s),a}return zL(r,[{key:"resize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,i=void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height;if(i){var r=2*this.options.size;return this.width=r,this.height=r,void(this.radius=.5*this.width)}this.needsRefresh(t,n)&&this._resizeImage()}},{key:"draw",value:function(e,t,n,i,r,o){this.switchImages(i),this.resize();var s=t,a=n;"top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=t,this.top=n,s+=this.width/2,a+=this.height/2):(this.left=t-this.width/2,this.top=n-this.height/2),this._drawRawCircle(e,s,a,o),e.save(),e.clip(),this._drawImageAtPosition(e,o),e.restore(),this._drawImageLabel(e,s,a,i,r),this.updateBoundingBox(t,n)}},{key:"updateBoundingBox",value:function(e,t){"top-left"===this.options.shapeProperties.coordinateOrigin?(this.boundingBox.top=t,this.boundingBox.left=e,this.boundingBox.right=e+2*this.options.size,this.boundingBox.bottom=t+2*this.options.size):(this.boundingBox.top=t-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=t+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(e){return e&&this.resize(e),.5*this.width}}]),r}(JU),nW=function(e){GU(r,e);var t,n,i=(t=r,n=function(){if("undefined"==typeof Reflect||!UU)return!1;if(UU.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(UU(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,i=KU(t);if(n){var r=KU(this).constructor;e=UU(i,arguments,r)}else e=i.apply(this,arguments);return YU(this,e)});function r(e,t,n){return LL(this,r),i.call(this,e,t,n)}return zL(r,[{key:"resize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{size:this.options.size};if(this.needsRefresh(t,n)){var r,o;this.labelModule.getTextSize(e,t,n);var s=2*i.size;this.width=null!==(r=this.customSizeWidth)&&void 0!==r?r:s,this.height=null!==(o=this.customSizeHeight)&&void 0!==o?o:s,this.radius=.5*this.width}}},{key:"_drawShape",value:function(e,t,n,i,r,o,s,a){var c,l=this;return this.resize(e,o,s,a),this.left=i-this.width/2,this.top=r-this.height/2,this.initContextForDraw(e,a),(c=t,Object.prototype.hasOwnProperty.call(jM,c)?jM[c]:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];CanvasRenderingContext2D.prototype[c].call(e,n)})(e,i,r,a.size),this.performFill(e,a),void 0!==this.options.icon&&void 0!==this.options.icon.code&&(e.font=(o?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",e.fillText(this.options.icon.code,i,r)),{drawExternalLabel:function(){void 0!==l.options.label&&(l.labelModule.calculateLabelSize(e,o,s,i,r,"hanging"),l.labelModule.draw(e,i,r+.5*l.height+.5*l.labelModule.size.height,o,s,"hanging")),l.updateBoundingBox(i,r)}}}},{key:"updateBoundingBox",value:function(e,t){this.boundingBox.top=t-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=t+this.options.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),r}(ZU);function iW(e,t){var n=NB(e);if(MF){var i=MF(e);t&&(i=Rj(i).call(i,function(t){return tN(e,t).enumerable})),n.push.apply(n,i)}return n}function rW(e){for(var t=1;t<arguments.length;t++){var n,i=null!=arguments[t]?arguments[t]:{};if(t%2)lB(n=iW(Object(i),!0)).call(n,function(t){WL(e,t,i[t])});else if(KM)UM(e,KM(i));else{var r;lB(r=iW(Object(i))).call(r,function(t){VM(e,t,tN(i,t))})}}return e}var oW=function(e){GU(r,e);var t,n,i=(t=r,n=function(){if("undefined"==typeof Reflect||!UU)return!1;if(UU.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(UU(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,i=KU(t);if(n){var r=KU(this).constructor;e=UU(i,arguments,r)}else e=i.apply(this,arguments);return YU(this,e)});function r(e,t,n,o){var s;return LL(this,r),(s=i.call(this,e,t,n,o)).ctxRenderer=o,s}return zL(r,[{key:"draw",value:function(e,t,n,i,r,o){this.resize(e,i,r,o),this.left=t-this.width/2,this.top=n-this.height/2,e.save();var s=this.ctxRenderer({ctx:e,id:this.options.id,x:t,y:n,state:{selected:i,hover:r},style:rW({},o),label:this.options.label});if(null!=s.drawNode&&s.drawNode(),e.restore(),s.drawExternalLabel){var a=s.drawExternalLabel;s.drawExternalLabel=function(){e.save(),a(),e.restore()}}return s.nodeDimensions&&(this.customSizeWidth=s.nodeDimensions.width,this.customSizeHeight=s.nodeDimensions.height),s}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),r}(nW),sW=function(e){GU(r,e);var t,n,i=(t=r,n=function(){if("undefined"==typeof Reflect||!UU)return!1;if(UU.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(UU(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,i=KU(t);if(n){var r=KU(this).constructor;e=UU(i,arguments,r)}else e=i.apply(this,arguments);return YU(this,e)});function r(e,t,n){var o;return LL(this,r),(o=i.call(this,e,t,n))._setMargins(n),o}return zL(r,[{key:"resize",value:function(e,t,n){if(this.needsRefresh(t,n)){var i=this.getDimensionsFromLabel(e,t,n).width+this.margin.right+this.margin.left;this.width=i,this.height=i,this.radius=this.width/2}}},{key:"draw",value:function(e,t,n,i,r,o){this.resize(e,i,r),this.left=t-this.width/2,this.top=n-this.height/2,this.initContextForDraw(e,o),FM(e,t-this.width/2,n-this.height/2,this.width,this.height),this.performFill(e,o),this.updateBoundingBox(t,n,e,i,r),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,r)}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),r}(ZU),aW=function(e){GU(r,e);var t,n,i=(t=r,n=function(){if("undefined"==typeof Reflect||!UU)return!1;if(UU.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(UU(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,i=KU(t);if(n){var r=KU(this).constructor;e=UU(i,arguments,r)}else e=i.apply(this,arguments);return YU(this,e)});function r(e,t,n){return LL(this,r),i.call(this,e,t,n)}return zL(r,[{key:"draw",value:function(e,t,n,i,r,o){return this._drawShape(e,"diamond",4,t,n,i,r,o)}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),r}(nW),cW=function(e){GU(r,e);var t,n,i=(t=r,n=function(){if("undefined"==typeof Reflect||!UU)return!1;if(UU.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(UU(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,i=KU(t);if(n){var r=KU(this).constructor;e=UU(i,arguments,r)}else e=i.apply(this,arguments);return YU(this,e)});function r(e,t,n){return LL(this,r),i.call(this,e,t,n)}return zL(r,[{key:"draw",value:function(e,t,n,i,r,o){return this._drawShape(e,"circle",2,t,n,i,r,o)}},{key:"distanceToBorder",value:function(e){return e&&this.resize(e),this.options.size}}]),r}(nW),lW=function(e){GU(r,e);var t,n,i=(t=r,n=function(){if("undefined"==typeof Reflect||!UU)return!1;if(UU.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(UU(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,i=KU(t);if(n){var r=KU(this).constructor;e=UU(i,arguments,r)}else e=i.apply(this,arguments);return YU(this,e)});function r(e,t,n){return LL(this,r),i.call(this,e,t,n)}return zL(r,[{key:"resize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(t,n)){var i=this.getDimensionsFromLabel(e,t,n);this.height=2*i.height,this.width=i.width+i.height,this.radius=.5*this.width}}},{key:"draw",value:function(e,t,n,i,r,o){this.resize(e,i,r),this.left=t-.5*this.width,this.top=n-.5*this.height,this.initContextForDraw(e,o),NM(e,this.left,this.top,this.width,this.height),this.performFill(e,o),this.updateBoundingBox(t,n,e,i,r),this.labelModule.draw(e,t,n,i,r)}},{key:"distanceToBorder",value:function(e,t){e&&this.resize(e);var n=.5*this.width,i=.5*this.height,r=Math.sin(t)*n,o=Math.cos(t)*i;return n*i/Math.sqrt(r*r+o*o)}}]),r}(ZU),hW=function(e){GU(r,e);var t,n,i=(t=r,n=function(){if("undefined"==typeof Reflect||!UU)return!1;if(UU.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(UU(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,i=KU(t);if(n){var r=KU(this).constructor;e=UU(i,arguments,r)}else e=i.apply(this,arguments);return YU(this,e)});function r(e,t,n){var o;return LL(this,r),(o=i.call(this,e,t,n))._setMargins(n),o}return zL(r,[{key:"resize",value:function(e,t,n){this.needsRefresh(t,n)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(e,t,n,i,r,o){var s=this;return this.resize(e,i,r),this.options.icon.size=this.options.icon.size||50,this.left=t-this.width/2,this.top=n-this.height/2,this._icon(e,t,n,i,r,o),{drawExternalLabel:function(){void 0!==s.options.label&&s.labelModule.draw(e,s.left+s.iconSize.width/2+s.margin.left,n+s.height/2+5,i),s.updateBoundingBox(t,n)}}}},{key:"updateBoundingBox",value:function(e,t){this.boundingBox.top=t-.5*this.options.icon.size,this.boundingBox.left=e-.5*this.options.icon.size,this.boundingBox.right=e+.5*this.options.icon.size,this.boundingBox.bottom=t+.5*this.options.icon.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}},{key:"_icon",value:function(e,t,n,i,r,o){var s=Number(this.options.icon.size);void 0!==this.options.icon.code?(e.font=[null!=this.options.icon.weight?this.options.icon.weight:i?"bold":"",(null!=this.options.icon.weight&&i?5:0)+s+"px",this.options.icon.face].join(" "),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",this.enableShadow(e,o),e.fillText(this.options.icon.code,t,n),this.disableShadow(e,o)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),r}(ZU),dW=function(e){GU(r,e);var t,n,i=(t=r,n=function(){if("undefined"==typeof Reflect||!UU)return!1;if(UU.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(UU(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,i=KU(t);if(n){var r=KU(this).constructor;e=UU(i,arguments,r)}else e=i.apply(this,arguments);return YU(this,e)});function r(e,t,n,o,s){var a;return LL(this,r),(a=i.call(this,e,t,n)).setImages(o,s),a}return zL(r,[{key:"resize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,i=void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height;if(i){var r=2*this.options.size;return this.width=r,void(this.height=r)}this.needsRefresh(t,n)&&this._resizeImage()}},{key:"draw",value:function(e,t,n,i,r,o){e.save(),this.switchImages(i),this.resize();var s=t,a=n;if("top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=t,this.top=n,s+=this.width/2,a+=this.height/2):(this.left=t-this.width/2,this.top=n-this.height/2),!0===this.options.shapeProperties.useBorderWithImage){e.lineWidth=Math.min(this.width,(i?this.options.borderWidthSelected||2*this.options.borderWidth:this.options.borderWidth)/this.body.view.scale),e.beginPath();var c=i?this.options.color.highlight.border:r?this.options.color.hover.border:this.options.color.border,l=i?this.options.color.highlight.background:r?this.options.color.hover.background:this.options.color.background;void 0!==o.opacity&&(c=$V(c,o.opacity),l=$V(l,o.opacity)),e.strokeStyle=c,e.fillStyle=l,e.rect(this.left-.5*e.lineWidth,this.top-.5*e.lineWidth,this.width+e.lineWidth,this.height+e.lineWidth),kL(e).call(e),this.performStroke(e,o),e.closePath()}this._drawImageAtPosition(e,o),this._drawImageLabel(e,s,a,i,r),this.updateBoundingBox(t,n),e.restore()}},{key:"updateBoundingBox",value:function(e,t){this.resize(),"top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=e,this.top=t):(this.left=e-this.width/2,this.top=t-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),r}(JU),uW=function(e){GU(r,e);var t,n,i=(t=r,n=function(){if("undefined"==typeof Reflect||!UU)return!1;if(UU.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(UU(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,i=KU(t);if(n){var r=KU(this).constructor;e=UU(i,arguments,r)}else e=i.apply(this,arguments);return YU(this,e)});function r(e,t,n){return LL(this,r),i.call(this,e,t,n)}return zL(r,[{key:"draw",value:function(e,t,n,i,r,o){return this._drawShape(e,"square",2,t,n,i,r,o)}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),r}(nW),pW=function(e){GU(r,e);var t,n,i=(t=r,n=function(){if("undefined"==typeof Reflect||!UU)return!1;if(UU.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(UU(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,i=KU(t);if(n){var r=KU(this).constructor;e=UU(i,arguments,r)}else e=i.apply(this,arguments);return YU(this,e)});function r(e,t,n){return LL(this,r),i.call(this,e,t,n)}return zL(r,[{key:"draw",value:function(e,t,n,i,r,o){return this._drawShape(e,"hexagon",4,t,n,i,r,o)}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),r}(nW),fW=function(e){GU(r,e);var t,n,i=(t=r,n=function(){if("undefined"==typeof Reflect||!UU)return!1;if(UU.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(UU(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,i=KU(t);if(n){var r=KU(this).constructor;e=UU(i,arguments,r)}else e=i.apply(this,arguments);return YU(this,e)});function r(e,t,n){return LL(this,r),i.call(this,e,t,n)}return zL(r,[{key:"draw",value:function(e,t,n,i,r,o){return this._drawShape(e,"star",4,t,n,i,r,o)}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),r}(nW),mW=function(e){GU(r,e);var t,n,i=(t=r,n=function(){if("undefined"==typeof Reflect||!UU)return!1;if(UU.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(UU(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,i=KU(t);if(n){var r=KU(this).constructor;e=UU(i,arguments,r)}else e=i.apply(this,arguments);return YU(this,e)});function r(e,t,n){var o;return LL(this,r),(o=i.call(this,e,t,n))._setMargins(n),o}return zL(r,[{key:"resize",value:function(e,t,n){this.needsRefresh(t,n)&&(this.textSize=this.labelModule.getTextSize(e,t,n),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(e,t,n,i,r,o){this.resize(e,i,r),this.left=t-this.width/2,this.top=n-this.height/2,this.enableShadow(e,o),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,r),this.disableShadow(e,o),this.updateBoundingBox(t,n,e,i,r)}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),r}(ZU),gW=function(e){GU(r,e);var t,n,i=(t=r,n=function(){if("undefined"==typeof Reflect||!UU)return!1;if(UU.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(UU(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,i=KU(t);if(n){var r=KU(this).constructor;e=UU(i,arguments,r)}else e=i.apply(this,arguments);return YU(this,e)});function r(e,t,n){return LL(this,r),i.call(this,e,t,n)}return zL(r,[{key:"draw",value:function(e,t,n,i,r,o){return this._drawShape(e,"triangle",3,t,n,i,r,o)}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),r}(nW),vW=function(e){GU(r,e);var t,n,i=(t=r,n=function(){if("undefined"==typeof Reflect||!UU)return!1;if(UU.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(UU(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,i=KU(t);if(n){var r=KU(this).constructor;e=UU(i,arguments,r)}else e=i.apply(this,arguments);return YU(this,e)});function r(e,t,n){return LL(this,r),i.call(this,e,t,n)}return zL(r,[{key:"draw",value:function(e,t,n,i,r,o){return this._drawShape(e,"triangleDown",3,t,n,i,r,o)}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),r}(nW);function yW(e,t){var n=NB(e);if(MF){var i=MF(e);t&&(i=Rj(i).call(i,function(t){return tN(e,t).enumerable})),n.push.apply(n,i)}return n}function bW(e){for(var t=1;t<arguments.length;t++){var n,i=null!=arguments[t]?arguments[t]:{};if(t%2)lB(n=yW(Object(i),!0)).call(n,function(t){WL(e,t,i[t])});else if(KM)UM(e,KM(i));else{var r;lB(r=yW(Object(i))).call(r,function(t){VM(e,t,tN(i,t))})}}return e}var _W=function(){function e(t,n,i,r,o,s){LL(this,e),this.options=tH(o),this.globalOptions=o,this.defaultOptions=s,this.body=n,this.edges=[],this.id=void 0,this.imagelist=i,this.grouplist=r,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new jU(this.body,this.options,!1),this.setOptions(t)}return zL(e,[{key:"attachEdge",value:function(e){var t;-1===cj(t=this.edges).call(t,e)&&this.edges.push(e)}},{key:"detachEdge",value:function(e){var t,n,i=cj(t=this.edges).call(t,e);-1!=i&&Kj(n=this.edges).call(n,i,1)}},{key:"setOptions",value:function(t){var n=this.options.shape;if(t){if(void 0!==t.color&&(this._localColor=t.color),void 0!==t.id&&(this.id=t.id),void 0===this.id)throw new Error("Node must have an id");return e.checkMass(t,this.id),void 0!==t.x&&(null===t.x?(this.x=void 0,this.predefinedPosition=!1):(this.x=pj(t.x),this.predefinedPosition=!0)),void 0!==t.y&&(null===t.y?(this.y=void 0,this.predefinedPosition=!1):(this.y=pj(t.y),this.predefinedPosition=!0)),void 0!==t.size&&(this.baseSize=t.size),void 0!==t.value&&(t.value=kU(t.value)),e.parseOptions(this.options,t,!0,this.globalOptions,this.grouplist),this.chooser=xU("node",[t,this.options,this.defaultOptions]),this._load_images(),this.updateLabelModule(t),void 0!==t.opacity&&e.checkOpacity(t.opacity)&&(this.options.opacity=t.opacity),this.updateShape(n),void 0!==t.hidden||void 0!==t.physics}}},{key:"_load_images",value:function(){if(("circularImage"===this.options.shape||"image"===this.options.shape)&&void 0===this.options.image)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(void 0!==this.options.image){if(void 0===this.imagelist)throw new Error("Internal Error: No images provided");if("string"==typeof this.options.image)this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(void 0===this.options.image.unselected)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.imageObjAlt=void 0!==this.options.image.selected?this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):void 0}}}},{key:"getFormattingValues",value:function(){var e={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?!0===this.chooser?this.selected?(null!=this.options.borderWidthSelected?e.borderWidth=this.options.borderWidthSelected:e.borderWidth*=2,e.color=this.options.color.highlight.background,e.borderColor=this.options.color.highlight.border,e.shadow=this.options.shadow.enabled):this.hover&&(e.color=this.options.color.hover.background,e.borderColor=this.options.color.hover.border,e.shadow=this.options.shadow.enabled):"function"==typeof this.chooser&&(this.chooser(e,this.options.id,this.selected,this.hover),!1===e.shadow&&(e.shadowColor===this.options.shadow.color&&e.shadowSize===this.options.shadow.size&&e.shadowX===this.options.shadow.x&&e.shadowY===this.options.shadow.y||(e.shadow=!0))):e.shadow=this.options.shadow.enabled,void 0!==this.options.opacity){var t=this.options.opacity;e.borderColor=$V(e.borderColor,t),e.color=$V(e.color,t),e.shadowColor=$V(e.shadowColor,t)}return e}},{key:"updateLabelModule",value:function(t){null==this.options.label&&(this.options.label=""),e.updateGroupOptions(this.options,bW(bW({},t),{},{color:t&&t.color||this._localColor||void 0}),this.grouplist);var n=this.grouplist.get(this.options.group,!1);this.labelModule.update(this.options,[t,this.options,n,this.globalOptions,this.defaultOptions]),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new QU(this.options,this.body,this.labelModule);break;case"circle":this.shape=new eW(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new tW(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new oW(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new sW(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new aW(this.options,this.body,this.labelModule);break;case"dot":this.shape=new cW(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new lW(this.options,this.body,this.labelModule);break;case"icon":this.shape=new hW(this.options,this.body,this.labelModule);break;case"image":this.shape=new dW(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new uW(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new pW(this.options,this.body,this.labelModule);break;case"star":this.shape=new fW(this.options,this.body,this.labelModule);break;case"text":this.shape=new mW(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new gW(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new vW(this.options,this.body,this.labelModule);break;default:this.shape=new lW(this.options,this.body,this.labelModule)}this.needsRefresh()}},{key:"select",value:function(){this.selected=!0,this.needsRefresh()}},{key:"unselect",value:function(){this.selected=!1,this.needsRefresh()}},{key:"needsRefresh",value:function(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(e,t){return this.shape.distanceToBorder(e,t)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"getLabelSize",value:function(){return this.labelModule.size()}},{key:"setValueRange",value:function(e,t,n){if(void 0!==this.options.value){var i=this.options.scaling.customScalingFunction(e,t,n,this.options.value),r=this.options.scaling.max-this.options.scaling.min;!0===this.options.scaling.label.enabled&&(this.options.font.size=this.options.scaling.label.min+i*(this.options.scaling.label.max-this.options.scaling.label.min)),this.options.size=this.options.scaling.min+i*r}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(e){var t=this.getFormattingValues();return this.shape.draw(e,this.x,this.y,this.selected,this.hover,t)||{}}},{key:"updateBoundingBox",value:function(e){this.shape.updateBoundingBox(this.x,this.y,e)}},{key:"resize",value:function(e){var t=this.getFormattingValues();this.shape.resize(e,this.selected,this.hover,t)}},{key:"getItemsOnPoint",value:function(e){var t=[];return this.labelModule.visible()&&EU(this.labelModule.getSize(),e)&&t.push({nodeId:this.id,labelId:0}),EU(this.shape.boundingBox,e)&&t.push({nodeId:this.id}),t}},{key:"isOverlappingWith",value:function(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}},{key:"isBoundingBoxOverlappingWith",value:function(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}}],[{key:"checkOpacity",value:function(e){return 0<=e&&e<=1}},{key:"checkCoordinateOrigin",value:function(e){return void 0===e||"center"===e||"top-left"===e}},{key:"updateGroupOptions",value:function(t,n,i){var r,o;if(void 0!==i){var s=t.group;if(void 0!==n&&void 0!==n.group&&s!==n.group)throw new Error("updateGroupOptions: group values in options don't match.");if("number"==typeof s||"string"==typeof s&&""!=s){var a=i.get(s);void 0!==a.opacity&&void 0===n.opacity&&(e.checkOpacity(a.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+a.opacity),a.opacity=void 0));var c=Rj((o=n,r=_U.getOwnPropertyNames(o))).call(r,function(e){return null!=n[e]});c.push("font"),BV(c,t,a),t.color=YV(t.color)}}}},{key:"parseOptions",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0,s=["color","fixed","shadow"];if(BV(s,t,n,i),e.checkMass(n),void 0!==t.opacity&&(e.checkOpacity(t.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+t.opacity),t.opacity=void 0)),void 0!==n.opacity&&(e.checkOpacity(n.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+n.opacity),n.opacity=void 0)),n.shapeProperties&&!e.checkCoordinateOrigin(n.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+n.shapeProperties.coordinateOrigin),nH(t,n,"shadow",r),null!=n.color){var a=YV(n.color);LV(t.color,a)}else!0===i&&null===n.color&&(t.color=tH(r.color));null!=n.fixed&&("boolean"==typeof n.fixed?(t.fixed.x=n.fixed,t.fixed.y=n.fixed):(void 0!==n.fixed.x&&"boolean"==typeof n.fixed.x&&(t.fixed.x=n.fixed.x),void 0!==n.fixed.y&&"boolean"==typeof n.fixed.y&&(t.fixed.y=n.fixed.y))),!0===i&&null===n.font&&(t.font=tH(r.font)),e.updateGroupOptions(t,n,o),void 0!==n.scaling&&nH(t.scaling,n.scaling,"label",r.scaling)}},{key:"checkMass",value:function(e,t){if(void 0!==e.mass&&e.mass<=0){var n="";void 0!==t&&(n=" in node id: "+t),console.error("%cNegative or zero mass disallowed"+n+", setting mass to 1.","background: #FFeeee; color: #dd0000"),e.mass=1}}}]),e}();function wW(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var CW=function(){function e(t,n,i,r){var o,s=this;if(LL(this,e),this.body=t,this.images=n,this.groups=i,this.layoutEngine=r,this.body.functions.createNode=dM(o=this.create).call(o,this),this.nodesListeners={add:function(e,t){s.add(t.items)},update:function(e,t){s.update(t.items,t.data,t.oldData)},remove:function(e,t){s.remove(t.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(e,t,n,i){return t===e?.5:Math.max(0,1/(t-e)*(i-e))}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=tH(this.defaultOptions),this.bindEventListeners()}return zL(e,[{key:"bindEventListeners",value:function(){var e,t,n=this;this.body.emitter.on("refreshNodes",dM(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",dM(t=this.refresh).call(t,this)),this.body.emitter.on("destroy",function(){WV(n.nodesListeners,function(e,t){n.body.data.nodes&&n.body.data.nodes.off(t,e)}),delete n.body.functions.createNode,delete n.nodesListeners.add,delete n.nodesListeners.update,delete n.nodesListeners.remove,delete n.nodesListeners})}},{key:"setOptions",value:function(e){if(void 0!==e){if(_W.parseOptions(this.options,e),void 0!==e.opacity&&(vU(e.opacity)||!gU(e.opacity)||e.opacity<0||e.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity):this.options.opacity=e.opacity),void 0!==e.shape)for(var t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&this.body.nodes[t].updateShape();if(void 0!==e.font||void 0!==e.widthConstraint||void 0!==e.heightConstraint)for(var n=0,i=NB(this.body.nodes);n<i.length;n++){var r=i[n];this.body.nodes[r].updateLabelModule(),this.body.nodes[r].needsRefresh()}if(void 0!==e.size)for(var o in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,o)&&this.body.nodes[o].needsRefresh();void 0===e.hidden&&void 0===e.physics||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.body.data.nodes;if(fD("id",e))this.body.data.nodes=e;else if(HB(e))this.body.data.nodes=new pD,this.body.data.nodes.add(e);else{if(e)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new pD}if(n&&WV(this.nodesListeners,function(e,t){n.off(t,e)}),this.body.nodes={},this.body.data.nodes){var i=this;WV(this.nodesListeners,function(e,t){i.body.data.nodes.on(t,e)});var r=this.body.data.nodes.getIds();this.add(r,!0)}!1===t&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=[],r=0;r<e.length;r++){var o=this.body.data.nodes.get(t=e[r]),s=this.create(o);i.push(s),this.body.nodes[t]=s}this.layoutEngine.positionInitially(i),!1===n&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(e,t,n){for(var i=this.body.nodes,r=!1,o=0;o<e.length;o++){var s=e[o],a=i[s],c=t[o];void 0!==a?a.setOptions(c)&&(r=!0):(r=!0,a=this.create(c),i[s]=a)}var l,h;r||void 0===n||(r=(l=t,h=l.some,l===fU||l instanceof Array&&h===fU.some?pU:h).call(t,function(e,t){var i=n[t];return i&&i.level!==e.level})),this.body.emitter.emit(!0===r?"_dataChanged":"_dataUpdated")}},{key:"remove",value:function(e){for(var t=this.body.nodes,n=0;n<e.length;n++)delete t[e[n]];this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_W;return new t(e,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:"refresh",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];WV(this.body.nodes,function(n,i){var r=e.body.data.nodes.get(i);void 0!==r&&(!0===t&&n.setOptions({x:null,y:null}),n.setOptions({fixed:!1}),n.setOptions(r))})}},{key:"getPositions",value:function(e){var t={};if(void 0!==e){if(!0===HB(e)){for(var n=0;n<e.length;n++)if(void 0!==this.body.nodes[e[n]]){var i=this.body.nodes[e[n]];t[e[n]]={x:Math.round(i.x),y:Math.round(i.y)}}}else if(void 0!==this.body.nodes[e]){var r=this.body.nodes[e];t[e]={x:Math.round(r.x),y:Math.round(r.y)}}}else for(var o=0;o<this.body.nodeIndices.length;o++){var s=this.body.nodes[this.body.nodeIndices[o]];t[this.body.nodeIndices[o]]={x:Math.round(s.x),y:Math.round(s.y)}}return t}},{key:"getPosition",value:function(e){if(null==e)throw new TypeError("No id was specified for getPosition method.");if(null==this.body.nodes[e])throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(e));return{x:Math.round(this.body.nodes[e].x),y:Math.round(this.body.nodes[e].y)}}},{key:"storePositions",value:function(){var e,t=[],n=this.body.data.nodes.getDataSet(),i=function(e,t){var n;if(void 0===KB||null==lL(e)){if(HB(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return wW(e,void 0);var i=qB(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?wL(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?wW(e,void 0):void 0}}(e))){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=cL(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}(n.get());try{for(i.s();!(e=i.n()).done;){var r=e.value,o=r.id,s=this.body.nodes[o],a=Math.round(s.x),c=Math.round(s.y);r.x===a&&r.y===c||t.push({id:o,x:a,y:c})}}catch(l){i.e(l)}finally{i.f()}n.update(t)}},{key:"getBoundingBox",value:function(e){if(void 0!==this.body.nodes[e])return this.body.nodes[e].shape.boundingBox}},{key:"getConnectedNodes",value:function(e,t){var n=[];if(void 0!==this.body.nodes[e])for(var i=this.body.nodes[e],r={},o=0;o<i.edges.length;o++){var s=i.edges[o];"to"!==t&&s.toId==i.id?void 0===r[s.fromId]&&(n.push(s.fromId),r[s.fromId]=!0):"from"!==t&&s.fromId==i.id&&void 0===r[s.toId]&&(n.push(s.toId),r[s.toId]=!0)}return n}},{key:"getConnectedEdges",value:function(e){var t=[];if(void 0!==this.body.nodes[e])for(var n=this.body.nodes[e],i=0;i<n.edges.length;i++)t.push(n.edges[i].id);else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",e);return t}},{key:"moveNode",value:function(e,t,n){var i=this;void 0!==this.body.nodes[e]?(this.body.nodes[e].x=Number(t),this.body.nodes[e].y=Number(n),PL(function(){i.body.emitter.emit("startSimulation")},0)):console.error("Node id supplied to moveNode does not exist. Provided: ",e)}}]),e}(),SW=eN;iM({target:"Reflect",stat:!0},{get:function e(t,n){var i,r,o=arguments.length<3?t:arguments[2];return ZD(t)===o?t[n]:(i=zD.f(t,n))?MD(i,"value")?i.value:void 0===i.get?void 0:i.get.call(o):ID(r=BF(t))?e(r,n,o):void 0}});var kW=YD.Reflect.get,xW=gD(function(e){function t(n,i,r){return e.exports=t="undefined"!=typeof Reflect&&kW?kW:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=KU(e)););return e}(e,t);if(i){var r=SW(i,t);return r.get?r.get.call(n):r.value}},t(n,i,r||n)}e.exports=t}),EW=Math.hypot,OW=Math.abs,TW=Math.sqrt,PW=!!EW&&EW(1/0,NaN)!==1/0;iM({target:"Math",stat:!0,forced:PW},{hypot:function(e,t){for(var n,i,r=0,o=0,s=arguments.length,a=0;o<s;)a<(n=OW(arguments[o++]))?(r=r*(i=a/n)*i+1,a=n):r+=n>0?(i=n/a)*i:n;return a===1/0?1/0:a*TW(r)}});var RW=YD.Math.hypot;function IW(e){var t=function(){if("undefined"==typeof Reflect||!UU)return!1;if(UU.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(UU(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=KU(e);if(t){var r=KU(this).constructor;n=UU(i,arguments,r)}else n=i.apply(this,arguments);return YU(this,n)}}var AW=function(){function e(){LL(this,e)}return zL(e,null,[{key:"transform",value:function(e,t){HB(e)||(e=[e]);for(var n=t.point.x,i=t.point.y,r=t.angle,o=t.length,s=0;s<e.length;++s){var a=e[s],c=a.x*Math.cos(r)-a.y*Math.sin(r),l=a.x*Math.sin(r)+a.y*Math.cos(r);a.x=n+o*c,a.y=i+o*l}}},{key:"drawPath",value:function(e,t){e.beginPath(),e.moveTo(t[0].x,t[0].y);for(var n=1;n<t.length;++n)e.lineTo(t[n].x,t[n].y);e.closePath()}}]),e}(),DW=function(e){GU(n,e);var t=IW(n);function n(){return LL(this,n),t.apply(this,arguments)}return zL(n,null,[{key:"draw",value:function(e,t){if(t.image){e.save(),e.translate(t.point.x,t.point.y),e.rotate(Math.PI/2+t.angle);var n=null!=t.imageWidth?t.imageWidth:t.image.width;t.image.drawImageAtPosition(e,1,-n/2,0,n,null!=t.imageHeight?t.imageHeight:t.image.height),e.restore()}return!1}}]),n}(AW),MW=function(e){GU(n,e);var t=IW(n);function n(){return LL(this,n),t.apply(this,arguments)}return zL(n,null,[{key:"draw",value:function(e,t){var n=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return AW.transform(n,t),AW.drawPath(e,n),!0}}]),n}(AW),NW=function(){function e(){LL(this,e)}return zL(e,null,[{key:"draw",value:function(e,t){var n=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return AW.transform(n,t),AW.drawPath(e,n),!0}}]),e}(),FW=function(){function e(){LL(this,e)}return zL(e,null,[{key:"draw",value:function(e,t){var n={x:-.4,y:0};AW.transform(n,t),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";var i=Math.PI,r=t.angle-i/2,o=t.angle+i/2;return e.beginPath(),e.arc(n.x,n.y,.4*t.length,r,o,!1),e.stroke(),!0}}]),e}(),LW=function(){function e(){LL(this,e)}return zL(e,null,[{key:"draw",value:function(e,t){var n={x:-.3,y:0};AW.transform(n,t),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";var i=Math.PI,r=t.angle+i/2,o=t.angle+3*i/2;return e.beginPath(),e.arc(n.x,n.y,.4*t.length,r,o,!1),e.stroke(),!0}}]),e}(),jW=function(){function e(){LL(this,e)}return zL(e,null,[{key:"draw",value:function(e,t){var n=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return AW.transform(n,t),AW.drawPath(e,n),!0}}]),e}(),BW=function(){function e(){LL(this,e)}return zL(e,null,[{key:"draw",value:function(e,t){var n=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return AW.transform(n,t),AW.drawPath(e,n),!0}}]),e}(),zW=function(){function e(){LL(this,e)}return zL(e,null,[{key:"draw",value:function(e,t){var n={x:-.4,y:0};return AW.transform(n,t),DM(e,n.x,n.y,.4*t.length),!0}}]),e}(),VW=function(){function e(){LL(this,e)}return zL(e,null,[{key:"draw",value:function(e,t){var n=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return AW.transform(n,t),AW.drawPath(e,n),!0}}]),e}(),HW=function(){function e(){LL(this,e)}return zL(e,null,[{key:"draw",value:function(e,t){var n=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return AW.transform(n,t),AW.drawPath(e,n),!0}}]),e}(),UW=function(){function e(){LL(this,e)}return zL(e,null,[{key:"draw",value:function(e,t){var n=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return AW.transform(n,t),AW.drawPath(e,n),!0}}]),e}(),WW=function(){function e(){LL(this,e)}return zL(e,null,[{key:"draw",value:function(e,t){var n=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return AW.transform(n,t),AW.drawPath(e,n),!0}}]),e}(),qW=function(){function e(){LL(this,e)}return zL(e,null,[{key:"draw",value:function(e,t){var n;switch(t.type&&(n=t.type.toLowerCase()),n){case"image":return DW.draw(e,t);case"circle":return zW.draw(e,t);case"box":return HW.draw(e,t);case"crow":return NW.draw(e,t);case"curve":return FW.draw(e,t);case"diamond":return UW.draw(e,t);case"inv_curve":return LW.draw(e,t);case"triangle":return jW.draw(e,t);case"inv_triangle":return BW.draw(e,t);case"bar":return VW.draw(e,t);case"vee":return WW.draw(e,t);case"arrow":default:return MW.draw(e,t)}}}]),e}();function $W(e,t){var n=NB(e);if(MF){var i=MF(e);t&&(i=Rj(i).call(i,function(t){return tN(e,t).enumerable})),n.push.apply(n,i)}return n}function GW(e){for(var t=1;t<arguments.length;t++){var n,i=null!=arguments[t]?arguments[t]:{};if(t%2)lB(n=$W(Object(i),!0)).call(n,function(t){WL(e,t,i[t])});else if(KM)UM(e,KM(i));else{var r;lB(r=$W(Object(i))).call(r,function(t){VM(e,t,tN(i,t))})}}return e}var YW=function(){function e(t,n,i){LL(this,e),this._body=n,this._labelModule=i,this.color={},this.colorDirty=!0,this.hoverWidth=1.5,this.selectionWidth=2,this.setOptions(t),this.fromPoint=this.from,this.toPoint=this.to}return zL(e,[{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(e){this.options=e,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.getViaNode();e.strokeStyle=this.getColor(e,t),e.lineWidth=t.width,!1!==t.dashes?this._drawDashedLine(e,t,r):this._drawLine(e,t,r)}},{key:"_drawLine",value:function(e,t,n,i,r){if(this.from!=this.to)this._line(e,t,n,i,r);else{var o=this._getCircleData(e),s=AB(o,3);this._circle(e,t,s[0],s[1],s[2])}}},{key:"_drawDashedLine",value:function(e,t,n,i,r){e.lineCap="round";var o=HB(t.dashes)?t.dashes:[5,5];if(void 0!==e.setLineDash){if(e.save(),e.setLineDash(o),e.lineDashOffset=0,this.from!=this.to)this._line(e,t,n);else{var s=this._getCircleData(e),a=AB(s,3);this._circle(e,t,a[0],a[1],a[2])}e.setLineDash([0]),e.lineDashOffset=0,e.restore()}else{if(this.from!=this.to)LM(e,this.from.x,this.from.y,this.to.x,this.to.y,o);else{var c=this._getCircleData(e),l=AB(c,3);this._circle(e,t,l[0],l[1],l[2])}this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}}},{key:"findBorderPosition",value:function(e,t,n){return this.from!=this.to?this._findBorderPosition(e,t,n):this._findBorderPositionCircle(e,t,n)}},{key:"findBorderPositions",value:function(e){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,e),to:this._findBorderPosition(this.to,e)};var t,n=qB(t=this._getCircleData(e)).call(t,0,2),i=AB(n,2),r=i[0],o=i[1];return{from:this._findBorderPositionCircle(this.from,e,{x:r,y:o,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,e,{x:r,y:o,low:.6,high:.8,direction:1})}}},{key:"_getCircleData",value:function(e){var t=this.options.selfReference.size;void 0!==e&&void 0===this.from.shape.width&&this.from.shape.resize(e);var n=TU(e,this.options.selfReference.angle,t,this.from);return[n.x,n.y,t]}},{key:"_pointOnCircle",value:function(e,t,n,i){var r=2*i*Math.PI;return{x:e+n*Math.cos(r),y:t-n*Math.sin(r)}}},{key:"_findBorderPositionCircle",value:function(e,t,n){var i,r=n.x,o=n.y,s=n.low,a=n.high,c=n.direction,l=this.options.selfReference.size,h=.5*(s+a),d=0;!0===this.options.arrowStrikethrough&&(-1===c?d=this.options.endPointOffset.from:1===c&&(d=this.options.endPointOffset.to));var u=0;do{i=this._pointOnCircle(r,o,l,h=.5*(s+a));var p=Math.atan2(e.y-i.y,e.x-i.x),f=e.distanceToBorder(t,p)+d-Math.sqrt(Math.pow(i.x-e.x,2)+Math.pow(i.y-e.y,2));if(Math.abs(f)<.05)break;f>0?c>0?s=h:a=h:c>0?a=h:s=h,++u}while(s<=a&&u<10);return GW(GW({},i),{},{t:h})}},{key:"getLineWidth",value:function(e,t){return!0===e?Math.max(this.selectionWidth,.3/this._body.view.scale):!0===t?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}},{key:"getColor",value:function(e,t){if(!1!==t.inheritsColor){if("both"===t.inheritsColor&&this.from.id!==this.to.id){var n=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),i=this.from.options.color.highlight.border,r=this.to.options.color.highlight.border;return!1===this.from.selected&&!1===this.to.selected?(i=$V(this.from.options.color.border,t.opacity),r=$V(this.to.options.color.border,t.opacity)):!0===this.from.selected&&!1===this.to.selected?r=this.to.options.color.border:!1===this.from.selected&&!0===this.to.selected&&(i=this.from.options.color.border),n.addColorStop(0,i),n.addColorStop(1,r),n}return $V("to"===t.inheritsColor?this.to.options.color.border:this.from.options.color.border,t.opacity)}return $V(t.color,t.opacity)}},{key:"_circle",value:function(e,t,n,i,r){this.enableShadow(e,t);var o=0,s=2*Math.PI;if(!this.options.selfReference.renderBehindTheNode){var a=this.options.selfReference.angle,c=this.options.selfReference.angle+Math.PI,l=this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:a,high:c,direction:-1}),h=this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:a,high:c,direction:1});o=Math.atan2(l.y-i,l.x-n),s=Math.atan2(h.y-i,h.x-n)}e.beginPath(),e.arc(n,i,r,o,s,!1),e.stroke(),this.disableShadow(e,t)}},{key:"getDistanceToEdge",value:function(e,t,n,i,r,o){if(this.from!=this.to)return this._getDistanceToEdge(e,t,n,i,r,o);var s=this._getCircleData(void 0),a=AB(s,3),c=a[2],l=a[0]-r,h=a[1]-o;return Math.abs(Math.sqrt(l*l+h*h)-c)}},{key:"_getDistanceToLine",value:function(e,t,n,i,r,o){var s=n-e,a=i-t,c=((r-e)*s+(o-t)*a)/(s*s+a*a);c>1?c=1:c<0&&(c=0);var l=e+c*s-r,h=t+c*a-o;return Math.sqrt(l*l+h*h)}},{key:"getArrowData",value:function(e,t,n,i,r,o){var s,a,c,l,h,d,u,p=o.width;"from"===t?(c=this.from,l=this.to,h=o.fromArrowScale<0,d=Math.abs(o.fromArrowScale),u=o.fromArrowType):"to"===t?(c=this.to,l=this.from,h=o.toArrowScale<0,d=Math.abs(o.toArrowScale),u=o.toArrowType):(c=this.to,l=this.from,h=o.middleArrowScale<0,d=Math.abs(o.middleArrowScale),u=o.middleArrowType);var f=15*d+3*p;if(c!=l){var m=f/RW(c.x-l.x,c.y-l.y);if("middle"!==t)if(!0===this.options.smooth.enabled){var g=this._findBorderPosition(c,e,{via:n}),v=this.getPoint(g.t+m*("from"===t?1:-1),n);s=Math.atan2(g.y-v.y,g.x-v.x),a=g}else s=Math.atan2(c.y-l.y,c.x-l.x),a=this._findBorderPosition(c,e);else{var y=(h?-m:m)/2,b=this.getPoint(.5+y,n),_=this.getPoint(.5-y,n);s=Math.atan2(b.y-_.y,b.x-_.x),a=this.getPoint(.5,n)}}else{var w=this._getCircleData(e),C=AB(w,3),S=C[0],k=C[1],x=C[2];if("from"===t){var E=this.options.selfReference.angle+Math.PI,O=this._findBorderPositionCircle(this.from,e,{x:S,y:k,low:this.options.selfReference.angle,high:E,direction:-1});s=-2*O.t*Math.PI+1.5*Math.PI+.1*Math.PI,a=O}else if("to"===t){var T=this.options.selfReference.angle+Math.PI,P=this._findBorderPositionCircle(this.from,e,{x:S,y:k,low:this.options.selfReference.angle,high:T,direction:1});s=-2*P.t*Math.PI+1.5*Math.PI-1.1*Math.PI,a=P}else{var R=this.options.selfReference.angle/(2*Math.PI);a=this._pointOnCircle(S,k,x,R),s=-2*R*Math.PI+1.5*Math.PI+.1*Math.PI}}return{point:a,core:{x:a.x-.9*f*Math.cos(s),y:a.y-.9*f*Math.sin(s)},angle:s,length:f,type:u}}},{key:"drawArrowHead",value:function(e,t,n,i,r){e.strokeStyle=this.getColor(e,t),e.fillStyle=e.strokeStyle,e.lineWidth=t.width,qW.draw(e,r)&&(this.enableShadow(e,t),kL(e).call(e),this.disableShadow(e,t))}},{key:"enableShadow",value:function(e,t){!0===t.shadow&&(e.shadowColor=t.shadowColor,e.shadowBlur=t.shadowSize,e.shadowOffsetX=t.shadowX,e.shadowOffsetY=t.shadowY)}},{key:"disableShadow",value:function(e,t){!0===t.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}},{key:"drawBackground",value:function(e,t){if(!1!==t.background){var n={strokeStyle:e.strokeStyle,lineWidth:e.lineWidth,dashes:e.dashes};e.strokeStyle=t.backgroundColor,e.lineWidth=t.backgroundSize,this.setStrokeDashed(e,t.backgroundDashes),e.stroke(),e.strokeStyle=n.strokeStyle,e.lineWidth=n.lineWidth,e.dashes=n.dashes,this.setStrokeDashed(e,t.dashes)}}},{key:"setStrokeDashed",value:function(e,t){if(!1!==t)if(void 0!==e.setLineDash){var n=HB(t)?t:[5,5];e.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else void 0!==e.setLineDash?e.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}]),e}();function XW(e,t){var n=NB(e);if(MF){var i=MF(e);t&&(i=Rj(i).call(i,function(t){return tN(e,t).enumerable})),n.push.apply(n,i)}return n}function KW(e){for(var t=1;t<arguments.length;t++){var n,i=null!=arguments[t]?arguments[t]:{};if(t%2)lB(n=XW(Object(i),!0)).call(n,function(t){WL(e,t,i[t])});else if(KM)UM(e,KM(i));else{var r;lB(r=XW(Object(i))).call(r,function(t){VM(e,t,tN(i,t))})}}return e}var ZW,QW=function(e){GU(r,e);var t,n,i=(t=r,n=function(){if("undefined"==typeof Reflect||!UU)return!1;if(UU.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(UU(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,i=KU(t);if(n){var r=KU(this).constructor;e=UU(i,arguments,r)}else e=i.apply(this,arguments);return YU(this,e)});function r(e,t,n){return LL(this,r),i.call(this,e,t,n)}return zL(r,[{key:"_findBorderPositionBezier",value:function(e,t){var n,i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._getViaCoordinates(),o=10,s=.2,a=!1,c=1,l=0,h=this.to,d=this.options.endPointOffset?this.options.endPointOffset.to:0;e.id===this.from.id&&(h=this.from,a=!0,d=this.options.endPointOffset?this.options.endPointOffset.from:0),!1===this.options.arrowStrikethrough&&(d=0);var u=0;do{n=this.getPoint(i=.5*(l+c),r);var p=Math.atan2(h.y-n.y,h.x-n.x),f=h.distanceToBorder(t,p)+d,m=Math.sqrt(Math.pow(n.x-h.x,2)+Math.pow(n.y-h.y,2)),g=f-m;if(Math.abs(g)<s)break;g<0?!1===a?l=i:c=i:!1===a?c=i:l=i,++u}while(l<=c&&u<o);return KW(KW({},n),{},{t:i})}},{key:"_getDistanceToBezierEdge",value:function(e,t,n,i,r,o,s){var a,c,l,h,d,u=1e9,p=e,f=t;for(c=1;c<10;c++)l=.1*c,h=Math.pow(1-l,2)*e+2*l*(1-l)*s.x+Math.pow(l,2)*n,d=Math.pow(1-l,2)*t+2*l*(1-l)*s.y+Math.pow(l,2)*i,c>0&&(u=(a=this._getDistanceToLine(p,f,h,d,r,o))<u?a:u),p=h,f=d;return u}},{key:"_bezierCurve",value:function(e,t,n,i){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),null!=n&&null!=n.x?null!=i&&null!=i.x?e.bezierCurveTo(n.x,n.y,i.x,i.y,this.toPoint.x,this.toPoint.y):e.quadraticCurveTo(n.x,n.y,this.toPoint.x,this.toPoint.y):e.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(e,t),this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),r}(YW),JW=function(e){GU(r,e);var t,n,i=(t=r,n=function(){if("undefined"==typeof Reflect||!UU)return!1;if(UU.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(UU(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,i=KU(t);if(n){var r=KU(this).constructor;e=UU(i,arguments,r)}else e=i.apply(this,arguments);return YU(this,e)});function r(e,t,n){var o;return LL(this,r),(o=i.call(this,e,t,n)).via=o.via,o._boundFunction=function(){o.positionBezierNode()},o._body.emitter.on("_repositionBezierNodes",o._boundFunction),o}return zL(r,[{key:"setOptions",value:function(e){xW(KU(r.prototype),"setOptions",this).call(this,e);var t=!1;this.options.physics!==e.physics&&(t=!0),this.options=e,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),!0===t&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.via.setOptions(void 0===this.from||void 0===this.to||!1===this.options.physics||this.from.id===this.to.id?{physics:!1}:{physics:!0})}},{key:"cleanup",value:function(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),void 0!==this.via&&(delete this._body.nodes[this.via.id],this.via=void 0,!0)}},{key:"setupSupportNode",value:function(){if(void 0===this.via){var e="edgeId:"+this.id,t=this._body.functions.createNode({id:e,shape:"circle",physics:!0,hidden:!0});this._body.nodes[e]=t,this.via=t,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){void 0!==this.via&&void 0!==this.from&&void 0!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):void 0!==this.via&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(e,t,n){this._bezierCurve(e,t,n)}},{key:"_getViaCoordinates",value:function(){return this.via}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.via;if(this.from===this.to){var n=this._getCircleData(),i=AB(n,3),r=i[0],o=i[1],s=i[2],a=2*Math.PI*(1-e);return{x:r+s*Math.sin(a),y:o+s-s*(1-Math.cos(a))}}return{x:Math.pow(1-e,2)*this.fromPoint.x+2*e*(1-e)*t.x+Math.pow(e,2)*this.toPoint.x,y:Math.pow(1-e,2)*this.fromPoint.y+2*e*(1-e)*t.y+Math.pow(e,2)*this.toPoint.y}}},{key:"_findBorderPosition",value:function(e,t){return this._findBorderPositionBezier(e,t,this.via)}},{key:"_getDistanceToEdge",value:function(e,t,n,i,r,o){return this._getDistanceToBezierEdge(e,t,n,i,r,o,this.via)}}]),r}(QW),eq=function(e){GU(r,e);var t,n,i=(t=r,n=function(){if("undefined"==typeof Reflect||!UU)return!1;if(UU.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(UU(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,i=KU(t);if(n){var r=KU(this).constructor;e=UU(i,arguments,r)}else e=i.apply(this,arguments);return YU(this,e)});function r(e,t,n){return LL(this,r),i.call(this,e,t,n)}return zL(r,[{key:"_line",value:function(e,t,n){this._bezierCurve(e,t,n)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var e,t,n=this.options.smooth.roundness,i=this.options.smooth.type,r=Math.abs(this.from.x-this.to.x),o=Math.abs(this.from.y-this.to.y);if("discrete"===i||"diagonalCross"===i){var s,a;s=a=r<=o?n*o:n*r,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(a=-a);var c=this.from.x+s,l=this.from.y+a;return"discrete"===i&&(r<=o?c=r<n*o?this.from.x:c:l=o<n*r?this.from.y:l),{x:c,y:l}}if("straightCross"===i){var h=(1-n)*r,d=(1-n)*o;return r<=o?(h=0,this.from.y<this.to.y&&(d=-d)):(this.from.x<this.to.x&&(h=-h),d=0),{x:this.to.x+h,y:this.to.y+d}}if("horizontal"===i){var u=(1-n)*r;return this.from.x<this.to.x&&(u=-u),{x:this.to.x+u,y:this.from.y}}if("vertical"===i){var p=(1-n)*o;return this.from.y<this.to.y&&(p=-p),{x:this.from.x,y:this.to.y+p}}if("curvedCW"===i){r=this.to.x-this.from.x,o=this.from.y-this.to.y;var f=Math.sqrt(r*r+o*o),m=Math.PI,g=(Math.atan2(o,r)+(.5*n+.5)*m)%(2*m);return{x:this.from.x+(.5*n+.5)*f*Math.sin(g),y:this.from.y+(.5*n+.5)*f*Math.cos(g)}}if("curvedCCW"===i){r=this.to.x-this.from.x,o=this.from.y-this.to.y;var v=Math.sqrt(r*r+o*o),y=Math.PI,b=(Math.atan2(o,r)+(.5*-n+.5)*y)%(2*y);return{x:this.from.x+(.5*n+.5)*v*Math.sin(b),y:this.from.y+(.5*n+.5)*v*Math.cos(b)}}e=t=r<=o?n*o:n*r,this.from.x>this.to.x&&(e=-e),this.from.y>=this.to.y&&(t=-t);var _=this.from.x+e,w=this.from.y+t;return r<=o?_=this.from.x<=this.to.x?this.to.x<_?this.to.x:_:this.to.x>_?this.to.x:_:w=this.from.y>=this.to.y?this.to.y>w?this.to.y:w:this.to.y<w?this.to.y:w,{x:_,y:w}}},{key:"_findBorderPosition",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._findBorderPositionBezier(e,t,n.via)}},{key:"_getDistanceToEdge",value:function(e,t,n,i,r,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(e,t,n,i,r,o,s)}},{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),n=e,i=Math.pow(1-n,2)*this.fromPoint.x+2*n*(1-n)*t.x+Math.pow(n,2)*this.toPoint.x,r=Math.pow(1-n,2)*this.fromPoint.y+2*n*(1-n)*t.y+Math.pow(n,2)*this.toPoint.y;return{x:i,y:r}}}]),r}(QW),tq=function(e){GU(r,e);var t,n,i=(t=r,n=function(){if("undefined"==typeof Reflect||!UU)return!1;if(UU.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(UU(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,i=KU(t);if(n){var r=KU(this).constructor;e=UU(i,arguments,r)}else e=i.apply(this,arguments);return YU(this,e)});function r(e,t,n){return LL(this,r),i.call(this,e,t,n)}return zL(r,[{key:"_line",value:function(e,t,n){this._bezierCurve(e,t,n[0],n[1])}},{key:"_getViaCoordinates",value:function(){var e,t,n,i,r=this.from.x-this.to.x,o=this.from.y-this.to.y,s=this.options.smooth.roundness;return(Math.abs(r)>Math.abs(o)||!0===this.options.smooth.forceDirection||"horizontal"===this.options.smooth.forceDirection)&&"vertical"!==this.options.smooth.forceDirection?(t=this.from.y,i=this.to.y,e=this.from.x-s*r,n=this.to.x+s*r):(t=this.from.y-s*o,i=this.to.y+s*o,e=this.from.x,n=this.to.x),[{x:e,y:t},{x:n,y:i}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(e,t){return this._findBorderPositionBezier(e,t)}},{key:"_getDistanceToEdge",value:function(e,t,n,i,r,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates(),a=AB(s,2),c=a[0],l=a[1];return this._getDistanceToBezierEdge2(e,t,n,i,r,o,c,l)}},{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),n=AB(t,2),i=n[0],r=n[1],o=e,s=[Math.pow(1-o,3),3*o*Math.pow(1-o,2),3*Math.pow(o,2)*(1-o),Math.pow(o,3)],a=s[0]*this.fromPoint.x+s[1]*i.x+s[2]*r.x+s[3]*this.toPoint.x,c=s[0]*this.fromPoint.y+s[1]*i.y+s[2]*r.y+s[3]*this.toPoint.y;return{x:a,y:c}}}]),r}(function(e){GU(r,e);var t,n,i=(t=r,n=function(){if("undefined"==typeof Reflect||!UU)return!1;if(UU.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(UU(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,i=KU(t);if(n){var r=KU(this).constructor;e=UU(i,arguments,r)}else e=i.apply(this,arguments);return YU(this,e)});function r(e,t,n){return LL(this,r),i.call(this,e,t,n)}return zL(r,[{key:"_getDistanceToBezierEdge2",value:function(e,t,n,i,r,o,s,a){for(var c=1e9,l=e,h=t,d=[0,0,0,0],u=1;u<10;u++){var p=.1*u;d[0]=Math.pow(1-p,3),d[1]=3*p*Math.pow(1-p,2),d[2]=3*Math.pow(p,2)*(1-p),d[3]=Math.pow(p,3);var f=d[0]*e+d[1]*s.x+d[2]*a.x+d[3]*n,m=d[0]*t+d[1]*s.y+d[2]*a.y+d[3]*i;if(u>0){var g=this._getDistanceToLine(l,h,f,m,r,o);c=g<c?g:c}l=f,h=m}return c}}]),r}(QW)),nq=function(e){GU(r,e);var t,n,i=(t=r,n=function(){if("undefined"==typeof Reflect||!UU)return!1;if(UU.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(UU(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,i=KU(t);if(n){var r=KU(this).constructor;e=UU(i,arguments,r)}else e=i.apply(this,arguments);return YU(this,e)});function r(e,t,n){return LL(this,r),i.call(this,e,t,n)}return zL(r,[{key:"_line",value:function(e,t){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),e.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(e){return{x:(1-e)*this.fromPoint.x+e*this.toPoint.x,y:(1-e)*this.fromPoint.y+e*this.toPoint.y}}},{key:"_findBorderPosition",value:function(e,t){var n=this.to,i=this.from;e.id===this.from.id&&(n=this.from,i=this.to);var r=Math.atan2(n.y-i.y,n.x-i.x),o=n.x-i.x,s=n.y-i.y,a=Math.sqrt(o*o+s*s),c=(a-e.distanceToBorder(t,r))/a;return{x:(1-c)*i.x+c*n.x,y:(1-c)*i.y+c*n.y,t:0}}},{key:"_getDistanceToEdge",value:function(e,t,n,i,r,o){return this._getDistanceToLine(e,t,n,i,r,o)}}]),r}(YW),iq=function(){function e(t,n,i,r,o){if(LL(this,e),void 0===n)throw new Error("No body provided");this.options=tH(r),this.globalOptions=r,this.defaultOptions=o,this.body=n,this.imagelist=i,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new jU(this.body,this.options,!0),this.setOptions(t)}return zL(e,[{key:"setOptions",value:function(t){if(t){var n=void 0!==t.physics&&this.options.physics!==t.physics||void 0!==t.hidden&&(this.options.hidden||!1)!==(t.hidden||!1)||void 0!==t.from&&this.options.from!==t.from||void 0!==t.to&&this.options.to!==t.to;return e.parseOptions(this.options,t,!0,this.globalOptions),void 0!==t.id&&(this.id=t.id),void 0!==t.from&&(this.fromId=t.from),void 0!==t.to&&(this.toId=t.to),void 0!==t.title&&(this.title=t.title),void 0!==t.value&&(t.value=kU(t.value)),this.chooser=xU("edge",[t,this.options,this.defaultOptions]),this.updateLabelModule(t),n=this.updateEdgeType()||n,this._setInteractionWidths(),this.connect(),n}}},{key:"getFormattingValues",value:function(){var e=this.options.color.inherit,t={toArrow:!0===this.options.arrows.to||!0===this.options.arrows.to.enabled,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:!0===this.options.arrows.middle||!0===this.options.arrows.middle.enabled,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:!0===this.options.arrows.from||!0===this.options.arrows.from.enabled,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:e?void 0:this.options.color.color,inheritsColor:e,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(!0===this.chooser){if(this.selected){var n=this.options.selectionWidth;"function"==typeof n?t.width=n(t.width):"number"==typeof n&&(t.width+=n),t.width=Math.max(t.width,.3/this.body.view.scale),t.color=this.options.color.highlight,t.shadow=this.options.shadow.enabled}else if(this.hover){var i=this.options.hoverWidth;"function"==typeof i?t.width=i(t.width):"number"==typeof i&&(t.width+=i),t.width=Math.max(t.width,.3/this.body.view.scale),t.color=this.options.color.hover,t.shadow=this.options.shadow.enabled}}else"function"==typeof this.chooser&&(this.chooser(t,this.options.id,this.selected,this.hover),void 0!==t.color&&(t.inheritsColor=!1),!1===t.shadow&&(t.shadowColor===this.options.shadow.color&&t.shadowSize===this.options.shadow.size&&t.shadowX===this.options.shadow.x&&t.shadowY===this.options.shadow.y||(t.shadow=!0)));else t.shadow=this.options.shadow.enabled,t.width=Math.max(t.width,.3/this.body.view.scale);return t}},{key:"updateLabelModule",value:function(e){this.labelModule.update(this.options,[e,this.options,this.globalOptions,this.defaultOptions]),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var e=this.options.smooth,t=!1,n=!0;return void 0!==this.edgeType&&((this.edgeType instanceof JW&&!0===e.enabled&&"dynamic"===e.type||this.edgeType instanceof tq&&!0===e.enabled&&"cubicBezier"===e.type||this.edgeType instanceof eq&&!0===e.enabled&&"dynamic"!==e.type&&"cubicBezier"!==e.type||this.edgeType instanceof nq&&!1===e.type.enabled)&&(n=!1),!0===n&&(t=this.cleanup())),!0===n?!0===e.enabled?"dynamic"===e.type?(t=!0,this.edgeType=new JW(this.options,this.body,this.labelModule)):this.edgeType="cubicBezier"===e.type?new tq(this.options,this.body,this.labelModule):new eq(this.options,this.body,this.labelModule):this.edgeType=new nq(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),t}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=void 0!==this.from&&void 0!==this.to,!0===this.connected?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(e,t,n){if(void 0!==this.options.value){var i=this.options.scaling.customScalingFunction(e,t,n,this.options.value),r=this.options.scaling.max-this.options.scaling.min;!0===this.options.scaling.label.enabled&&(this.options.font.size=this.options.scaling.label.min+i*(this.options.scaling.label.max-this.options.scaling.label.min)),this.options.width=this.options.scaling.min+i*r}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){this.edgeType.hoverWidth="function"==typeof this.options.hoverWidth?this.options.hoverWidth(this.options.width):this.options.hoverWidth+this.options.width,this.edgeType.selectionWidth="function"==typeof this.options.selectionWidth?this.options.selectionWidth(this.options.width):this.options.selectionWidth+this.options.width}},{key:"draw",value:function(e){var t=this.getFormattingValues();if(!t.hidden){var n=this.edgeType.getViaNode();this.edgeType.drawLine(e,t,this.selected,this.hover,n),this.drawLabel(e,n)}}},{key:"drawArrows",value:function(e){var t=this.getFormattingValues();if(!t.hidden){var n=this.edgeType.getViaNode(),i={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,t.fromArrow&&(i.from=this.edgeType.getArrowData(e,"from",n,this.selected,this.hover,t),!1===t.arrowStrikethrough&&(this.edgeType.fromPoint=i.from.core),t.fromArrowSrc&&(i.from.image=this.imagelist.load(t.fromArrowSrc)),t.fromArrowImageWidth&&(i.from.imageWidth=t.fromArrowImageWidth),t.fromArrowImageHeight&&(i.from.imageHeight=t.fromArrowImageHeight)),t.toArrow&&(i.to=this.edgeType.getArrowData(e,"to",n,this.selected,this.hover,t),!1===t.arrowStrikethrough&&(this.edgeType.toPoint=i.to.core),t.toArrowSrc&&(i.to.image=this.imagelist.load(t.toArrowSrc)),t.toArrowImageWidth&&(i.to.imageWidth=t.toArrowImageWidth),t.toArrowImageHeight&&(i.to.imageHeight=t.toArrowImageHeight)),t.middleArrow&&(i.middle=this.edgeType.getArrowData(e,"middle",n,this.selected,this.hover,t),t.middleArrowSrc&&(i.middle.image=this.imagelist.load(t.middleArrowSrc)),t.middleArrowImageWidth&&(i.middle.imageWidth=t.middleArrowImageWidth),t.middleArrowImageHeight&&(i.middle.imageHeight=t.middleArrowImageHeight)),t.fromArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,i.from),t.middleArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,i.middle),t.toArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,i.to)}}},{key:"drawLabel",value:function(e,t){if(void 0!==this.options.label){var n,i=this.from,r=this.to;if(this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(e,this.selected,this.hover),i.id!=r.id){this.labelModule.pointToSelf=!1,n=this.edgeType.getPoint(.5,t),e.save();var o=this._getRotation(e);0!=o.angle&&(e.translate(o.x,o.y),e.rotate(o.angle)),this.labelModule.draw(e,n.x,n.y,this.selected,this.hover),e.restore()}else{this.labelModule.pointToSelf=!0;var s=TU(e,this.options.selfReference.angle,this.options.selfReference.size,i);n=this._pointOnCircle(s.x,s.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(e,n.x,n.y,this.selected,this.hover)}}}},{key:"getItemsOnPoint",value:function(e){var t=[];if(this.labelModule.visible()){var n=this._getRotation();EU(this.labelModule.getSize(),e,n)&&t.push({edgeId:this.id,labelId:0})}return this.isOverlappingWith({left:e.x,top:e.y})&&t.push({edgeId:this.id}),t}},{key:"isOverlappingWith",value:function(e){return!!this.connected&&this.edgeType.getDistanceToEdge(this.from.x,this.from.y,this.to.x,this.to.y,e.left,e.top)<10}},{key:"_getRotation",value:function(e){var t=this.edgeType.getViaNode(),n=this.edgeType.getPoint(.5,t);void 0!==e&&this.labelModule.calculateLabelSize(e,this.selected,this.hover,n.x,n.y);var i={x:n.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible())return i;if("horizontal"===this.options.font.align)return i;var r=this.from.x-this.to.x,o=Math.atan2(this.from.y-this.to.y,r);return(o<-1&&r<0||o>0&&r<0)&&(o+=Math.PI),i.angle=o,i}},{key:"_pointOnCircle",value:function(e,t,n,i){return{x:e+n*Math.cos(i),y:t-n*Math.sin(i)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}},{key:"remove",value:function(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}},{key:"endPointsValid",value:function(){return void 0!==this.body.nodes[this.fromId]&&void 0!==this.body.nodes[this.toId]}}],[{key:"parseOptions",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"];if(jV(o,e,t,n),void 0!==t.endPointOffset&&void 0!==t.endPointOffset.from&&(gU(t.endPointOffset.from)?e.endPointOffset.from=t.endPointOffset.from:(e.endPointOffset.from=void 0!==i.endPointOffset.from?i.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),void 0!==t.endPointOffset&&void 0!==t.endPointOffset.to&&(gU(t.endPointOffset.to)?e.endPointOffset.to=t.endPointOffset.to:(e.endPointOffset.to=void 0!==i.endPointOffset.to?i.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),OU(t.label)?e.label=t.label:OU(e.label)||(e.label=void 0),nH(e,t,"smooth",i),nH(e,t,"shadow",i),nH(e,t,"background",i),null!=t.dashes?e.dashes=t.dashes:!0===n&&null===t.dashes&&(e.dashes=UL(i.dashes)),null!=t.scaling?(void 0!==t.scaling.min&&(e.scaling.min=t.scaling.min),void 0!==t.scaling.max&&(e.scaling.max=t.scaling.max),nH(e.scaling,t.scaling,"label",i.scaling)):!0===n&&null===t.scaling&&(e.scaling=UL(i.scaling)),null!=t.arrows)if("string"==typeof t.arrows){var s=t.arrows.toLowerCase();e.arrows.to.enabled=-1!=cj(s).call(s,"to"),e.arrows.middle.enabled=-1!=cj(s).call(s,"middle"),e.arrows.from.enabled=-1!=cj(s).call(s,"from")}else{if("object"!==WB(t.arrows))throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+FL(t.arrows));nH(e.arrows,t.arrows,"to",i.arrows),nH(e.arrows,t.arrows,"middle",i.arrows),nH(e.arrows,t.arrows,"from",i.arrows)}else!0===n&&null===t.arrows&&(e.arrows=UL(i.arrows));if(null!=t.color){var a=MV(t.color)?{color:t.color,highlight:t.color,hover:t.color,inherit:!1,opacity:1}:t.color,c=e.color;if(r)zV(c,i.color,!1,n);else for(var l in c)Object.prototype.hasOwnProperty.call(c,l)&&delete c[l];if(MV(c))c.color=c,c.highlight=c,c.hover=c,c.inherit=!1,void 0===a.opacity&&(c.opacity=1);else{var h=!1;void 0!==a.color&&(c.color=a.color,h=!0),void 0!==a.highlight&&(c.highlight=a.highlight,h=!0),void 0!==a.hover&&(c.hover=a.hover,h=!0),void 0!==a.inherit&&(c.inherit=a.inherit),void 0!==a.opacity&&(c.opacity=Math.min(1,Math.max(0,a.opacity))),!0===h?c.inherit=!1:void 0===c.inherit&&(c.inherit="from")}}else!0===n&&null===t.color&&(e.color=tH(i.color));!0===n&&null===t.font&&(e.font=tH(i.font)),Object.prototype.hasOwnProperty.call(t,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),e.selfReference.size=t.selfReferenceSize)}}]),e}(),rq=function(){function e(t,n,i){var r,o=this;LL(this,e),this.body=t,this.images=n,this.groups=i,this.body.functions.createEdge=dM(r=this.create).call(r,this),this.edgesListeners={add:function(e,t){o.add(t.items)},update:function(e,t){o.update(t.items)},remove:function(e,t){o.remove(t.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(e,t,n,i){return t===e?.5:Math.max(0,1/(t-e)*(i-e))}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},zV(this.options,this.defaultOptions),this.bindEventListeners()}return zL(e,[{key:"bindEventListeners",value:function(){var e,t,n=this;this.body.emitter.on("_forceDisableDynamicCurves",function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"dynamic"===e&&(e="continuous");var i=!1;for(var r in n.body.edges)if(Object.prototype.hasOwnProperty.call(n.body.edges,r)){var o=n.body.edges[r],s=n.body.data.edges.get(r);if(null!=s){var a=s.smooth;void 0!==a&&!0===a.enabled&&"dynamic"===a.type&&(o.setOptions(void 0===e?{smooth:!1}:{smooth:{type:e}}),i=!0)}}!0===t&&!0===i&&n.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",function(){n.reconnectEdges()}),this.body.emitter.on("refreshEdges",dM(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",dM(t=this.refresh).call(t,this)),this.body.emitter.on("destroy",function(){WV(n.edgesListeners,function(e,t){n.body.data.edges&&n.body.data.edges.off(t,e)}),delete n.body.functions.createEdge,delete n.edgesListeners.add,delete n.edgesListeners.update,delete n.edgesListeners.remove,delete n.edgesListeners})}},{key:"setOptions",value:function(e){if(void 0!==e){iq.parseOptions(this.options,e,!0,this.defaultOptions,!0);var t=!1;if(void 0!==e.smooth)for(var n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&(t=this.body.edges[n].updateEdgeType()||t);if(void 0!==e.font)for(var i in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,i)&&this.body.edges[i].updateLabelModule();void 0===e.hidden&&void 0===e.physics&&!0!==t||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.body.data.edges;if(fD("id",e))this.body.data.edges=e;else if(HB(e))this.body.data.edges=new pD,this.body.data.edges.add(e);else{if(e)throw new TypeError("Array or DataSet expected");this.body.data.edges=new pD}if(i&&WV(this.edgesListeners,function(e,t){i.off(t,e)}),this.body.edges={},this.body.data.edges){WV(this.edgesListeners,function(e,n){t.body.data.edges.on(n,e)});var r=this.body.data.edges.getIds();this.add(r,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===n&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.body.edges,i=this.body.data.edges,r=0;r<e.length;r++){var o=e[r],s=n[o];s&&s.disconnect();var a=i.get(o,{showInternalIds:!0});n[o]=this.create(a)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===t&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(e){for(var t=this.body.edges,n=this.body.data.edges,i=!1,r=0;r<e.length;r++){var o=e[r],s=n.get(o),a=t[o];void 0!==a?(a.disconnect(),i=a.setOptions(s)||i,a.connect()):(this.body.edges[o]=this.create(s),i=!0)}!0===i?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(0!==e.length){var n=this.body.edges;WV(e,function(e){var t=n[e];void 0!==t&&t.remove()}),t&&this.body.emitter.emit("_dataChanged")}}},{key:"refresh",value:function(){var e=this;WV(this.body.edges,function(t,n){var i=e.body.data.edges.get(n);void 0!==i&&t.setOptions(i)})}},{key:"create",value:function(e){return new iq(e,this.body,this.images,this.options,this.defaultOptions)}},{key:"reconnectEdges",value:function(){var e,t=this.body.nodes,n=this.body.edges;for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&(t[e].edges=[]);for(e in n)if(Object.prototype.hasOwnProperty.call(n,e)){var i=n[e];i.from=null,i.to=null,i.connect()}}},{key:"getConnectedNodes",value:function(e){var t=[];if(void 0!==this.body.edges[e]){var n=this.body.edges[e];void 0!==n.fromId&&t.push(n.fromId),void 0!==n.toId&&t.push(n.toId)}return t}},{key:"_updateState",value:function(){this._addMissingEdges(),this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function(){var e=this,t=[];WV(this.body.edges,function(n,i){var r=e.body.nodes[n.toId],o=e.body.nodes[n.fromId];void 0!==r&&!0===r.isCluster||void 0!==o&&!0===o.isCluster||void 0!==r&&void 0!==o||t.push(i)}),this.remove(t,!1)}},{key:"_addMissingEdges",value:function(){var e=this.body.data.edges;if(null!=e){var t=this.body.edges,n=[];lB(e).call(e,function(e,i){void 0===t[i]&&n.push(i)}),this.add(n,!0)}}}]),e}(),oq=function(){function e(t,n,i){LL(this,e),this.body=t,this.physicsBody=n,this.setOptions(i),this._rng=kV("BARNES HUT SOLVER")}return zL(e,[{key:"setOptions",value:function(e){this.options=e,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"solve",value:function(){if(0!==this.options.gravitationalConstant&&this.physicsBody.physicsNodeIndices.length>0){var e,t=this.body.nodes,n=this.physicsBody.physicsNodeIndices,i=n.length,r=this._formBarnesHutTree(t,n);this.barnesHutTree=r;for(var o=0;o<i;o++)(e=t[n[o]]).options.mass>0&&this._getForceContributions(r.root,e)}}},{key:"_getForceContributions",value:function(e,t){this._getForceContribution(e.children.NW,t),this._getForceContribution(e.children.NE,t),this._getForceContribution(e.children.SW,t),this._getForceContribution(e.children.SE,t)}},{key:"_getForceContribution",value:function(e,t){if(e.childrenCount>0){var n=e.centerOfMass.x-t.x,i=e.centerOfMass.y-t.y,r=Math.sqrt(n*n+i*i);r*e.calcSize>this.thetaInversed?this._calculateForces(r,n,i,t,e):4===e.childrenCount?this._getForceContributions(e,t):e.children.data.id!=t.id&&this._calculateForces(r,n,i,t,e)}}},{key:"_calculateForces",value:function(e,t,n,i,r){0===e&&(t=e=.1),this.overlapAvoidanceFactor<1&&i.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,e-i.shape.radius));var o=this.options.gravitationalConstant*r.mass*i.options.mass/Math.pow(e,3),s=n*o;this.physicsBody.forces[i.id].x+=t*o,this.physicsBody.forces[i.id].y+=s}},{key:"_formBarnesHutTree",value:function(e,t){for(var n,i=t.length,r=e[t[0]].x,o=e[t[0]].y,s=e[t[0]].x,a=e[t[0]].y,c=1;c<i;c++){var l=e[t[c]],h=l.x,d=l.y;l.options.mass>0&&(h<r&&(r=h),h>s&&(s=h),d<o&&(o=d),d>a&&(a=d))}var u=Math.abs(s-r)-Math.abs(a-o);u>0?(o-=.5*u,a+=.5*u):(r+=.5*u,s-=.5*u);var p=Math.max(1e-5,Math.abs(s-r)),f=.5*p,m=.5*(r+s),g=.5*(o+a),v={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:m-f,maxX:m+f,minY:g-f,maxY:g+f},size:p,calcSize:1/p,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(v.root);for(var y=0;y<i;y++)(n=e[t[y]]).options.mass>0&&this._placeInTree(v.root,n);return v}},{key:"_updateBranchMass",value:function(e,t){var n=e.centerOfMass,i=e.mass+t.options.mass,r=1/i;n.x=n.x*e.mass+t.x*t.options.mass,n.x*=r,n.y=n.y*e.mass+t.y*t.options.mass,n.y*=r,e.mass=i;var o=Math.max(Math.max(t.height,t.radius),t.width);e.maxWidth=e.maxWidth<o?o:e.maxWidth}},{key:"_placeInTree",value:function(e,t,n){1==n&&void 0!==n||this._updateBranchMass(e,t);var i=e.children.NW.range;this._placeInRegion(e,t,i.maxX>t.x?i.maxY>t.y?"NW":"SW":i.maxY>t.y?"NE":"SE")}},{key:"_placeInRegion",value:function(e,t,n){var i=e.children[n];switch(i.childrenCount){case 0:i.children.data=t,i.childrenCount=1,this._updateBranchMass(i,t);break;case 1:i.children.data.x===t.x&&i.children.data.y===t.y?(t.x+=this._rng(),t.y+=this._rng()):(this._splitBranch(i),this._placeInTree(i,t));break;case 4:this._placeInTree(i,t)}}},{key:"_splitBranch",value:function(e){var t=null;1===e.childrenCount&&(t=e.children.data,e.mass=0,e.centerOfMass.x=0,e.centerOfMass.y=0),e.childrenCount=4,e.children.data=null,this._insertRegion(e,"NW"),this._insertRegion(e,"NE"),this._insertRegion(e,"SW"),this._insertRegion(e,"SE"),null!=t&&this._placeInTree(e,t)}},{key:"_insertRegion",value:function(e,t){var n,i,r,o,s=.5*e.size;switch(t){case"NW":n=e.range.minX,i=e.range.minX+s,r=e.range.minY,o=e.range.minY+s;break;case"NE":n=e.range.minX+s,i=e.range.maxX,r=e.range.minY,o=e.range.minY+s;break;case"SW":n=e.range.minX,i=e.range.minX+s,r=e.range.minY+s,o=e.range.maxY;break;case"SE":n=e.range.minX+s,i=e.range.maxX,r=e.range.minY+s,o=e.range.maxY}e.children[t]={centerOfMass:{x:0,y:0},mass:0,range:{minX:n,maxX:i,minY:r,maxY:o},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}},{key:"_debug",value:function(e,t){void 0!==this.barnesHutTree&&(e.lineWidth=1,this._drawBranch(this.barnesHutTree.root,e,t))}},{key:"_drawBranch",value:function(e,t,n){void 0===n&&(n="#FF0000"),4===e.childrenCount&&(this._drawBranch(e.children.NW,t),this._drawBranch(e.children.NE,t),this._drawBranch(e.children.SE,t),this._drawBranch(e.children.SW,t)),t.strokeStyle=n,t.beginPath(),t.moveTo(e.range.minX,e.range.minY),t.lineTo(e.range.maxX,e.range.minY),t.stroke(),t.beginPath(),t.moveTo(e.range.maxX,e.range.minY),t.lineTo(e.range.maxX,e.range.maxY),t.stroke(),t.beginPath(),t.moveTo(e.range.maxX,e.range.maxY),t.lineTo(e.range.minX,e.range.maxY),t.stroke(),t.beginPath(),t.moveTo(e.range.minX,e.range.maxY),t.lineTo(e.range.minX,e.range.minY),t.stroke()}}]),e}(),sq=function(){function e(t,n,i){LL(this,e),this._rng=kV("REPULSION SOLVER"),this.body=t,this.physicsBody=n,this.setOptions(i)}return zL(e,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,t,n,i,r,o,s,a,c=this.body.nodes,l=this.physicsBody.physicsNodeIndices,h=this.physicsBody.forces,d=this.options.nodeDistance,u=-2/3/d,p=0;p<l.length-1;p++){s=c[l[p]];for(var f=p+1;f<l.length;f++)e=(a=c[l[f]]).x-s.x,t=a.y-s.y,0===(n=Math.sqrt(e*e+t*t))&&(e=n=.1*this._rng()),n<2*d&&(o=n<.5*d?1:u*n+1.3333333333333333,r=t*(o/=n),h[s.id].x-=i=e*o,h[s.id].y-=r,h[a.id].x+=i,h[a.id].y+=r)}}}]),e}(),aq=function(){function e(t,n,i){LL(this,e),this.body=t,this.physicsBody=n,this.setOptions(i)}return zL(e,[{key:"setOptions",value:function(e){this.options=e,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}},{key:"solve",value:function(){for(var e=this.body.nodes,t=this.physicsBody.physicsNodeIndices,n=this.physicsBody.forces,i=this.options.nodeDistance,r=0;r<t.length-1;r++)for(var o=e[t[r]],s=r+1;s<t.length;s++){var a=e[t[s]];if(o.level===a.level){var c=i+this.overlapAvoidanceFactor*((o.shape.radius||0)/2+(a.shape.radius||0)/2),l=a.x-o.x,h=a.y-o.y,d=Math.sqrt(l*l+h*h),u=void 0;u=d<c?-Math.pow(.05*d,2)+Math.pow(.05*c,2):0,0!==d&&(u/=d);var p=l*u,f=h*u;n[o.id].x-=p,n[o.id].y-=f,n[a.id].x+=p,n[a.id].y+=f}}}}]),e}(),cq=function(){function e(t,n,i){LL(this,e),this.body=t,this.physicsBody=n,this.setOptions(i)}return zL(e,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,t,n,i,r=this.physicsBody.physicsEdgeIndices,o=this.body.edges,s=0;s<r.length;s++)!0===(t=o[r[s]]).connected&&t.toId!==t.fromId&&void 0!==this.body.nodes[t.toId]&&void 0!==this.body.nodes[t.fromId]&&(void 0!==t.edgeType.via?(i=t.from,this._calculateSpringForce(t.to,n=t.edgeType.via,.5*(e=void 0===t.options.length?this.options.springLength:t.options.length)),this._calculateSpringForce(n,i,.5*e)):this._calculateSpringForce(t.from,t.to,e=void 0===t.options.length?1.5*this.options.springLength:t.options.length))}},{key:"_calculateSpringForce",value:function(e,t,n){var i=e.x-t.x,r=e.y-t.y,o=Math.max(Math.sqrt(i*i+r*r),.01),s=this.options.springConstant*(n-o)/o,a=i*s,c=r*s;void 0!==this.physicsBody.forces[e.id]&&(this.physicsBody.forces[e.id].x+=a,this.physicsBody.forces[e.id].y+=c),void 0!==this.physicsBody.forces[t.id]&&(this.physicsBody.forces[t.id].x-=a,this.physicsBody.forces[t.id].y-=c)}}]),e}(),lq=function(){function e(t,n,i){LL(this,e),this.body=t,this.physicsBody=n,this.setOptions(i)}return zL(e,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,t,n,i,r,o,s,a,c,l,h=this.body.edges,d=this.physicsBody.physicsEdgeIndices,u=this.physicsBody.physicsNodeIndices,p=this.physicsBody.forces,f=0;f<u.length;f++){var m=u[f];p[m].springFx=0,p[m].springFy=0}for(var g=0;g<d.length;g++)!0===(t=h[d[g]]).connected&&(e=void 0===t.options.length?this.options.springLength:t.options.length,n=t.from.x-t.to.x,i=t.from.y-t.to.y,a=Math.sqrt(n*n+i*i),r=n*(s=this.options.springConstant*(e-(a=0===a?.01:a))/a),o=i*s,t.to.level!=t.from.level?(void 0!==p[t.toId]&&(p[t.toId].springFx-=r,p[t.toId].springFy-=o),void 0!==p[t.fromId]&&(p[t.fromId].springFx+=r,p[t.fromId].springFy+=o)):(void 0!==p[t.toId]&&(p[t.toId].x-=.5*r,p[t.toId].y-=.5*o),void 0!==p[t.fromId]&&(p[t.fromId].x+=.5*r,p[t.fromId].y+=.5*o)));s=1;for(var v=0;v<u.length;v++){var y=u[v];c=Math.min(s,Math.max(-s,p[y].springFx)),l=Math.min(s,Math.max(-s,p[y].springFy)),p[y].x+=c,p[y].y+=l}for(var b=0,_=0,w=0;w<u.length;w++){var C=u[w];b+=p[C].x,_+=p[C].y}for(var S=b/u.length,k=_/u.length,x=0;x<u.length;x++){var E=u[x];p[E].x-=S,p[E].y-=k}}}]),e}(),hq=function(){function e(t,n,i){LL(this,e),this.body=t,this.physicsBody=n,this.setOptions(i)}return zL(e,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,t,n,i,r=this.body.nodes,o=this.physicsBody.physicsNodeIndices,s=this.physicsBody.forces,a=0;a<o.length;a++)e=-(i=r[o[a]]).x,t=-i.y,n=Math.sqrt(e*e+t*t),this._calculateForces(n,e,t,s,i)}},{key:"_calculateForces",value:function(e,t,n,i,r){var o=0===e?0:this.options.centralGravity/e;i[r.id].x=t*o,i[r.id].y=n*o}}]),e}(),dq=function(e){GU(r,e);var t,n,i=(t=r,n=function(){if("undefined"==typeof Reflect||!UU)return!1;if(UU.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(UU(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,i=KU(t);if(n){var r=KU(this).constructor;e=UU(i,arguments,r)}else e=i.apply(this,arguments);return YU(this,e)});function r(e,t,n){var o;return LL(this,r),(o=i.call(this,e,t,n))._rng=kV("FORCE ATLAS 2 BASED REPULSION SOLVER"),o}return zL(r,[{key:"_calculateForces",value:function(e,t,n,i,r){0===e&&(t=e=.1*this._rng()),this.overlapAvoidanceFactor<1&&i.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,e-i.shape.radius));var o=this.options.gravitationalConstant*r.mass*i.options.mass*(i.edges.length+1)/Math.pow(e,2),s=n*o;this.physicsBody.forces[i.id].x+=t*o,this.physicsBody.forces[i.id].y+=s}}]),r}(oq),uq=function(e){GU(r,e);var t,n,i=(t=r,n=function(){if("undefined"==typeof Reflect||!UU)return!1;if(UU.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(UU(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,i=KU(t);if(n){var r=KU(this).constructor;e=UU(i,arguments,r)}else e=i.apply(this,arguments);return YU(this,e)});function r(e,t,n){return LL(this,r),i.call(this,e,t,n)}return zL(r,[{key:"_calculateForces",value:function(e,t,n,i,r){if(e>0){var o=this.options.centralGravity*(r.edges.length+1)*r.options.mass;i[r.id].x=t*o,i[r.id].y=n*o}}}]),r}(hq),pq=function(){function e(t){LL(this,e),this.body=t,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},AM(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return zL(e,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("initPhysics",function(){e.initPhysics()}),this.body.emitter.on("_layoutFailed",function(){e.layoutFailed=!0}),this.body.emitter.on("resetPhysics",function(){e.stopSimulation(),e.ready=!1}),this.body.emitter.on("disablePhysics",function(){e.physicsEnabled=!1,e.stopSimulation()}),this.body.emitter.on("restorePhysics",function(){e.setOptions(e.options),!0===e.ready&&e.startSimulation()}),this.body.emitter.on("startSimulation",function(){!0===e.ready&&e.startSimulation()}),this.body.emitter.on("stopSimulation",function(){e.stopSimulation()}),this.body.emitter.on("destroy",function(){e.stopSimulation(!1),e.body.emitter.off()}),this.body.emitter.on("_dataChanged",function(){e.updatePhysicsData()})}},{key:"setOptions",value:function(e){if(void 0!==e)if(!1===e)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(!0===e)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,BV(["stabilization"],this.options,e),nH(this.options,e,"stabilization"),void 0===e.enabled&&(this.options.enabled=!0),!1===this.options.enabled&&(this.physicsEnabled=!1,this.stopSimulation());var t=this.options.wind;t&&(("number"!=typeof t.x||vU(t.x))&&(t.x=0),("number"!=typeof t.y||vU(t.y))&&(t.y=0)),this.timestep=this.options.timestep}this.init()}},{key:"init",value:function(){var e;"forceAtlas2Based"===this.options.solver?(this.nodesSolver=new dq(this.body,this.physicsBody,e=this.options.forceAtlas2Based),this.edgesSolver=new cq(this.body,this.physicsBody,e),this.gravitySolver=new uq(this.body,this.physicsBody,e)):"repulsion"===this.options.solver?(this.nodesSolver=new sq(this.body,this.physicsBody,e=this.options.repulsion),this.edgesSolver=new cq(this.body,this.physicsBody,e),this.gravitySolver=new hq(this.body,this.physicsBody,e)):"hierarchicalRepulsion"===this.options.solver?(this.nodesSolver=new aq(this.body,this.physicsBody,e=this.options.hierarchicalRepulsion),this.edgesSolver=new lq(this.body,this.physicsBody,e),this.gravitySolver=new hq(this.body,this.physicsBody,e)):(this.nodesSolver=new oq(this.body,this.physicsBody,e=this.options.barnesHut),this.edgesSolver=new cq(this.body,this.physicsBody,e),this.gravitySolver=new hq(this.body,this.physicsBody,e)),this.modelOptions=e}},{key:"initPhysics",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?!0===this.options.stabilization.enabled?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){var e;!0===this.physicsEnabled&&!0===this.options.enabled?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),void 0===this.viewFunction&&(this.viewFunction=dM(e=this.simulationStep).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.stabilized=!0,!0===e&&this._emitStabilized(),void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,!0===e&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var e=DB();this.physicsTick(),(DB()-e<.4*this.simulationInterval||!0===this.runDoubleSpeed)&&!1===this.stabilized&&(this.physicsTick(),this.runDoubleSpeed=!0),!0===this.stabilized&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||!0===this.startedStabilization)&&PL(function(){e.body.emitter.emit("stabilized",{iterations:t}),e.startedStabilization=!1,e.stabilizationIterations=0},0)}},{key:"physicsStep",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}},{key:"adjustTimeStep",value:function(){!0===this._evaluateStepQuality()?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}},{key:"physicsTick",value:function(){this._startStabilizing(),!0!==this.stabilized&&(!0===this.adaptiveTimestep&&!0===this.adaptiveTimestepEnabled?(this.adaptiveCounter%this.adaptiveInterval==0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),!0===this.stabilized&&this.revert(),this.stabilizationIterations++)}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var e=this.body.nodes,t=this.body.edges;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&!0===e[n].options.physics&&this.physicsBody.physicsNodeIndices.push(e[n].id);for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&!0===t[i].options.physics&&this.physicsBody.physicsEdgeIndices.push(t[i].id);for(var r=0;r<this.physicsBody.physicsNodeIndices.length;r++){var o=this.physicsBody.physicsNodeIndices[r];this.physicsBody.forces[o]={x:0,y:0},void 0===this.physicsBody.velocities[o]&&(this.physicsBody.velocities[o]={x:0,y:0})}for(var s in this.physicsBody.velocities)void 0===e[s]&&delete this.physicsBody.velocities[s]}},{key:"revert",value:function(){var e=NB(this.previousStates),t=this.body.nodes,n=this.physicsBody.velocities;this.referenceState={};for(var i=0;i<e.length;i++){var r=e[i];void 0!==t[r]?!0===t[r].options.physics&&(this.referenceState[r]={positions:{x:t[r].x,y:t[r].y}},n[r].x=this.previousStates[r].vx,n[r].y=this.previousStates[r].vy,t[r].x=this.previousStates[r].x,t[r].y=this.previousStates[r].y):delete this.previousStates[r]}}},{key:"_evaluateStepQuality",value:function(){var e,t=this.body.nodes,n=this.referenceState;for(var i in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,i)&&void 0!==t[i]&&(e=t[i].y-n[i].positions.y,Math.sqrt(Math.pow(t[i].x-n[i].positions.x,2)+Math.pow(e,2))>.3))return!1;return!0}},{key:"moveNodes",value:function(){for(var e=this.physicsBody.physicsNodeIndices,t=0,n=0,i=0;i<e.length;i++){var r=this._performStep(e[i]);t=Math.max(t,r),n+=r}this.adaptiveTimestepEnabled=n/e.length<5,this.stabilized=t<this.options.minVelocity}},{key:"calculateComponentVelocity",value:function(e,t,n){e+=(t-this.modelOptions.damping*e)/n*this.timestep;var i=this.options.maxVelocity||1e9;return Math.abs(e)>i&&(e=e>0?i:-i),e}},{key:"_performStep",value:function(e){var t=this.body.nodes[e],n=this.physicsBody.forces[e];this.options.wind&&(n.x+=this.options.wind.x,n.y+=this.options.wind.y);var i=this.physicsBody.velocities[e];return this.previousStates[e]={x:t.x,y:t.y,vx:i.x,vy:i.y},!1===t.options.fixed.x?(i.x=this.calculateComponentVelocity(i.x,n.x,t.options.mass),t.x+=i.x*this.timestep):(n.x=0,i.x=0),!1===t.options.fixed.y?(i.y=this.calculateComponentVelocity(i.y,n.y,t.options.mass),t.y+=i.y*this.timestep):(n.y=0,i.y=0),Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2))}},{key:"_freezeNodes",value:function(){var e=this.body.nodes;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&e[t].x&&e[t].y){var n=e[t].options.fixed;this.freezeCache[t]={x:n.x,y:n.y},n.x=!0,n.y=!0}}},{key:"_restoreFrozenNodes",value:function(){var e=this.body.nodes;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&void 0!==this.freezeCache[t]&&(e[t].options.fixed.x=this.freezeCache[t].x,e[t].options.fixed.y=this.freezeCache[t].y);this.freezeCache={}}},{key:"stabilize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.stabilization.iterations;"number"!=typeof t&&(t=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",t)),0!==this.physicsBody.physicsNodeIndices.length?(this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=t,!0===this.options.stabilization.onlyDynamicEdges&&this._freezeNodes(),this.stabilizationIterations=0,PL(function(){return e._stabilizationBatch()},0)):this.ready=!0}},{key:"_startStabilizing",value:function(){return!0!==this.startedStabilization&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}},{key:"_stabilizationBatch",value:function(){var e=this,t=function(){return!1===e.stabilized&&e.stabilizationIterations<e.targetIterations},n=function(){e.body.emitter.emit("stabilizationProgress",{iterations:e.stabilizationIterations,total:e.targetIterations})};this._startStabilizing()&&n();for(var i,r=0;t()&&r<this.options.stabilization.updateInterval;)this.physicsTick(),r++;n(),t()?PL(dM(i=this._stabilizationBatch).call(i,this),0):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),!0===this.options.stabilization.fit&&this.body.emitter.emit("fit"),!0===this.options.stabilization.onlyDynamicEdges&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),!0===this.stabilized?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(e){for(var t=0;t<this.physicsBody.physicsNodeIndices.length;t++){var n=this.physicsBody.physicsNodeIndices[t],i=this.body.nodes[n],r=this.physicsBody.forces[n],o=Math.sqrt(Math.pow(r.x,2)+Math.pow(r.x,2)),s=Math.min(Math.max(5,o),15),a=3*s,c=ZV((180-180*Math.min(1,Math.max(0,.03*o)))/360,1,1),l={x:i.x+20*r.x,y:i.y+20*r.y};e.lineWidth=s,e.strokeStyle=c,e.beginPath(),e.moveTo(i.x,i.y),e.lineTo(l.x,l.y),e.stroke();var h=Math.atan2(r.y,r.x);e.fillStyle=c,qW.draw(e,{type:"arrow",point:l,angle:h,length:a}),kL(e).call(e)}}}]),e}(),fq=new Uint8Array(16);function mq(){if(!ZW&&!(ZW="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ZW(fq)}var gq=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function vq(e){return"string"==typeof e&&gq.test(e)}for(var yq=[],bq=0;bq<256;++bq)yq.push((bq+256).toString(16).substr(1));function _q(e,t,n){var i=(e=e||{}).random||(e.rng||mq)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){n=n||0;for(var r=0;r<16;++r)t[n+r]=i[r];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(yq[e[t+0]]+yq[e[t+1]]+yq[e[t+2]]+yq[e[t+3]]+"-"+yq[e[t+4]]+yq[e[t+5]]+"-"+yq[e[t+6]]+yq[e[t+7]]+"-"+yq[e[t+8]]+yq[e[t+9]]+"-"+yq[e[t+10]]+yq[e[t+11]]+yq[e[t+12]]+yq[e[t+13]]+yq[e[t+14]]+yq[e[t+15]]).toLowerCase();if(!vq(n))throw TypeError("Stringified UUID is invalid");return n}(i)}var wq=function(){function e(){LL(this,e)}return zL(e,null,[{key:"getRange",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=1e9,r=-1e9,o=1e9,s=-1e9;if(n.length>0)for(var a=0;a<n.length;a++)o>(t=e[n[a]]).shape.boundingBox.left&&(o=t.shape.boundingBox.left),s<t.shape.boundingBox.right&&(s=t.shape.boundingBox.right),i>t.shape.boundingBox.top&&(i=t.shape.boundingBox.top),r<t.shape.boundingBox.bottom&&(r=t.shape.boundingBox.bottom);return 1e9===o&&-1e9===s&&1e9===i&&-1e9===r&&(i=0,r=0,o=0,s=0),{minX:o,maxX:s,minY:i,maxY:r}}},{key:"getRangeCore",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=1e9,r=-1e9,o=1e9,s=-1e9;if(n.length>0)for(var a=0;a<n.length;a++)o>(t=e[n[a]]).x&&(o=t.x),s<t.x&&(s=t.x),i>t.y&&(i=t.y),r<t.y&&(r=t.y);return 1e9===o&&-1e9===s&&1e9===i&&-1e9===r&&(i=0,r=0,o=0,s=0),{minX:o,maxX:s,minY:i,maxY:r}}},{key:"findCenter",value:function(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}},{key:"cloneOptions",value:function(e,t){var n={};return void 0===t||"node"===t?(zV(n,e.options,!0),n.x=e.x,n.y=e.y,n.amountOfConnections=e.edges.length):zV(n,e.options,!0),n}}]),e}(),Cq=function(e){GU(r,e);var t,n,i=(t=r,n=function(){if("undefined"==typeof Reflect||!UU)return!1;if(UU.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(UU(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,i=KU(t);if(n){var r=KU(this).constructor;e=UU(i,arguments,r)}else e=i.apply(this,arguments);return YU(this,e)});function r(e,t,n,o,s,a){var c;return LL(this,r),(c=i.call(this,e,t,n,o,s,a)).isCluster=!0,c.containedNodes={},c.containedEdges={},c}return zL(r,[{key:"_openChildCluster",value:function(e){var t=this,n=this.body.nodes[e];if(void 0===this.containedNodes[e])throw new Error("node with id: "+e+" not in current cluster");if(!n.isCluster)throw new Error("node with id: "+e+" is not a cluster");delete this.containedNodes[e],WV(n.edges,function(e){delete t.containedEdges[e.id]}),WV(n.containedNodes,function(e,n){t.containedNodes[n]=e}),n.containedNodes={},WV(n.containedEdges,function(e,n){t.containedEdges[n]=e}),n.containedEdges={},WV(n.edges,function(e){WV(t.edges,function(n){var i,r,o=cj(i=n.clusteringEdgeReplacingIds).call(i,e.id);-1!==o&&(WV(e.clusteringEdgeReplacingIds,function(e){n.clusteringEdgeReplacingIds.push(e),t.body.edges[e].edgeReplacedById=n.id}),Kj(r=n.clusteringEdgeReplacingIds).call(r,o,1))})}),n.edges=[]}}]),r}(_W),Sq=function(){function e(t){var n=this;LL(this,e),this.body=t,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},AM(this.options,this.defaultOptions),this.body.emitter.on("_resetData",function(){n.clusteredNodes={},n.clusteredEdges={}})}return zL(e,[{key:"clusterByHubsize",value:function(e,t){void 0===e?e=this._getHubSize():"object"===WB(e)&&(t=this._checkOptions(e),e=this._getHubSize());for(var n=[],i=0;i<this.body.nodeIndices.length;i++){var r=this.body.nodes[this.body.nodeIndices[i]];r.edges.length>=e&&n.push(r.id)}for(var o=0;o<n.length;o++)this.clusterByConnection(n[o],t,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0===t.joinCondition)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");t=this._checkOptions(t);var i={},r={};WV(this.body.nodes,function(n,o){n.options&&!0===t.joinCondition(n.options)&&(i[o]=n,WV(n.edges,function(t){void 0===e.clusteredEdges[t.id]&&(r[t.id]=t)}))}),this._cluster(i,r,t,n)}},{key:"clusterByEdgeCount",value:function(e,t){var n=this,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t=this._checkOptions(t);for(var r,o,s,a=[],c={},l=function(i){var l={},h={},d=n.body.nodeIndices[i],u=n.body.nodes[d];if(void 0===c[d]){s=0,o=[];for(var p=0;p<u.edges.length;p++)void 0===n.clusteredEdges[(r=u.edges[p]).id]&&(r.toId!==r.fromId&&s++,o.push(r));if(s===e){for(var f=function(e){if(null==t.joinCondition)return!0;var n=wq.cloneOptions(e);return t.joinCondition(n)},m=!0,g=0;g<o.length;g++){var v=n._getConnectedId(r=o[g],d);if(!f(u)){m=!1;break}h[r.id]=r,l[d]=u,l[v]=n.body.nodes[v],c[d]=!0}if(NB(l).length>0&&NB(h).length>0&&!0===m){var y=function(){for(var e=0;e<a.length;++e)for(var t in l)if(void 0!==a[e].nodes[t])return a[e]}();if(void 0!==y){for(var b in l)void 0===y.nodes[b]&&(y.nodes[b]=l[b]);for(var _ in h)void 0===y.edges[_]&&(y.edges[_]=h[_])}else a.push({nodes:l,edges:h})}}}},h=0;h<this.body.nodeIndices.length;h++)l(h);for(var d=0;d<a.length;d++)this._cluster(a[d].nodes,a[d].edges,t,!1);!0===i&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(1,e,t)}},{key:"clusterBridges",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(2,e,t)}},{key:"clusterByConnection",value:function(e,t){var n,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===e)throw new Error("No nodeId supplied to clusterByConnection!");if(void 0===this.body.nodes[e])throw new Error("The nodeId given to clusterByConnection does not exist!");var r=this.body.nodes[e];void 0===(t=this._checkOptions(t,r)).clusterNodeProperties.x&&(t.clusterNodeProperties.x=r.x),void 0===t.clusterNodeProperties.y&&(t.clusterNodeProperties.y=r.y),void 0===t.clusterNodeProperties.fixed&&(t.clusterNodeProperties.fixed={},t.clusterNodeProperties.fixed.x=r.options.fixed.x,t.clusterNodeProperties.fixed.y=r.options.fixed.y);var o={},s={},a=r.id,c=wq.cloneOptions(r);o[a]=r;for(var l=0;l<r.edges.length;l++){var h=r.edges[l];if(void 0===this.clusteredEdges[h.id]){var d=this._getConnectedId(h,a);if(void 0===this.clusteredNodes[d])if(d!==a)if(void 0===t.joinCondition)s[h.id]=h,o[d]=this.body.nodes[d];else{var u=wq.cloneOptions(this.body.nodes[d]);!0===t.joinCondition(c,u)&&(s[h.id]=h,o[d]=this.body.nodes[d])}else s[h.id]=h}}var p=VB(n=NB(o)).call(n,function(e){return o[e].id});for(var f in o)if(Object.prototype.hasOwnProperty.call(o,f))for(var m=o[f],g=0;g<m.edges.length;g++){var v=m.edges[g];cj(p).call(p,this._getConnectedId(v,m.id))>-1&&(s[v.id]=v)}this._cluster(o,s,t,i)}},{key:"_createClusterEdges",value:function(e,t,n,i){for(var r,o,s,a,c,l,h=NB(e),d=[],u=0;u<h.length;u++){s=e[o=h[u]];for(var p=0;p<s.edges.length;p++)void 0===this.clusteredEdges[(r=s.edges[p]).id]&&(r.toId==r.fromId?t[r.id]=r:r.toId==o?(a=n.id,l=c=r.fromId):(c=n.id,l=a=r.toId),void 0===e[l]&&d.push({edge:r,fromId:c,toId:a}))}for(var f=[],m=function(e){for(var t=0;t<f.length;t++){var n=f[t];if(e.fromId===n.fromId&&e.toId===n.toId||e.fromId===n.toId&&e.toId===n.fromId)return n}return null},g=0;g<d.length;g++){var v=d[g],y=v.edge,b=m(v);null===b?(b=this._createClusteredEdge(v.fromId,v.toId,y,i),f.push(b)):b.clusteringEdgeReplacingIds.push(y.id),this.body.edges[y.id].edgeReplacedById=b.id,this._backupEdgeOptions(y),y.setOptions({physics:!1})}}},{key:"_checkOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return void 0===e.clusterEdgeProperties&&(e.clusterEdgeProperties={}),void 0===e.clusterNodeProperties&&(e.clusterNodeProperties={}),e}},{key:"_cluster",value:function(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=[];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&void 0!==this.clusteredNodes[o]&&r.push(o);for(var s=0;s<r.length;++s)delete e[r[s]];if(0!=NB(e).length&&(1!=NB(e).length||1==n.clusterNodeProperties.allowSingleNodeCluster)){var a=zV({},n.clusterNodeProperties);if(void 0!==n.processProperties){var c=[];for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){var h=wq.cloneOptions(e[l]);c.push(h)}var d=[];for(var u in t)if(Object.prototype.hasOwnProperty.call(t,u)&&"clusterEdge:"!==u.substr(0,12)){var p=wq.cloneOptions(t[u],"edge");d.push(p)}if(!(a=n.processProperties(a,c,d)))throw new Error("The processProperties function does not return properties!")}void 0===a.id&&(a.id="cluster:"+_q());var f=a.id;void 0===a.label&&(a.label="cluster");var m=void 0;void 0===a.x&&(m=this._getClusterPosition(e),a.x=m.x),void 0===a.y&&(void 0===m&&(m=this._getClusterPosition(e)),a.y=m.y),a.id=f;var g=this.body.functions.createNode(a,Cq);g.containedNodes=e,g.containedEdges=t,g.clusterEdgeProperties=n.clusterEdgeProperties,this.body.nodes[a.id]=g,this._clusterEdges(e,t,a,n.clusterEdgeProperties),a.id=void 0,!0===i&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(e){void 0===this.clusteredEdges[e.id]&&(this.clusteredEdges[e.id]={physics:e.options.physics})}},{key:"_restoreEdge",value:function(e){var t=this.clusteredEdges[e.id];void 0!==t&&(e.setOptions({physics:t.physics}),delete this.clusteredEdges[e.id])}},{key:"isCluster",value:function(e){return void 0!==this.body.nodes[e]?!0===this.body.nodes[e].isCluster:(console.error("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(e){for(var t,n=NB(e),i=e[n[0]].x,r=e[n[0]].x,o=e[n[0]].y,s=e[n[0]].y,a=1;a<n.length;a++)i=(t=e[n[a]]).x<i?t.x:i,r=t.x>r?t.x:r,o=t.y<o?t.y:o,s=t.y>s?t.y:s;return{x:.5*(i+r),y:.5*(o+s)}}},{key:"openCluster",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===e)throw new Error("No clusterNodeId supplied to openCluster.");var i=this.body.nodes[e];if(void 0===i)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(!0!==i.isCluster||void 0===i.containedNodes||void 0===i.containedEdges)throw new Error("The node:"+e+" is not a valid cluster.");var r=this.findNode(e),o=cj(r).call(r,e)-1;if(o>=0){var s=r[o],a=this.body.nodes[s];return a._openChildCluster(e),delete this.body.nodes[e],void(!0===n&&this.body.emitter.emit("_dataChanged"))}var c=i.containedNodes,l=i.containedEdges;if(void 0!==t&&void 0!==t.releaseFunction&&"function"==typeof t.releaseFunction){var h={},d={x:i.x,y:i.y};for(var u in c)if(Object.prototype.hasOwnProperty.call(c,u)){var p=this.body.nodes[u];h[u]={x:p.x,y:p.y}}var f=t.releaseFunction(d,h);for(var m in c)if(Object.prototype.hasOwnProperty.call(c,m)){var g=this.body.nodes[m];void 0!==f[m]&&(g.x=void 0===f[m].x?i.x:f[m].x,g.y=void 0===f[m].y?i.y:f[m].y)}}else WV(c,function(e){!1===e.options.fixed.x&&(e.x=i.x),!1===e.options.fixed.y&&(e.y=i.y)});for(var v in c)if(Object.prototype.hasOwnProperty.call(c,v)){var y=this.body.nodes[v];y.vx=i.vx,y.vy=i.vy,y.setOptions({physics:!0}),delete this.clusteredNodes[v]}for(var b=[],_=0;_<i.edges.length;_++)b.push(i.edges[_]);for(var w=0;w<b.length;w++){for(var C=b[w],S=this._getConnectedId(C,e),k=this.clusteredNodes[S],x=0;x<C.clusteringEdgeReplacingIds.length;x++){var E=C.clusteringEdgeReplacingIds[x],O=this.body.edges[E];if(void 0!==O)if(void 0!==k){var T=this.body.nodes[k.clusterId];T.containedEdges[O.id]=O,delete l[O.id];var P=O.fromId,R=O.toId;O.toId==S?R=k.clusterId:P=k.clusterId,this._createClusteredEdge(P,R,O,T.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(O)}C.remove()}for(var I in l)Object.prototype.hasOwnProperty.call(l,I)&&this._restoreEdge(l[I]);delete this.body.nodes[e],!0===n&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(e){var t=[];if(!0===this.isCluster(e)){var n=this.body.nodes[e].containedNodes;for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.push(this.body.nodes[i].id)}return t}},{key:"findNode",value:function(e){for(var t,n=[],i=0;void 0!==this.clusteredNodes[e]&&i<100;){if(void 0===(t=this.body.nodes[e]))return[];n.push(t.id),e=this.clusteredNodes[e].clusterId,i++}return void 0===(t=this.body.nodes[e])?[]:(n.push(t.id),tB(n).call(n),n)}},{key:"updateClusteredNode",value:function(e,t){if(void 0===e)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(void 0===t)throw new Error("No newOptions supplied to updateClusteredNode.");if(void 0===this.body.nodes[e])throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[e].setOptions(t),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(e,t){if(void 0===e)throw new Error("No startEdgeId supplied to updateEdge.");if(void 0===t)throw new Error("No newOptions supplied to updateEdge.");if(void 0===this.body.edges[e])throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var n=this.getClusteredEdges(e),i=0;i<n.length;i++)this.body.edges[n[i]].setOptions(t);this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(e){for(var t=[],n=0;void 0!==e&&void 0!==this.body.edges[e]&&n<100;)t.push(this.body.edges[e].id),e=this.body.edges[e].edgeReplacedById,n++;return tB(t).call(t),t}},{key:"getBaseEdge",value:function(e){return this.getBaseEdges(e)[0]}},{key:"getBaseEdges",value:function(e){for(var t=[e],n=[],i=[],r=0;t.length>0&&r<100;){var o=t.pop();if(void 0!==o){var s=this.body.edges[o];if(void 0!==s){r++;var a=s.clusteringEdgeReplacingIds;if(void 0===a)i.push(o);else for(var c=0;c<a.length;++c){var l=a[c];-1===cj(t).call(t,a)&&-1===cj(n).call(n,a)&&t.push(l)}n.push(o)}}}return i}},{key:"_getConnectedId",value:function(e,t){return e.toId!=t?e.toId:e.fromId}},{key:"_getHubSize",value:function(){for(var e=0,t=0,n=0,i=0,r=0;r<this.body.nodeIndices.length;r++){var o=this.body.nodes[this.body.nodeIndices[r]];o.edges.length>i&&(i=o.edges.length),e+=o.edges.length,t+=Math.pow(o.edges.length,2),n+=1}e/=n;var s=(t/=n)-Math.pow(e,2),a=Math.sqrt(s),c=Math.floor(e+2*a);return c>i&&(c=i),c}},{key:"_createClusteredEdge",value:function(e,t,n,i,r){var o=wq.cloneOptions(n,"edge");zV(o,i),o.from=e,o.to=t,o.id="clusterEdge:"+_q(),void 0!==r&&zV(o,r);var s=this.body.functions.createEdge(o);return s.clusteringEdgeReplacingIds=[n.id],s.connect(),this.body.edges[s.id]=s,s}},{key:"_clusterEdges",value:function(e,t,n,i){if(t instanceof iq){var r={};r[t.id]=t,t=r}if(e instanceof _W){var o={};o[e.id]=e,e=o}if(null==n)throw new Error("_clusterEdges: parameter clusterNode required");for(var s in void 0===i&&(i=n.clusterEdgeProperties),this._createClusterEdges(e,t,n,i),t)if(Object.prototype.hasOwnProperty.call(t,s)&&void 0!==this.body.edges[s]){var a=this.body.edges[s];this._backupEdgeOptions(a),a.setOptions({physics:!1})}for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&(this.clusteredNodes[c]={clusterId:n.id,node:this.body.nodes[c]},this.body.nodes[c].setOptions({physics:!1}))}},{key:"_getClusterNodeForNode",value:function(e){if(void 0!==e){var t=this.clusteredNodes[e];if(void 0!==t){var n=t.clusterId;if(void 0!==n)return this.body.nodes[n]}}}},{key:"_filter",value:function(e,t){var n=[];return WV(e,function(e){t(e)&&n.push(e)}),n}},{key:"_updateState",value:function(){var e,t=this,n=[],i={},r=function(e){WV(t.body.nodes,function(t){!0===t.isCluster&&e(t)})};for(e in this.clusteredNodes)Object.prototype.hasOwnProperty.call(this.clusteredNodes,e)&&void 0===this.body.nodes[e]&&n.push(e);r(function(e){for(var t=0;t<n.length;t++)delete e.containedNodes[n[t]]});for(var o=0;o<n.length;o++)delete this.clusteredNodes[n[o]];WV(this.clusteredEdges,function(e){var n=t.body.edges[e];void 0!==n&&n.endPointsValid()||(i[e]=e)}),r(function(e){WV(e.containedEdges,function(e,t){e.endPointsValid()||i[t]||(i[t]=t)})}),WV(this.body.edges,function(e,n){var r=!0,o=e.clusteringEdgeReplacingIds;if(void 0!==o){var s=0;WV(o,function(e){var n=t.body.edges[e];void 0!==n&&n.endPointsValid()&&(s+=1)}),r=s>0}e.endPointsValid()&&r||(i[n]=n)}),r(function(e){WV(i,function(n){delete e.containedEdges[n],WV(e.edges,function(r,o){r.id!==n?r.clusteringEdgeReplacingIds=t._filter(r.clusteringEdgeReplacingIds,function(e){return!i[e]}):e.edges[o]=null}),e.edges=t._filter(e.edges,function(e){return null!==e})})}),WV(i,function(e){delete t.clusteredEdges[e]}),WV(i,function(e){delete t.body.edges[e]}),WV(NB(this.body.edges),function(e){var n=t.body.edges[e],i=t._isClusteredNode(n.fromId)||t._isClusteredNode(n.toId);if(i!==t._isClusteredEdge(n.id))if(i){var r=t._getClusterNodeForNode(n.fromId);void 0!==r&&t._clusterEdges(t.body.nodes[n.fromId],n,r);var o=t._getClusterNodeForNode(n.toId);void 0!==o&&t._clusterEdges(t.body.nodes[n.toId],n,o)}else delete t._clusterEdges[e],t._restoreEdge(n)});for(var s=!1,a=!0,c=function(){var e=[];r(function(t){var n=NB(t.containedNodes).length,i=!0===t.options.allowSingleNodeCluster;(i&&n<1||!i&&n<2)&&e.push(t.id)});for(var n=0;n<e.length;++n)t.openCluster(e[n],{},!1);a=e.length>0,s=s||a};a;)c();s&&this._updateState()}},{key:"_isClusteredNode",value:function(e){return void 0!==this.clusteredNodes[e]}},{key:"_isClusteredEdge",value:function(e){return void 0!==this.clusteredEdges[e]}}]),e}();function kq(e,t){var n;if(void 0===KB||null==lL(e)){if(HB(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return xq(e,void 0);var i=qB(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?wL(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?xq(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=cL(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function xq(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Eq=function(){function e(t,n){var i;LL(this,e),void 0!==window&&(i=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),window.requestAnimationFrame=void 0===i?function(e){e()}:i,this.body=t,this.canvas=n,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},AM(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return zL(e,[{key:"bindEventListeners",value:function(){var e,t=this;this.body.emitter.on("dragStart",function(){t.dragging=!0}),this.body.emitter.on("dragEnd",function(){t.dragging=!1}),this.body.emitter.on("zoom",function(){t.zooming=!0,window.clearTimeout(t.zoomTimeoutId),t.zoomTimeoutId=window.setTimeout(function(){var e;t.zooming=!1,dM(e=t._requestRedraw).call(e,t)()},250)}),this.body.emitter.on("_resizeNodes",function(){t._resizeNodes()}),this.body.emitter.on("_redraw",function(){!1===t.renderingActive&&t._redraw()}),this.body.emitter.on("_blockRedraw",function(){t.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",function(){t.allowRedraw=!0,t.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",dM(e=this._requestRedraw).call(e,this)),this.body.emitter.on("_startRendering",function(){t.renderRequests+=1,t.renderingActive=!0,t._startRendering()}),this.body.emitter.on("_stopRendering",function(){t.renderRequests-=1,t.renderingActive=t.renderRequests>0,t.renderTimer=void 0}),this.body.emitter.on("destroy",function(){t.renderRequests=0,t.allowRedraw=!1,t.renderingActive=!1,!0===t.requiresTimeout?clearTimeout(t.renderTimer):window.cancelAnimationFrame(t.renderTimer),t.body.emitter.off()})}},{key:"setOptions",value:function(e){void 0!==e&&jV(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,e)}},{key:"_requestNextFrame",value:function(e,t){if("undefined"!=typeof window){var n,i=window;return!0===this.requiresTimeout?n=i.setTimeout(e,t):i.requestAnimationFrame&&(n=i.requestAnimationFrame(e)),n}}},{key:"_startRendering",value:function(){var e;!0===this.renderingActive&&void 0===this.renderTimer&&(this.renderTimer=this._requestNextFrame(dM(e=this._renderStep).call(e,this),this.simulationInterval))}},{key:"_renderStep",value:function(){!0===this.renderingActive&&(this.renderTimer=void 0,!0===this.requiresTimeout&&this._startRendering(),this._redraw(),!1===this.requiresTimeout&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var e=this;!0!==this.redrawRequested&&!1===this.renderingActive&&!0===this.allowRedraw&&(this.redrawRequested=!0,this._requestNextFrame(function(){e._redraw(!1)},0))}},{key:"_redraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!0===this.allowRedraw){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;var t={drawExternalLabels:null};0!==this.canvas.frame.canvas.width&&0!==this.canvas.frame.canvas.height||this.canvas.setSize(),this.canvas.setTransform();var n=this.canvas.getContext(),i=this.canvas.frame.canvas.clientWidth,r=this.canvas.frame.canvas.clientHeight;if(n.clearRect(0,0,i,r),0===this.canvas.frame.clientWidth)return;if(n.save(),n.translate(this.body.view.translation.x,this.body.view.translation.y),n.scale(this.body.view.scale,this.body.view.scale),n.beginPath(),this.body.emitter.emit("beforeDrawing",n),n.closePath(),!1===e&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&(!1===this.zooming||!0===this.zooming&&!1===this.options.hideEdgesOnZoom)&&this._drawEdges(n),!1===this.dragging||!0===this.dragging&&!1===this.options.hideNodesOnDrag){var o=this._drawNodes(n,e),s=o.drawExternalLabels;t.drawExternalLabels=s}!1===e&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&(!1===this.zooming||!0===this.zooming&&!1===this.options.hideEdgesOnZoom)&&this._drawArrows(n),null!=t.drawExternalLabels&&t.drawExternalLabels(),!1===e&&this._drawSelectionBox(n),n.beginPath(),this.body.emitter.emit("afterDrawing",n),n.closePath(),n.restore(),!0===e&&n.clearRect(0,0,i,r)}}},{key:"_resizeNodes",value:function(){this.canvas.setTransform();var e=this.canvas.getContext();e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);var t,n=this.body.nodes;for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&((t=n[i]).resize(e),t.updateBoundingBox(e,t.selected));e.restore()}},{key:"_drawNodes",value:function(e){for(var t,n,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.body.nodes,o=this.body.nodeIndices,s=[],a=[],c=20,l=this.canvas.DOMtoCanvas({x:-c,y:-c}),h=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+c,y:this.canvas.frame.canvas.clientHeight+c}),d={top:l.y,left:l.x,bottom:h.y,right:h.x},u=[],p=0;p<o.length;p++)if((t=r[o[p]]).hover)a.push(o[p]);else if(t.isSelected())s.push(o[p]);else if(!0===i){var f=t.draw(e);null!=f.drawExternalLabel&&u.push(f.drawExternalLabel)}else if(!0===t.isBoundingBoxOverlappingWith(d)){var m=t.draw(e);null!=m.drawExternalLabel&&u.push(m.drawExternalLabel)}else t.updateBoundingBox(e,t.selected);var g=s.length,v=a.length;for(n=0;n<g;n++){var y=(t=r[s[n]]).draw(e);null!=y.drawExternalLabel&&u.push(y.drawExternalLabel)}for(n=0;n<v;n++){var b=(t=r[a[n]]).draw(e);null!=b.drawExternalLabel&&u.push(b.drawExternalLabel)}return{drawExternalLabels:function(){var e,t=kq(u);try{for(t.s();!(e=t.n()).done;)(0,e.value)()}catch(n){t.e(n)}finally{t.f()}}}}},{key:"_drawEdges",value:function(e){for(var t=this.body.edges,n=this.body.edgeIndices,i=0;i<n.length;i++){var r=t[n[i]];!0===r.connected&&r.draw(e)}}},{key:"_drawArrows",value:function(e){for(var t=this.body.edges,n=this.body.edgeIndices,i=0;i<n.length;i++){var r=t[n[i]];!0===r.connected&&r.drawArrows(e)}}},{key:"_determineBrowserMethod",value:function(){if("undefined"!=typeof window){var e=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,(-1!=cj(e).call(e,"msie 9.0")||-1!=cj(e).call(e,"safari")&&cj(e).call(e,"chrome")<=-1)&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}},{key:"_drawSelectionBox",value:function(e){if(this.body.selectionBox.show){e.beginPath();var t=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,n=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;e.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,t,n),e.fillStyle="rgba(151, 194, 252, 0.2)",e.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,t,n),e.strokeStyle="rgba(151, 194, 252, 1)",e.stroke()}else e.closePath()}}]),e}(),Oq=YD.setInterval;function Tq(e,t){t.inputHandler=function(e){e.isFirst&&t(e)},e.on("hammer.input",t.inputHandler)}function Pq(e,t){return t.inputHandler=function(e){e.isFinal&&t(e)},e.on("hammer.input",t.inputHandler)}var Rq=function(){function e(t){LL(this,e),this.body=t,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},AM(this.options,this.defaultOptions),this.bindEventListeners()}return zL(e,[{key:"bindEventListeners",value:function(){var e,t=this;this.body.emitter.once("resize",function(e){0!==e.width&&(t.body.view.translation.x=.5*e.width),0!==e.height&&(t.body.view.translation.y=.5*e.height)}),this.body.emitter.on("setSize",dM(e=this.setSize).call(e,this)),this.body.emitter.on("destroy",function(){t.hammerFrame.destroy(),t.hammer.destroy(),t._cleanUp()})}},{key:"setOptions",value:function(e){var t,n,i,r,o,s=this;if(void 0!==e&&jV(["width","height","autoResize"],this.options,e),this._cleanUp(),!0===this.options.autoResize){var a;if(window.ResizeObserver){var c=new ResizeObserver(function(){!0===s.setSize()&&s.body.emitter.emit("_requestRedraw")}),l=this.frame;c.observe(l),this._cleanupCallbacks.push(function(){c.unobserve(l)})}else{var h=Oq(function(){!0===s.setSize()&&s.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(function(){clearInterval(h)})}var d=dM(a=this._onResize).call(a,this);t=window,n="resize",i=d,t.addEventListener?(void 0===r&&(r=!1),"mousewheel"===n&&Uj(o=navigator.userAgent).call(o,"Firefox")&&(n="DOMMouseScroll"),t.addEventListener(n,i,r)):t.attachEvent("on"+n,i),this._cleanupCallbacks.push(function(){!function(e,t,n,i){var r;e.removeEventListener?(void 0===i&&(i=!1),"mousewheel"===t&&Uj(r=navigator.userAgent).call(r,"Firefox")&&(t="DOMMouseScroll"),e.removeEventListener(t,n,i)):e.detachEvent("on"+t,n)}(window,"resize",d)})}}},{key:"_cleanUp",value:function(){var e,t,n;lB(e=tB(t=Kj(n=this._cleanupCallbacks).call(n,0)).call(t)).call(e,function(e){try{e()}catch(aK){console.error(aK)}})}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pixelRatio;!0===this.initialized&&(this.cameraState.previousWidth=this.frame.canvas.width/e,this.cameraState.previousHeight=this.frame.canvas.height/e,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e}))}},{key:"_setCameraState",value:function(){if(void 0!==this.cameraState.scale&&0!==this.frame.canvas.clientWidth&&0!==this.frame.canvas.clientHeight&&0!==this.pixelRatio&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){var e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,t=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,n=this.cameraState.scale;1!=e&&1!=t?n=.5*this.cameraState.scale*(e+t):1!=e?n=this.cameraState.scale*e:1!=t&&(n=this.cameraState.scale*t),this.body.view.scale=n;var i=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),r={x:i.x-this.cameraState.position.x,y:i.y-this.cameraState.position.y};this.body.view.translation.x+=r.x*this.body.view.scale,this.body.view.translation.y+=r.y*this.body.view.scale}}},{key:"_prepareValue",value:function(e){if("number"==typeof e)return e+"px";if("string"==typeof e){if(-1!==cj(e).call(e,"%")||-1!==cj(e).call(e,"px"))return e;if(-1===cj(e).call(e,"%"))return e+"px"}throw new Error("Could not use the value supplied for width or height:"+e)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{var e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var e=this;void 0!==this.hammer&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new uH(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:uH.DIRECTION_ALL}),Tq(this.hammer,function(t){e.body.eventListeners.onTouch(t)}),this.hammer.on("tap",function(t){e.body.eventListeners.onTap(t)}),this.hammer.on("doubletap",function(t){e.body.eventListeners.onDoubleTap(t)}),this.hammer.on("press",function(t){e.body.eventListeners.onHold(t)}),this.hammer.on("panstart",function(t){e.body.eventListeners.onDragStart(t)}),this.hammer.on("panmove",function(t){e.body.eventListeners.onDrag(t)}),this.hammer.on("panend",function(t){e.body.eventListeners.onDragEnd(t)}),this.hammer.on("pinch",function(t){e.body.eventListeners.onPinch(t)}),this.frame.canvas.addEventListener("wheel",function(t){e.body.eventListeners.onMouseWheel(t)}),this.frame.canvas.addEventListener("mousemove",function(t){e.body.eventListeners.onMouseMove(t)}),this.frame.canvas.addEventListener("contextmenu",function(t){e.body.eventListeners.onContext(t)}),this.hammerFrame=new uH(this.frame),Pq(this.hammerFrame,function(t){e.body.eventListeners.onRelease(t)})}},{key:"setSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.width,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.height;e=this._prepareValue(e),t=this._prepareValue(t);var n=!1,i=this.frame.canvas.width,r=this.frame.canvas.height,o=this.pixelRatio;if(this._setPixelRatio(),e!=this.options.width||t!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=t)this._getCameraState(o),this.frame.style.width=e,this.frame.style.height=t,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=e,this.options.height=t,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},n=!0;else{var s=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),a=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);this.frame.canvas.width===s&&this.frame.canvas.height===a||this._getCameraState(o),this.frame.canvas.width!==s&&(this.frame.canvas.width=s,n=!0),this.frame.canvas.height!==a&&(this.frame.canvas.height=a,n=!0)}return!0===n&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(i/this.pixelRatio),oldHeight:Math.round(r/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,n}},{key:"getContext",value:function(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function(){var e=this.getContext();if(void 0===e)throw new Error("Could not get canvax context");var t=1;return"undefined"!=typeof window&&(t=window.devicePixelRatio||1),t/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)}},{key:"_setPixelRatio",value:function(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function(){var e=this.getContext();if(void 0===e)throw new Error("Could not get canvax context");e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function(e){return(e-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(e){return e*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(e){return(e-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(e){return e*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}},{key:"DOMtoCanvas",value:function(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}]),e}();function Iq(e,t){var n=AM({nodes:t,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},null!=e?e:{});if(!HB(n.nodes))throw new TypeError("Nodes has to be an array of ids.");if(0===n.nodes.length&&(n.nodes=t),!("number"==typeof n.minZoomLevel&&n.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!("number"==typeof n.maxZoomLevel&&n.minZoomLevel<=n.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return n}var Aq=function(){function e(t,n){var i,r,o=this;LL(this,e),this.body=t,this.canvas=n,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",dM(i=this.fit).call(i,this)),this.body.emitter.on("animationFinished",function(){o.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",dM(r=this.releaseNode).call(r,this))}return zL(e,[{key:"setOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=e}},{key:"fit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e=Iq(e,this.body.nodeIndices);var n,i,r=this.canvas.frame.canvas.clientWidth,o=this.canvas.frame.canvas.clientHeight;if(0===r||0===o)i=1,n=wq.getRange(this.body.nodes,e.nodes);else if(!0===t){var s=0;for(var a in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,a)){var c=this.body.nodes[a];!0===c.predefinedPosition&&(s+=1)}if(s>.5*this.body.nodeIndices.length)return void this.fit(e,!1);n=wq.getRange(this.body.nodes,e.nodes);var l=this.body.nodeIndices.length;i=12.662/(l+7.4147)+.0964822;var h=Math.min(r/600,o/600);i*=h}else{this.body.emitter.emit("_resizeNodes"),n=wq.getRange(this.body.nodes,e.nodes);var d=1.1*Math.abs(n.maxX-n.minX),u=1.1*Math.abs(n.maxY-n.minY),p=r/d,f=o/u;i=p<=f?p:f}i>e.maxZoomLevel?i=e.maxZoomLevel:i<e.minZoomLevel&&(i=e.minZoomLevel);var m=wq.findCenter(n),g={position:m,scale:i,animation:e.animation};this.moveTo(g)}},{key:"focus",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==this.body.nodes[e]){var n={x:this.body.nodes[e].x,y:this.body.nodes[e].y};t.position=n,t.lockedOnNode=e,this.moveTo(t)}else console.error("Node: "+e+" cannot be found.")}},{key:"moveTo",value:function(e){if(void 0!==e){if(null!=e.offset){if(null!=e.offset.x){if(e.offset.x=+e.offset.x,!gU(e.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else e.offset.x=0;if(null!=e.offset.y){if(e.offset.y=+e.offset.y,!gU(e.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else e.offset.x=0}else e.offset={x:0,y:0};if(null!=e.position){if(null!=e.position.x){if(e.position.x=+e.position.x,!gU(e.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else e.position.x=0;if(null!=e.position.y){if(e.position.y=+e.position.y,!gU(e.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else e.position.x=0}else e.position=this.getViewPosition();if(null!=e.scale){if(e.scale=+e.scale,!(e.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else e.scale=this.body.view.scale;void 0===e.animation&&(e.animation={duration:0}),!1===e.animation&&(e.animation={duration:0}),!0===e.animation&&(e.animation={}),void 0===e.animation.duration&&(e.animation.duration=1e3),void 0===e.animation.easingFunction&&(e.animation.easingFunction="easeInOutQuad"),this.animateView(e)}else e={}}},{key:"animateView",value:function(e){if(void 0!==e){this.animationEasingFunction=e.animation.easingFunction,this.releaseNode(),!0===e.locked&&(this.lockedOnNodeId=e.lockedOnNode,this.lockedOnNodeOffset=e.offset),0!=this.easingTime&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=e.scale,this.body.view.scale=this.targetScale;var t,n,i=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight});this.targetTranslation={x:this.sourceTranslation.x+(i.x-e.position.x)*this.targetScale+e.offset.x,y:this.sourceTranslation.y+(i.y-e.position.y)*this.targetScale+e.offset.y},0===e.animation.duration?null!=this.lockedOnNodeId?(this.viewFunction=dM(t=this._lockedRedraw).call(t,this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.animationSpeed=1/(60*e.animation.duration*.001)||1/60,this.animationEasingFunction=e.animation.easingFunction,this.viewFunction=dM(n=this._transitionRedraw).call(n,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}}},{key:"_lockedRedraw",value:function(){var e=this.body.nodes[this.lockedOnNodeId].x,t=this.body.nodes[this.lockedOnNodeId].y,n=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),i=this.body.view.translation;this.body.view.translation={x:i.x+(n.x-e)*this.body.view.scale+this.lockedOnNodeOffset.x,y:i.y+(n.y-t)*this.body.view.scale+this.lockedOnNodeOffset.y}}},{key:"releaseNode",value:function(){void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.easingTime+=this.animationSpeed,this.easingTime=!0===e?1:this.easingTime;var t,n=iH[this.animationEasingFunction](this.easingTime);this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*n,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*n,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*n},this.easingTime>=1&&(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,null!=this.lockedOnNodeId&&(this.viewFunction=dM(t=this._lockedRedraw).call(t,this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished"))}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),e}(),Dq=function(){function e(t,n){var i=this;LL(this,e),this.body=t,this.canvas=n,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",function(){i.activated=!0,i.configureKeyboardBindings()}),this.body.emitter.on("deactivate",function(){i.activated=!1,i.configureKeyboardBindings()}),this.body.emitter.on("destroy",function(){void 0!==i.keycharm&&i.keycharm.destroy()}),this.options={}}return zL(e,[{key:"setOptions",value:function(e){void 0!==e&&(this.options=e,this.create())}},{key:"create",value:function(){!0===this.options.navigationButtons?!1===this.iconsCreated&&this.loadNavigationElements():!0===this.iconsCreated&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(0!=this.navigationHammers.length){for(var e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var e=this;this.cleanNavigation(),this.navigationDOM={};var t=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],n=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var i=0;i<t.length;i++){this.navigationDOM[t[i]]=document.createElement("div"),this.navigationDOM[t[i]].className="vis-button vis-"+t[i],this.navigationDOM.wrapper.appendChild(this.navigationDOM[t[i]]);var r,o,s=new uH(this.navigationDOM[t[i]]);Tq(s,"_fit"===n[i]?dM(r=this._fit).call(r,this):dM(o=this.bindToRedraw).call(o,this,n[i])),this.navigationHammers.push(s)}var a=new uH(this.canvas.frame);Pq(a,function(){e._stopMovement()}),this.navigationHammers.push(a),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(e){var t;void 0===this.boundFunctions[e]&&(this.boundFunctions[e]=dM(t=this[e]).call(t,this),this.body.emitter.on("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(e){void 0!==this.boundFunctions[e]&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[e])}},{key:"_fit",value:function(){(new Date).valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=(new Date).valueOf())}},{key:"_stopMovement",value:function(){for(var e in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,e)&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var e=this.body.view.scale*(1+this.options.keyboard.speed.zoom),t=this.body.view.translation,n=e/this.body.view.scale,i=(1-n)*this.canvas.canvasViewCenter.x+t.x*n,r=(1-n)*this.canvas.canvasViewCenter.y+t.y*n;this.body.view.scale=e,this.body.view.translation={x:i,y:r},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var e=this.body.view.scale/(1+this.options.keyboard.speed.zoom),t=this.body.view.translation,n=e/this.body.view.scale,i=(1-n)*this.canvas.canvasViewCenter.x+t.x*n,r=(1-n)*this.canvas.canvasViewCenter.y+t.y*n;this.body.view.scale=e,this.body.view.translation={x:i,y:r},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var e,t,n,i,r,o,s,a,c,l,h,d,u,p,f,m,g,v,y,b,_,w,C,S,k=this;void 0!==this.keycharm&&this.keycharm.destroy(),!0===this.options.keyboard.enabled&&(this.keycharm=function(e){var t,n=e&&e.preventDefault||!1,i=e&&e.container||window,r={},o={keydown:{},keyup:{}},s={};for(t=97;t<=122;t++)s[String.fromCharCode(t)]={code:t-97+65,shift:!1};for(t=65;t<=90;t++)s[String.fromCharCode(t)]={code:t,shift:!0};for(t=0;t<=9;t++)s[""+t]={code:48+t,shift:!1};for(t=1;t<=12;t++)s["F"+t]={code:111+t,shift:!1};for(t=0;t<=9;t++)s["num"+t]={code:96+t,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var a=function(e){l(e,"keydown")},c=function(e){l(e,"keyup")},l=function(e,t){if(void 0!==o[t][e.keyCode]){for(var i=o[t][e.keyCode],r=0;r<i.length;r++)(void 0===i[r].shift||1==i[r].shift&&1==e.shiftKey||0==i[r].shift&&0==e.shiftKey)&&i[r].fn(e);1==n&&e.preventDefault()}};return r.bind=function(e,t,n){if(void 0===n&&(n="keydown"),void 0===s[e])throw new Error("unsupported key: "+e);void 0===o[n][s[e].code]&&(o[n][s[e].code]=[]),o[n][s[e].code].push({fn:t,shift:s[e].shift})},r.bindAll=function(e,t){for(var n in void 0===t&&(t="keydown"),s)s.hasOwnProperty(n)&&r.bind(n,e,t)},r.getKey=function(e){for(var t in s)if(s.hasOwnProperty(t)){if(1==e.shiftKey&&1==s[t].shift&&e.keyCode==s[t].code)return t;if(0==e.shiftKey&&0==s[t].shift&&e.keyCode==s[t].code)return t;if(e.keyCode==s[t].code&&"shift"==t)return t}return"unknown key, currently not supported"},r.unbind=function(e,t,n){if(void 0===n&&(n="keydown"),void 0===s[e])throw new Error("unsupported key: "+e);if(void 0!==t){var i=[],r=o[n][s[e].code];if(void 0!==r)for(var a=0;a<r.length;a++)r[a].fn==t&&r[a].shift==s[e].shift||i.push(o[n][s[e].code][a]);o[n][s[e].code]=i}else o[n][s[e].code]=[]},r.reset=function(){o={keydown:{},keyup:{}}},r.destroy=function(){o={keydown:{},keyup:{}},i.removeEventListener("keydown",a,!0),i.removeEventListener("keyup",c,!0)},i.addEventListener("keydown",a,!0),i.addEventListener("keyup",c,!0),r}(!0===this.options.keyboard.bindToWindow?{container:window,preventDefault:!0}:{container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),!0===this.activated&&(dM(e=this.keycharm).call(e,"up",function(){k.bindToRedraw("_moveUp")},"keydown"),dM(t=this.keycharm).call(t,"down",function(){k.bindToRedraw("_moveDown")},"keydown"),dM(n=this.keycharm).call(n,"left",function(){k.bindToRedraw("_moveLeft")},"keydown"),dM(i=this.keycharm).call(i,"right",function(){k.bindToRedraw("_moveRight")},"keydown"),dM(r=this.keycharm).call(r,"=",function(){k.bindToRedraw("_zoomIn")},"keydown"),dM(o=this.keycharm).call(o,"num+",function(){k.bindToRedraw("_zoomIn")},"keydown"),dM(s=this.keycharm).call(s,"num-",function(){k.bindToRedraw("_zoomOut")},"keydown"),dM(a=this.keycharm).call(a,"-",function(){k.bindToRedraw("_zoomOut")},"keydown"),dM(c=this.keycharm).call(c,"[",function(){k.bindToRedraw("_zoomOut")},"keydown"),dM(l=this.keycharm).call(l,"]",function(){k.bindToRedraw("_zoomIn")},"keydown"),dM(h=this.keycharm).call(h,"pageup",function(){k.bindToRedraw("_zoomIn")},"keydown"),dM(d=this.keycharm).call(d,"pagedown",function(){k.bindToRedraw("_zoomOut")},"keydown"),dM(u=this.keycharm).call(u,"up",function(){k.unbindFromRedraw("_moveUp")},"keyup"),dM(p=this.keycharm).call(p,"down",function(){k.unbindFromRedraw("_moveDown")},"keyup"),dM(f=this.keycharm).call(f,"left",function(){k.unbindFromRedraw("_moveLeft")},"keyup"),dM(m=this.keycharm).call(m,"right",function(){k.unbindFromRedraw("_moveRight")},"keyup"),dM(g=this.keycharm).call(g,"=",function(){k.unbindFromRedraw("_zoomIn")},"keyup"),dM(v=this.keycharm).call(v,"num+",function(){k.unbindFromRedraw("_zoomIn")},"keyup"),dM(y=this.keycharm).call(y,"num-",function(){k.unbindFromRedraw("_zoomOut")},"keyup"),dM(b=this.keycharm).call(b,"-",function(){k.unbindFromRedraw("_zoomOut")},"keyup"),dM(_=this.keycharm).call(_,"[",function(){k.unbindFromRedraw("_zoomOut")},"keyup"),dM(w=this.keycharm).call(w,"]",function(){k.unbindFromRedraw("_zoomIn")},"keyup"),dM(C=this.keycharm).call(C,"pageup",function(){k.unbindFromRedraw("_zoomIn")},"keyup"),dM(S=this.keycharm).call(S,"pagedown",function(){k.unbindFromRedraw("_zoomOut")},"keyup")))}}]),e}();function Mq(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Nq=function(){function e(t,n,i){var r,o,s,a,c,l,h,d,u,p,f,m,g;LL(this,e),this.body=t,this.canvas=n,this.selectionHandler=i,this.navigationHandler=new Dq(t,n),this.body.eventListeners.onTap=dM(r=this.onTap).call(r,this),this.body.eventListeners.onTouch=dM(o=this.onTouch).call(o,this),this.body.eventListeners.onDoubleTap=dM(s=this.onDoubleTap).call(s,this),this.body.eventListeners.onHold=dM(a=this.onHold).call(a,this),this.body.eventListeners.onDragStart=dM(c=this.onDragStart).call(c,this),this.body.eventListeners.onDrag=dM(l=this.onDrag).call(l,this),this.body.eventListeners.onDragEnd=dM(h=this.onDragEnd).call(h,this),this.body.eventListeners.onMouseWheel=dM(d=this.onMouseWheel).call(d,this),this.body.eventListeners.onPinch=dM(u=this.onPinch).call(u,this),this.body.eventListeners.onMouseMove=dM(p=this.onMouseMove).call(p,this),this.body.eventListeners.onRelease=dM(f=this.onRelease).call(f,this),this.body.eventListeners.onContext=dM(m=this.onContext).call(m,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=dM(g=this.getPointer).call(g,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},AM(this.options,this.defaultOptions),this.bindEventListeners()}return zL(e,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("destroy",function(){clearTimeout(e.popupTimer),delete e.body.functions.getPointer})}},{key:"setOptions",value:function(e){void 0!==e&&(BV(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,e),nH(this.options,e,"keyboard"),e.tooltip&&(AM(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=YV(e.tooltip.color)))),this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(e){return{x:e.x-(t=this.canvas.frame.canvas,t.getBoundingClientRect().left),y:e.y-UV(this.canvas.frame.canvas)};var t}},{key:"onTouch",value:function(e){(new Date).valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=(new Date).valueOf())}},{key:"onTap",value:function(e){var t=this.getPointer(e.center);this.checkSelectionChanges(t,this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey)),this.selectionHandler.commitAndEmit(t,e),this.selectionHandler.generateClickEvent("click",e,t)}},{key:"onDoubleTap",value:function(e){var t=this.getPointer(e.center);this.selectionHandler.generateClickEvent("doubleClick",e,t)}},{key:"onHold",value:function(e){var t=this.getPointer(e.center);this.checkSelectionChanges(t,this.selectionHandler.options.multiselect),this.selectionHandler.commitAndEmit(t,e),this.selectionHandler.generateClickEvent("click",e,t),this.selectionHandler.generateClickEvent("hold",e,t)}},{key:"onRelease",value:function(e){if((new Date).valueOf()-this.touchTime>10){var t=this.getPointer(e.center);this.selectionHandler.generateClickEvent("release",e,t),this.touchTime=(new Date).valueOf()}}},{key:"onContext",value:function(e){var t=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler.generateClickEvent("oncontext",e,t)}},{key:"checkSelectionChanges",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!0===t?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e)}},{key:"_determineDifference",value:function(e,t){var n=function(e,t){for(var n=[],i=0;i<e.length;i++){var r=e[i];-1===cj(t).call(t,r)&&n.push(r)}return n};return{nodes:n(e.nodes,t.nodes),edges:n(e.edges,t.edges)}}},{key:"onDragStart",value:function(e){if(!this.drag.dragging){void 0===this.drag.pointer&&this.onTouch(e);var t=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=AM({},this.body.view.translation),this.drag.nodeId=void 0,e.srcEvent.shiftKey){this.body.selectionBox.show=!0;var n=this.getPointer(e.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)}}if(void 0!==t&&!0===this.options.dragNodes){this.drag.nodeId=t.id,!1===t.isSelected()&&(this.selectionHandler.unselectAll(),this.selectionHandler.selectObject(t)),this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer);var i,r=function(e,t){var n;if(void 0===KB||null==lL(e)){if(HB(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return Mq(e,void 0);var i=qB(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?wL(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Mq(e,void 0):void 0}}(e))){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=cL(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}(this.selectionHandler.getSelectedNodes());try{for(r.s();!(i=r.n()).done;){var o=i.value,s={id:o.id,node:o,x:o.x,y:o.y,xFixed:o.options.fixed.x,yFixed:o.options.fixed.y};o.options.fixed.x=!0,o.options.fixed.y=!0,this.drag.selection.push(s)}}catch(a){r.e(a)}finally{r.f()}}else this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}}},{key:"onDrag",value:function(e){var t=this;if(!0!==this.drag.pinched){this.body.emitter.emit("unlockNode");var n=this.getPointer(e.center),i=this.drag.selection;if(i&&i.length&&!0===this.options.dragNodes){this.selectionHandler.generateClickEvent("dragging",e,n);var r=n.x-this.drag.pointer.x,o=n.y-this.drag.pointer.y;lB(i).call(i,function(e){var n=e.node;!1===e.xFixed&&(n.x=t.canvas._XconvertDOMtoCanvas(t.canvas._XconvertCanvasToDOM(e.x)+r)),!1===e.yFixed&&(n.y=t.canvas._YconvertDOMtoCanvas(t.canvas._YconvertCanvasToDOM(e.y)+o))}),this.body.emitter.emit("startSimulation")}else{if(e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,n,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(e);this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)},this.body.emitter.emit("_requestRedraw")}if(!0===this.options.dragView&&!e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,n,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(e);this.body.view.translation={x:this.drag.translation.x+(n.x-this.drag.pointer.x),y:this.drag.translation.y+(n.y-this.drag.pointer.y)},this.body.emitter.emit("_requestRedraw")}}}}},{key:"onDragEnd",value:function(e){var t=this;if(this.drag.dragging=!1,this.body.selectionBox.show){var n;this.body.selectionBox.show=!1;var i=this.body.selectionBox.position,r={minX:Math.min(i.start.x,i.end.x),minY:Math.min(i.start.y,i.end.y),maxX:Math.max(i.start.x,i.end.x),maxY:Math.max(i.start.y,i.end.y)},o=Rj(n=this.body.nodeIndices).call(n,function(e){var n=t.body.nodes[e];return n.x>=r.minX&&n.x<=r.maxX&&n.y>=r.minY&&n.y<=r.maxY});lB(o).call(o,function(e){return t.selectionHandler.selectObject(t.body.nodes[e])});var s=this.getPointer(e.center);this.selectionHandler.commitAndEmit(s,e),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{var a=this.drag.selection;a&&a.length?(lB(a).call(a,function(e){e.node.options.fixed.x=e.xFixed,e.node.options.fixed.y=e.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}},{key:"onPinch",value:function(e){var t=this.getPointer(e.center);this.drag.pinched=!0,void 0===this.pinch.scale&&(this.pinch.scale=1),this.zoom(this.pinch.scale*e.scale,t)}},{key:"zoom",value:function(e,t){if(!0===this.options.zoomView){var n=this.body.view.scale;e<1e-5&&(e=1e-5),e>10&&(e=10);var i=void 0;void 0!==this.drag&&!0===this.drag.dragging&&(i=this.canvas.DOMtoCanvas(this.drag.pointer));var r=this.body.view.translation,o=e/n,s=(1-o)*t.x+r.x*o,a=(1-o)*t.y+r.y*o;if(this.body.view.scale=e,this.body.view.translation={x:s,y:a},null!=i){var c=this.canvas.canvasToDOM(i);this.drag.pointer.x=c.x,this.drag.pointer.y=c.y}this.body.emitter.emit("_requestRedraw"),this.body.emitter.emit("zoom",n<e?{direction:"+",scale:this.body.view.scale,pointer:t}:{direction:"-",scale:this.body.view.scale,pointer:t})}}},{key:"onMouseWheel",value:function(e){if(!0===this.options.zoomView){if(0!==e.deltaY){var t=this.body.view.scale;t*=1+.1*this.options.zoomSpeed*(e.deltaY<0?1:-1);var n=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(t,n)}e.preventDefault()}}},{key:"onMouseMove",value:function(e){var t=this,n=this.getPointer({x:e.clientX,y:e.clientY}),i=!1;void 0!==this.popup&&(!1===this.popup.hidden&&this._checkHidePopup(n),!1===this.popup.hidden&&(i=!0,this.popup.setPosition(n.x+3,n.y-5),this.popup.show())),!1===this.options.keyboard.bindToWindow&&!0===this.options.keyboard.enabled&&this.canvas.frame.focus(),!1===i&&(void 0!==this.popupTimer&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=PL(function(){return t._checkShowPopup(n)},this.options.tooltipDelay))),!0===this.options.hover&&this.selectionHandler.hoverObject(e,n)}},{key:"_checkShowPopup",value:function(e){var t=this.canvas._XconvertDOMtoCanvas(e.x),n=this.canvas._YconvertDOMtoCanvas(e.y),i={left:t,top:n,right:t,bottom:n},r=void 0===this.popupObj?void 0:this.popupObj.id,o=!1,s="node";if(void 0===this.popupObj){for(var a,c=this.body.nodeIndices,l=this.body.nodes,h=[],d=0;d<c.length;d++)!0===(a=l[c[d]]).isOverlappingWith(i)&&(o=!0,void 0!==a.getTitle()&&h.push(c[d]));h.length>0&&(this.popupObj=l[h[h.length-1]],o=!0)}if(void 0===this.popupObj&&!1===o){for(var u,p=this.body.edgeIndices,f=this.body.edges,m=[],g=0;g<p.length;g++)!0===(u=f[p[g]]).isOverlappingWith(i)&&!0===u.connected&&void 0!==u.getTitle()&&m.push(p[g]);m.length>0&&(this.popupObj=f[m[m.length-1]],s="edge")}void 0!==this.popupObj?this.popupObj.id!==r&&(void 0===this.popup&&(this.popup=new pH(this.canvas.frame)),this.popup.popupTargetType=s,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):void 0!==this.popup&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(e){var t=this.selectionHandler._pointerToPositionObject(e),n=!1;if("node"===this.popup.popupTargetType){if(void 0!==this.body.nodes[this.popup.popupTargetId]&&!0===(n=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(t))){var i=this.selectionHandler.getNodeAt(e);n=void 0!==i&&i.id===this.popup.popupTargetId}}else void 0===this.selectionHandler.getNodeAt(e)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(n=this.body.edges[this.popup.popupTargetId].isOverlappingWith(t));!1===n&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),e}(),Fq=$H.getWeakData,Lq=KN.set,jq=KN.getterFor,Bq=tF.find,zq=tF.findIndex,Vq=0,Hq=function(e){return e.frozen||(e.frozen=new Uq)},Uq=function(){this.entries=[]},Wq=function(e,t){return Bq(e.entries,function(e){return e[0]===t})};Uq.prototype={get:function(e){var t=Wq(this,e);if(t)return t[1]},has:function(e){return!!Wq(this,e)},set:function(e,t){var n=Wq(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=zq(this.entries,function(t){return t[0]===e});return~t&&this.entries.splice(t,1),!!~t}};var qq,$q,Gq,Yq,Xq,Kq={getConstructor:function(e,t,n,i){var r=e(function(e,o){XH(e,r,t),Lq(e,{type:t,id:Vq++,frozen:void 0}),null!=o&&YH(o,e[i],{that:e,AS_ENTRIES:n})}),o=jq(t),s=function(e,t,n){var i=o(e),r=Fq(ZD(t),!0);return!0===r?Hq(i).set(t,n):r[i.id]=n,e};return tU(r.prototype,{delete:function(e){var t=o(this);if(!ID(e))return!1;var n=Fq(e);return!0===n?Hq(t).delete(e):n&&MD(n,t.id)&&delete n[t.id]},has:function(e){var t=o(this);if(!ID(e))return!1;var n=Fq(e);return!0===n?Hq(t).has(e):n&&MD(n,t.id)}}),tU(r.prototype,n?{get:function(e){var t=o(this);if(ID(e)){var n=Fq(e);return!0===n?Hq(t).get(e):n?n[t.id]:void 0}},set:function(e,t){return s(this,e,t)}}:{add:function(e){return s(this,e,!0)}}),r}},Zq=(gD(function(e){var t,n=KN.enforce,i=!yD.ActiveXObject&&"ActiveXObject"in yD,r=Object.isExtensible,o=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},s=e.exports=eU("WeakMap",o,Kq);if(WN&&i){t=Kq.getConstructor(o,"WeakMap",!0),$H.REQUIRED=!0;var a=s.prototype,c=a.delete,l=a.has,h=a.get,d=a.set;tU(a,{delete:function(e){if(ID(e)&&!r(e)){var i=n(this);return i.frozen||(i.frozen=new t),c.call(this,e)||i.frozen.delete(e)}return c.call(this,e)},has:function(e){if(ID(e)&&!r(e)){var i=n(this);return i.frozen||(i.frozen=new t),l.call(this,e)||i.frozen.has(e)}return l.call(this,e)},get:function(e){if(ID(e)&&!r(e)){var i=n(this);return i.frozen||(i.frozen=new t),l.call(this,e)?h.call(this,e):i.frozen.get(e)}return h.call(this,e)},set:function(e,i){if(ID(e)&&!r(e)){var o=n(this);o.frozen||(o.frozen=new t),l.call(this,e)?d.call(this,e,i):o.frozen.set(e,i)}else d.call(this,e,i);return this}})}}),YD.WeakMap),Qq=(eU("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},aU),YD.Set);function Jq(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function e$(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}function t$(e,t){var n;if(void 0===KB||null==lL(e)){if(HB(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return n$(e,void 0);var i=qB(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?wL(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n$(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=cL(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function n$(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function i$(e,t){var n,i=new Qq,r=t$(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;e.has(o)||i.add(o)}}catch(s){r.e(s)}finally{r.f()}return i}var r$=function(){function e(){LL(this,e),qq.set(this,new Qq),$q.set(this,new Qq)}return zL(e,[{key:"add",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var i=0,r=t;i<r.length;i++){var o=r[i];Jq(this,$q).add(o)}}},{key:"delete",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var i=0,r=t;i<r.length;i++){var o=r[i];Jq(this,$q).delete(o)}}},{key:"clear",value:function(){Jq(this,$q).clear()}},{key:"getSelection",value:function(){return $B(Jq(this,$q))}},{key:"getChanges",value:function(){return{added:$B(i$(Jq(this,qq),Jq(this,$q))),deleted:$B(i$(Jq(this,$q),Jq(this,qq))),previous:$B(new Qq(Jq(this,qq))),current:$B(new Qq(Jq(this,$q)))}}},{key:"commit",value:function(){var e=this.getChanges();e$(this,qq,Jq(this,$q)),e$(this,$q,new Qq(Jq(this,qq)));var t,n=t$(e.added);try{for(n.s();!(t=n.n()).done;)t.value.select()}catch(o){n.e(o)}finally{n.f()}var i,r=t$(e.deleted);try{for(r.s();!(i=r.n()).done;)i.value.unselect()}catch(o){r.e(o)}finally{r.f()}return e}},{key:"size",get:function(){return Jq(this,$q).size}}]),e}();qq=new Zq,$q=new Zq;var o$=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};LL(this,e),Gq.set(this,new r$),Yq.set(this,new r$),Xq.set(this,void 0),e$(this,Xq,t)}return zL(e,[{key:"getNodes",value:function(){return Jq(this,Gq).getSelection()}},{key:"getEdges",value:function(){return Jq(this,Yq).getSelection()}},{key:"addNodes",value:function(){var e;(e=Jq(this,Gq)).add.apply(e,arguments)}},{key:"addEdges",value:function(){var e;(e=Jq(this,Yq)).add.apply(e,arguments)}},{key:"deleteNodes",value:function(e){Jq(this,Gq).delete(e)}},{key:"deleteEdges",value:function(e){Jq(this,Yq).delete(e)}},{key:"clear",value:function(){Jq(this,Gq).clear(),Jq(this,Yq).clear()}},{key:"commit",value:function(){for(var e,t,n={nodes:Jq(this,Gq).commit(),edges:Jq(this,Yq).commit()},i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=Jq(this,Xq)).call.apply(e,XB(t=[this,n]).call(t,r)),n}},{key:"sizeNodes",get:function(){return Jq(this,Gq).size}},{key:"sizeEdges",get:function(){return Jq(this,Yq).size}}]),e}();function s$(e,t){var n;if(void 0===KB||null==lL(e)){if(HB(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return a$(e,void 0);var i=qB(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?wL(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a$(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=cL(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function a$(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}Gq=new Zq,Yq=new Zq,Xq=new Zq;var c$=function(){function e(t,n){var i=this;LL(this,e),this.body=t,this.canvas=n,this._selectionAccumulator=new o$,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},AM(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",function(){i.updateSelection()})}return zL(e,[{key:"setOptions",value:function(e){void 0!==e&&jV(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,e)}},{key:"selectOnPoint",value:function(e){var t=!1;if(!0===this.options.selectable){var n=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),void 0!==n&&(t=this.selectObject(n)),this.body.emitter.emit("_requestRedraw")}return t}},{key:"selectAdditionalOnPoint",value:function(e){var t=!1;if(!0===this.options.selectable){var n=this.getNodeAt(e)||this.getEdgeAt(e);void 0!==n&&(t=!0,!0===n.isSelected()?this.deselectObject(n):this.selectObject(n),this.body.emitter.emit("_requestRedraw"))}return t}},{key:"_initBaseEvent",value:function(e,t){var n={};return n.pointer={DOM:{x:t.x,y:t.y},canvas:this.canvas.DOMtoCanvas(t)},n.event=e,n}},{key:"generateClickEvent",value:function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=this._initBaseEvent(t,n);if(!0===r)o.nodes=[],o.edges=[];else{var s=this.getSelection();o.nodes=s.nodes,o.edges=s.edges}void 0!==i&&(o.previousSelection=i),"click"==e&&(o.items=this.getClickedItems(n)),void 0!==t.controlEdge&&(o.controlEdge=t.controlEdge),this.body.emitter.emit(e,o)}},{key:"selectObject",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.selectConnectedEdges;return void 0!==e&&(e instanceof _W?(!0===n&&(t=this._selectionAccumulator).addEdges.apply(t,$B(e.edges)),this._selectionAccumulator.addNodes(e)):this._selectionAccumulator.addEdges(e),!0)}},{key:"deselectObject",value:function(e){!0===e.isSelected()&&(e.selected=!1,this._removeFromSelection(e))}},{key:"_getAllNodesOverlappingWith",value:function(e){for(var t=[],n=this.body.nodes,i=0;i<this.body.nodeIndices.length;i++){var r=this.body.nodeIndices[i];n[r].isOverlappingWith(e)&&t.push(r)}return t}},{key:"_pointerToPositionObject",value:function(e){var t=this.canvas.DOMtoCanvas(e);return{left:t.x-1,top:t.y+1,right:t.x+1,bottom:t.y-1}}},{key:"getNodeAt",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this._pointerToPositionObject(e),i=this._getAllNodesOverlappingWith(n);return i.length>0?!0===t?this.body.nodes[i[i.length-1]]:i[i.length-1]:void 0}},{key:"_getEdgesOverlappingWith",value:function(e,t){for(var n=this.body.edges,i=0;i<this.body.edgeIndices.length;i++){var r=this.body.edgeIndices[i];n[r].isOverlappingWith(e)&&t.push(r)}}},{key:"_getAllEdgesOverlappingWith",value:function(e){var t=[];return this._getEdgesOverlappingWith(e,t),t}},{key:"getEdgeAt",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.canvas.DOMtoCanvas(e),i=10,r=null,o=this.body.edges,s=0;s<this.body.edgeIndices.length;s++){var a=this.body.edgeIndices[s],c=o[a];if(c.connected){var l=c.from.x,h=c.from.y,d=c.to.x,u=c.to.y,p=c.edgeType.getDistanceToEdge(l,h,d,u,n.x,n.y);p<i&&(r=a,i=p)}}return null!==r?!0===t?this.body.edges[r]:r:void 0}},{key:"_addToHover",value:function(e){e instanceof _W?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}},{key:"_removeFromSelection",value:function(e){var t;e instanceof _W?(this._selectionAccumulator.deleteNodes(e),(t=this._selectionAccumulator).deleteEdges.apply(t,$B(e.edges))):this._selectionAccumulator.deleteEdges(e)}},{key:"unselectAll",value:function(){this._selectionAccumulator.clear(),this._selectionAccumulator.commit()}},{key:"getSelectedNodeCount",value:function(){return this._selectionAccumulator.sizeNodes}},{key:"getSelectedEdgeCount",value:function(){return this._selectionAccumulator.sizeEdges}},{key:"_hoverConnectedEdges",value:function(e){for(var t=0;t<e.edges.length;t++){var n=e.edges[t];n.hover=!0,this._addToHover(n)}}},{key:"emitBlurEvent",value:function(e,t,n){var i=this._initBaseEvent(e,t);!0===n.hover&&(n.hover=!1,n instanceof _W?(i.node=n.id,this.body.emitter.emit("blurNode",i)):(i.edge=n.id,this.body.emitter.emit("blurEdge",i)))}},{key:"emitHoverEvent",value:function(e,t,n){var i=this._initBaseEvent(e,t),r=!1;return!1===n.hover&&(n.hover=!0,this._addToHover(n),r=!0,n instanceof _W?(i.node=n.id,this.body.emitter.emit("hoverNode",i)):(i.edge=n.id,this.body.emitter.emit("hoverEdge",i))),r}},{key:"hoverObject",value:function(e,t){var n=this.getNodeAt(t);void 0===n&&(n=this.getEdgeAt(t));var i=!1;for(var r in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,r)&&(void 0===n||n instanceof _W&&n.id!=r||n instanceof iq)&&(this.emitBlurEvent(e,t,this.hoverObj.nodes[r]),delete this.hoverObj.nodes[r],i=!0);for(var o in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,o)&&(!0===i?(this.hoverObj.edges[o].hover=!1,delete this.hoverObj.edges[o]):(void 0===n||n instanceof iq&&n.id!=o||n instanceof _W&&!n.hover)&&(this.emitBlurEvent(e,t,this.hoverObj.edges[o]),delete this.hoverObj.edges[o],i=!0));if(void 0!==n){var s=NB(this.hoverObj.edges).length,a=NB(this.hoverObj.nodes).length;(i||n instanceof iq&&0===s&&0===a||n instanceof _W&&0===s&&0===a)&&(i=this.emitHoverEvent(e,t,n)),n instanceof _W&&!0===this.options.hoverConnectedEdges&&this._hoverConnectedEdges(n)}!0===i&&this.body.emitter.emit("_requestRedraw")}},{key:"commitAndEmit",value:function(e,t){var n=!1,i=this._selectionAccumulator.commit(),r={nodes:i.nodes.previous,edges:i.edges.previous};i.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",t,e,r),n=!0),i.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",t,e,r),n=!0),i.nodes.added.length>0&&(this.generateClickEvent("selectNode",t,e),n=!0),i.edges.added.length>0&&(this.generateClickEvent("selectEdge",t,e),n=!0),!0===n&&this.generateClickEvent("select",t,e)}},{key:"getSelection",value:function(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}},{key:"getSelectedNodes",value:function(){return this._selectionAccumulator.getNodes()}},{key:"getSelectedEdges",value:function(){return this._selectionAccumulator.getEdges()}},{key:"getSelectedNodeIds",value:function(){var e;return VB(e=this._selectionAccumulator.getNodes()).call(e,function(e){return e.id})}},{key:"getSelectedEdgeIds",value:function(){var e;return VB(e=this._selectionAccumulator.getEdges()).call(e,function(e){return e.id})}},{key:"setSelection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||!e.nodes&&!e.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((t.unselectAll||void 0===t.unselectAll)&&this.unselectAll(),e.nodes){var n,i=s$(e.nodes);try{for(i.s();!(n=i.n()).done;){var r=n.value,o=this.body.nodes[r];if(!o)throw new RangeError('Node with id "'+r+'" not found');this.selectObject(o,t.highlightEdges)}}catch(h){i.e(h)}finally{i.f()}}if(e.edges){var s,a=s$(e.edges);try{for(a.s();!(s=a.n()).done;){var c=s.value,l=this.body.edges[c];if(!l)throw new RangeError('Edge with id "'+c+'" not found');this.selectObject(l)}}catch(h){a.e(h)}finally{a.f()}}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}},{key:"selectNodes",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e||void 0===e.length)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:t})}},{key:"selectEdges",value:function(e){if(!e||void 0===e.length)throw"Selection must be an array with ids";this.setSelection({edges:e})}},{key:"updateSelection",value:function(){for(var e in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,e.id)||this._selectionAccumulator.deleteNodes(e);for(var t in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,t.id)||this._selectionAccumulator.deleteEdges(t)}},{key:"getClickedItems",value:function(e){for(var t=this.canvas.DOMtoCanvas(e),n=[],i=this.body.nodeIndices,r=this.body.nodes,o=i.length-1;o>=0;o--){var s=r[i[o]].getItemsOnPoint(t);n.push.apply(n,s)}for(var a=this.body.edgeIndices,c=this.body.edges,l=a.length-1;l>=0;l--){var h=c[a[l]].getItemsOnPoint(t);n.push.apply(n,h)}return n}}]),e}(),l$=function(e){return function(t,n,i,r){XD(n);var o=TM(t),s=TD(o),a=gM(o.length),c=e?a-1:0,l=e?-1:1;if(i<2)for(;;){if(c in s){r=s[c],c+=l;break}if(c+=l,e?c<0:a<=c)throw TypeError("Reduce of empty array with no initial value")}for(;e?c>=0:a>c;c+=l)c in s&&(r=n(r,s[c],c,o));return r}},h$={left:l$(!1),right:l$(!0)},d$="process"==ED(yD.process),u$=h$.left,p$=KL("reduce"),f$=ej("reduce",{1:0});iM({target:"Array",proto:!0,forced:!p$||!f$||!d$&&Cj>79&&Cj<83},{reduce:function(e){return u$(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}});var m$=cM("Array").reduce,g$=Array.prototype,v$=function(e){var t=e.reduce;return e===g$||e instanceof Array&&t===g$.reduce?m$:t},y$=[],b$=y$.sort,_$=bD(function(){y$.sort(void 0)}),w$=bD(function(){y$.sort(null)}),C$=KL("sort");iM({target:"Array",proto:!0,forced:_$||!w$||!C$},{sort:function(e){return void 0===e?b$.call(TM(this)):b$.call(TM(this),XD(e))}});var S$=cM("Array").sort,k$=Array.prototype,x$=function(e){var t=e.sort;return e===k$||e instanceof Array&&t===k$.sort?S$:t},E$=gD(function(e,t){!function(e){e.__esModule=!0,e.sort=function(e,t,n,s){if(!Array.isArray(e))throw new TypeError("Can only sort arrays");t?"function"!=typeof t&&(s=n,n=t,t=i):t=i,n||(n=0),s||(s=e.length);var a=s-n;if(!(a<2)){var l=0;if(a<32)o(e,n,s,n+(l=r(e,n,s,t)),t);else{var h=new c(e,t),d=function(e){for(var t=0;e>=32;)t|=1&e,e>>=1;return e+t}(a);do{if((l=r(e,n,s,t))<d){var u=a;u>d&&(u=d),o(e,n,n+u,n+l,t),l=u}h.pushRun(n,l),h.mergeRuns(),a-=l,n+=l}while(0!==a);h.forceMergeRuns()}}};var t=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9];function n(e){return e<1e5?e<100?e<10?0:1:e<1e4?e<1e3?2:3:4:e<1e7?e<1e6?5:6:e<1e9?e<1e8?7:8:9}function i(e,i){if(e===i)return 0;if(~~e===e&&~~i===i){if(0===e||0===i)return e<i?-1:1;if(e<0||i<0){if(i>=0)return-1;if(e>=0)return 1;e=-e,i=-i}var r=n(e),o=n(i),s=0;return r<o?(e*=t[o-r-1],i/=10,s=-1):r>o&&(i*=t[r-o-1],e/=10,s=1),e===i?s:e<i?-1:1}var a=String(e),c=String(i);return a===c?0:a<c?-1:1}function r(e,t,n,i){var r=t+1;if(r===n)return 1;if(i(e[r++],e[t])<0){for(;r<n&&i(e[r],e[r-1])<0;)r++;!function(e,t,n){for(n--;t<n;){var i=e[t];e[t++]=e[n],e[n--]=i}}(e,t,r)}else for(;r<n&&i(e[r],e[r-1])>=0;)r++;return r-t}function o(e,t,n,i,r){for(i===t&&i++;i<n;i++){for(var o=e[i],s=t,a=i;s<a;){var c=s+a>>>1;r(o,e[c])<0?a=c:s=c+1}var l=i-s;switch(l){case 3:e[s+3]=e[s+2];case 2:e[s+2]=e[s+1];case 1:e[s+1]=e[s];break;default:for(;l>0;)e[s+l]=e[s+l-1],l--}e[s]=o}}function s(e,t,n,i,r,o){var s=0,a=0,c=1;if(o(e,t[n+r])>0){for(a=i-r;c<a&&o(e,t[n+r+c])>0;)s=c,(c=1+(c<<1))<=0&&(c=a);c>a&&(c=a),s+=r,c+=r}else{for(a=r+1;c<a&&o(e,t[n+r-c])<=0;)s=c,(c=1+(c<<1))<=0&&(c=a);c>a&&(c=a);var l=s;s=r-c,c=r-l}for(s++;s<c;){var h=s+(c-s>>>1);o(e,t[n+h])>0?s=h+1:c=h}return c}function a(e,t,n,i,r,o){var s=0,a=0,c=1;if(o(e,t[n+r])<0){for(a=r+1;c<a&&o(e,t[n+r-c])<0;)s=c,(c=1+(c<<1))<=0&&(c=a);c>a&&(c=a);var l=s;s=r-c,c=r-l}else{for(a=i-r;c<a&&o(e,t[n+r+c])>=0;)s=c,(c=1+(c<<1))<=0&&(c=a);c>a&&(c=a),s+=r,c+=r}for(s++;s<c;){var h=s+(c-s>>>1);o(e,t[n+h])<0?c=h:s=h+1}return c}var c=function(){function e(t,n){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.array=null,this.compare=null,this.minGallop=7,this.length=0,this.tmpStorageLength=256,this.stackLength=0,this.runStart=null,this.runLength=null,this.stackSize=0,this.array=t,this.compare=n,this.length=t.length,this.length<512&&(this.tmpStorageLength=this.length>>>1),this.tmp=new Array(this.tmpStorageLength),this.stackLength=this.length<120?5:this.length<1542?10:this.length<119151?19:40,this.runStart=new Array(this.stackLength),this.runLength=new Array(this.stackLength)}return e.prototype.pushRun=function(e,t){this.runStart[this.stackSize]=e,this.runLength[this.stackSize]=t,this.stackSize+=1},e.prototype.mergeRuns=function(){for(;this.stackSize>1;){var e=this.stackSize-2;if(e>=1&&this.runLength[e-1]<=this.runLength[e]+this.runLength[e+1]||e>=2&&this.runLength[e-2]<=this.runLength[e]+this.runLength[e-1])this.runLength[e-1]<this.runLength[e+1]&&e--;else if(this.runLength[e]>this.runLength[e+1])break;this.mergeAt(e)}},e.prototype.forceMergeRuns=function(){for(;this.stackSize>1;){var e=this.stackSize-2;e>0&&this.runLength[e-1]<this.runLength[e+1]&&e--,this.mergeAt(e)}},e.prototype.mergeAt=function(e){var t=this.compare,n=this.array,i=this.runStart[e],r=this.runLength[e],o=this.runStart[e+1],c=this.runLength[e+1];this.runLength[e]=r+c,e===this.stackSize-3&&(this.runStart[e+1]=this.runStart[e+2],this.runLength[e+1]=this.runLength[e+2]),this.stackSize--;var l=a(n[o],n,i,r,0,t);i+=l,0!=(r-=l)&&0!==(c=s(n[i+r-1],n,o,c,c-1,t))&&(r<=c?this.mergeLow(i,r,o,c):this.mergeHigh(i,r,o,c))},e.prototype.mergeLow=function(e,t,n,i){var r=this.compare,o=this.array,c=this.tmp,l=0;for(l=0;l<t;l++)c[l]=o[e+l];var h=0,d=n,u=e;if(o[u++]=o[d++],0!=--i)if(1!==t){for(var p=this.minGallop;;){var f=0,m=0,g=!1;do{if(r(o[d],c[h])<0){if(o[u++]=o[d++],m++,f=0,0==--i){g=!0;break}}else if(o[u++]=c[h++],f++,m=0,1==--t){g=!0;break}}while((f|m)<p);if(g)break;do{if(0!==(f=a(o[d],c,h,t,0,r))){for(l=0;l<f;l++)o[u+l]=c[h+l];if(u+=f,h+=f,(t-=f)<=1){g=!0;break}}if(o[u++]=o[d++],0==--i){g=!0;break}if(0!==(m=s(c[h],o,d,i,0,r))){for(l=0;l<m;l++)o[u+l]=o[d+l];if(u+=m,d+=m,0==(i-=m)){g=!0;break}}if(o[u++]=c[h++],1==--t){g=!0;break}p--}while(f>=7||m>=7);if(g)break;p<0&&(p=0),p+=2}if(this.minGallop=p,p<1&&(this.minGallop=1),1===t){for(l=0;l<i;l++)o[u+l]=o[d+l];o[u+i]=c[h]}else{if(0===t)throw new Error("mergeLow preconditions were not respected");for(l=0;l<t;l++)o[u+l]=c[h+l]}}else{for(l=0;l<i;l++)o[u+l]=o[d+l];o[u+i]=c[h]}else for(l=0;l<t;l++)o[u+l]=c[h+l]},e.prototype.mergeHigh=function(e,t,n,i){var r=this.compare,o=this.array,c=this.tmp,l=0;for(l=0;l<i;l++)c[l]=o[n+l];var h=e+t-1,d=i-1,u=n+i-1,p=0,f=0;if(o[u--]=o[h--],0!=--t)if(1!==i){for(var m=this.minGallop;;){var g=0,v=0,y=!1;do{if(r(c[d],o[h])<0){if(o[u--]=o[h--],g++,v=0,0==--t){y=!0;break}}else if(o[u--]=c[d--],v++,g=0,1==--i){y=!0;break}}while((g|v)<m);if(y)break;do{if(0!=(g=t-a(c[d],o,e,t,t-1,r))){for(t-=g,f=1+(u-=g),p=1+(h-=g),l=g-1;l>=0;l--)o[f+l]=o[p+l];if(0===t){y=!0;break}}if(o[u--]=c[d--],1==--i){y=!0;break}if(0!=(v=i-s(o[h],c,0,i,i-1,r))){for(i-=v,f=1+(u-=v),p=1+(d-=v),l=0;l<v;l++)o[f+l]=c[p+l];if(i<=1){y=!0;break}}if(o[u--]=o[h--],0==--t){y=!0;break}m--}while(g>=7||v>=7);if(y)break;m<0&&(m=0),m+=2}if(this.minGallop=m,m<1&&(this.minGallop=1),1===i){for(f=1+(u-=t),p=1+(h-=t),l=t-1;l>=0;l--)o[f+l]=o[p+l];o[u]=c[d]}else{if(0===i)throw new Error("mergeHigh preconditions were not respected");for(p=u-(i-1),l=0;l<i;l++)o[p+l]=c[l]}}else{for(f=1+(u-=t),p=1+(h-=t),l=t-1;l>=0;l--)o[f+l]=o[p+l];o[u]=c[d]}else for(p=u-(i-1),l=0;l<i;l++)o[p+l]=c[l]},e}()}(t)});function O$(e){var t=function(){if("undefined"==typeof Reflect||!UU)return!1;if(UU.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(UU(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=KU(e);if(t){var r=KU(this).constructor;n=UU(i,arguments,r)}else n=i.apply(this,arguments);return YU(this,n)}}var T$=function(){function e(){LL(this,e)}return zL(e,[{key:"abstract",value:function(){throw new Error("Can't instantiate abstract class!")}},{key:"fake_use",value:function(){}},{key:"curveType",value:function(){return this.abstract()}},{key:"getPosition",value:function(e){return this.fake_use(e),this.abstract()}},{key:"setPosition",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;this.fake_use(e,t,n),this.abstract()}},{key:"getTreeSize",value:function(e){return this.fake_use(e),this.abstract()}},{key:"sort",value:function(e){this.fake_use(e),this.abstract()}},{key:"fix",value:function(e,t){this.fake_use(e,t),this.abstract()}},{key:"shift",value:function(e,t){this.fake_use(e,t),this.abstract()}}]),e}(),P$=function(e){GU(n,e);var t=O$(n);function n(e){var i;return LL(this,n),(i=t.call(this)).layout=e,i}return zL(n,[{key:"curveType",value:function(){return"horizontal"}},{key:"getPosition",value:function(e){return e.x}},{key:"setPosition",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==n&&this.layout.hierarchical.addToOrdering(e,n),e.x=t}},{key:"getTreeSize",value:function(e){var t=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:t.min_x,max:t.max_x}}},{key:"sort",value:function(e){E$.sort(e,function(e,t){return e.x-t.x})}},{key:"fix",value:function(e,t){e.y=this.layout.options.hierarchical.levelSeparation*t,e.options.fixed.y=!0}},{key:"shift",value:function(e,t){this.layout.body.nodes[e].x+=t}}]),n}(T$),R$=function(e){GU(n,e);var t=O$(n);function n(e){var i;return LL(this,n),(i=t.call(this)).layout=e,i}return zL(n,[{key:"curveType",value:function(){return"vertical"}},{key:"getPosition",value:function(e){return e.y}},{key:"setPosition",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==n&&this.layout.hierarchical.addToOrdering(e,n),e.y=t}},{key:"getTreeSize",value:function(e){var t=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:t.min_y,max:t.max_y}}},{key:"sort",value:function(e){E$.sort(e,function(e,t){return e.y-t.y})}},{key:"fix",value:function(e,t){e.x=this.layout.options.hierarchical.levelSeparation*t,e.options.fixed.x=!0}},{key:"shift",value:function(e,t){this.layout.body.nodes[e].y+=t}}]),n}(T$),I$=tF.every,A$=KL("every"),D$=ej("every");iM({target:"Array",proto:!0,forced:!A$||!D$},{every:function(e){return I$(this,e,arguments.length>1?arguments[1]:void 0)}});var M$=cM("Array").every,N$=Array.prototype,F$=function(e){var t=e.every;return e===N$||e instanceof Array&&t===N$.every?M$:t};function L$(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function j$(e,t){var n=new Qq;return lB(e).call(e,function(e){var t;lB(t=e.edges).call(t,function(e){e.connected&&n.add(e)})}),lB(n).call(n,function(e){var n=e.from.id,i=e.to.id;null==t[n]&&(t[n]=0),(null==t[i]||t[n]>=t[i])&&(t[i]=t[n]+1)}),t}function B$(e,t,n,i){var r,o,s=UL(null),a=v$(r=$B(AU(i).call(i))).call(r,function(e,t){return e+1+t.edges.length},0),c=n+"Id",l="to"===n?1:-1,h=function(e,t){var n;if(void 0===KB||null==lL(e)){if(HB(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return L$(e,void 0);var i=qB(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?wL(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?L$(e,void 0):void 0}}(e))){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=cL(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}(i);try{var d=function(){var r=AB(o.value,2),h=r[0],d=r[1];if(!i.has(h)||!e(d))return"continue";s[h]=0;for(var u=[d],p=0,f=void 0,m=function(){var e,r;if(!i.has(h))return"continue";var o=s[f.id]+l;if(lB(e=Rj(r=f.edges).call(r,function(e){return e.connected&&e.to!==e.from&&e[n]!==f&&i.has(e.toId)&&i.has(e.fromId)})).call(e,function(e){var i=e[c],r=s[i];(null==r||t(o,r))&&(s[i]=o,u.push(e[n]))}),p>a)return{v:{v:j$(i,s)}};++p};f=u.pop();){var g=m();if("continue"!==g&&"object"===WB(g))return g.v}};for(h.s();!(o=h.n()).done;){var u=d();if("continue"!==u&&"object"===WB(u))return u.v}}catch(p){h.e(p)}finally{h.f()}return s}var z$=function(){function e(){LL(this,e),this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}return zL(e,[{key:"addRelation",value:function(e,t){void 0===this.childrenReference[e]&&(this.childrenReference[e]=[]),this.childrenReference[e].push(t),void 0===this.parentReference[t]&&(this.parentReference[t]=[]),this.parentReference[t].push(e)}},{key:"checkIfTree",value:function(){for(var e in this.parentReference)if(this.parentReference[e].length>1)return void(this.isTree=!1);this.isTree=!0}},{key:"numTrees",value:function(){return this.treeIndex+1}},{key:"setTreeIndex",value:function(e,t){void 0!==t&&void 0===this.trees[e.id]&&(this.trees[e.id]=t,this.treeIndex=Math.max(t,this.treeIndex))}},{key:"ensureLevel",value:function(e){void 0===this.levels[e]&&(this.levels[e]=0)}},{key:"getMaxLevel",value:function(e){var t=this,n={};return function e(i){if(void 0!==n[i])return n[i];var r=t.levels[i];if(t.childrenReference[i]){var o=t.childrenReference[i];if(o.length>0)for(var s=0;s<o.length;s++)r=Math.max(r,e(o[s]))}return n[i]=r,r}(e)}},{key:"levelDownstream",value:function(e,t){void 0===this.levels[t.id]&&(void 0===this.levels[e.id]&&(this.levels[e.id]=0),this.levels[t.id]=this.levels[e.id]+1)}},{key:"setMinLevelToZero",value:function(e){var t=1e9;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&void 0!==this.levels[n]&&(t=Math.min(this.levels[n],t));for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&void 0!==this.levels[i]&&(this.levels[i]-=t)}},{key:"getTreeSize",value:function(e,t){var n=1e9,i=-1e9,r=1e9,o=-1e9;for(var s in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,s)&&this.trees[s]===t){var a=e[s];n=Math.min(a.x,n),i=Math.max(a.x,i),r=Math.min(a.y,r),o=Math.max(a.y,o)}return{min_x:n,max_x:i,min_y:r,max_y:o}}},{key:"hasSameParent",value:function(e,t){var n=this.parentReference[e.id],i=this.parentReference[t.id];if(void 0===n||void 0===i)return!1;for(var r=0;r<n.length;r++)for(var o=0;o<i.length;o++)if(n[r]==i[o])return!0;return!1}},{key:"inSameSubNetwork",value:function(e,t){return this.trees[e.id]===this.trees[t.id]}},{key:"getLevels",value:function(){return NB(this.distributionOrdering)}},{key:"addToOrdering",value:function(e,t){void 0===this.distributionOrdering[t]&&(this.distributionOrdering[t]=[]);var n=!1,i=this.distributionOrdering[t];for(var r in i)if(i[r]===e){n=!0;break}n||(this.distributionOrdering[t].push(e),this.distributionIndex[e.id]=this.distributionOrdering[t].length-1)}}]),e}(),V$=function(){function e(t){LL(this,e),this.body=t,this._resetRNG(Math.random()+":"+DB()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},AM(this.options,this.defaultOptions),this.bindEventListeners()}return zL(e,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("_dataChanged",function(){e.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",function(){e.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",function(){e.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",function(){if(!0===e.options.hierarchical.enabled){var t=e.direction.curveType();e.body.emitter.emit("_forceDisableDynamicCurves",t,!1)}})}},{key:"setOptions",value:function(e,t){if(void 0!==e){var n=this.options.hierarchical,i=n.enabled;if(jV(["randomSeed","improvedLayout","clusterThreshold"],this.options,e),nH(this.options,e,"hierarchical"),void 0!==e.randomSeed&&this._resetRNG(e.randomSeed),!0===n.enabled)return!0===i&&this.body.emitter.emit("refresh",!0),"RL"===n.direction||"DU"===n.direction?n.levelSeparation>0&&(n.levelSeparation*=-1):n.levelSeparation<0&&(n.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(t);if(!0===i)return this.body.emitter.emit("refresh"),zV(t,this.optionsBackup)}return t}},{key:"_resetRNG",value:function(e){this.initialRandomSeed=e,this._rng=kV(this.initialRandomSeed)}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(e){if(!0===this.options.hierarchical.enabled){var t=this.optionsBackup.physics;void 0===e.physics||!0===e.physics?(e.physics={enabled:void 0===t.enabled||t.enabled,solver:"hierarchicalRepulsion"},t.enabled=void 0===t.enabled||t.enabled,t.solver=t.solver||"barnesHut"):"object"===WB(e.physics)?(t.enabled=void 0===e.physics.enabled||e.physics.enabled,t.solver=e.physics.solver||"barnesHut",e.physics.solver="hierarchicalRepulsion"):!1!==e.physics&&(t.solver="barnesHut",e.physics={solver:"hierarchicalRepulsion"});var n=this.direction.curveType();if(void 0===e.edges)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges={smooth:!1};else if(void 0===e.edges.smooth)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges.smooth=!1;else if("boolean"==typeof e.edges.smooth)this.optionsBackup.edges={smooth:e.edges.smooth},e.edges.smooth={enabled:e.edges.smooth,type:n};else{var i=e.edges.smooth;void 0!==i.type&&"dynamic"!==i.type&&(n=i.type),this.optionsBackup.edges={smooth:{enabled:void 0===i.enabled||i.enabled,type:void 0===i.type?"dynamic":i.type,roundness:void 0===i.roundness?.5:i.roundness,forceDirection:void 0!==i.forceDirection&&i.forceDirection}},e.edges.smooth={enabled:void 0===i.enabled||i.enabled,type:n,roundness:void 0===i.roundness?.5:i.roundness,forceDirection:void 0!==i.forceDirection&&i.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",n)}return e}},{key:"positionInitially",value:function(e){if(!0!==this.options.hierarchical.enabled){this._resetRNG(this.initialRandomSeed);for(var t=e.length+50,n=0;n<e.length;n++){var i=e[n],r=2*Math.PI*this._rng();void 0===i.x&&(i.x=t*Math.cos(r)),void 0===i.y&&(i.y=t*Math.sin(r))}}}},{key:"layoutNetwork",value:function(){if(!0!==this.options.hierarchical.enabled&&!0===this.options.improvedLayout){for(var e=this.body.nodeIndices,t=0,n=0;n<e.length;n++)!0===this.body.nodes[e[n]].predefinedPosition&&(t+=1);if(t<.5*e.length){var i=0,r=this.options.clusterThreshold,o={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(e.length>r){for(var s=e.length;e.length>r&&i<=10;){var a=e.length;if((i+=1)%3==0?this.body.modules.clustering.clusterBridges(o):this.body.modules.clustering.clusterOutliers(o),a==e.length&&i%3!=0)return this._declusterAll(),this.body.emitter.emit("_layoutFailed"),void console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.")}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*s)})}i>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(e,this.body.edgeIndices,!0),this._shiftToCenter();for(var c=0;c<e.length;c++){var l=this.body.nodes[e[c]];!1===l.predefinedPosition&&(l.x+=70*(.5-this._rng()),l.y+=70*(.5-this._rng()))}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var e=wq.getRangeCore(this.body.nodes,this.body.nodeIndices),t=wq.findCenter(e),n=0;n<this.body.nodeIndices.length;n++){var i=this.body.nodes[this.body.nodeIndices[n]];i.x-=t.x,i.y-=t.y}}},{key:"_declusterAll",value:function(){for(var e=!0;!0===e;){e=!1;for(var t=0;t<this.body.nodeIndices.length;t++)!0===this.body.nodes[this.body.nodeIndices[t]].isCluster&&(e=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[t],{},!1));!0===e&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(!0===this.options.hierarchical.enabled&&this.body.nodeIndices.length>0){var e,t,n=!1,i=!1;for(t in this.lastNodeOnLevel={},this.hierarchical=new z$,this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&(void 0!==(e=this.body.nodes[t]).options.level?(n=!0,this.hierarchical.levels[t]=e.options.level):i=!0);if(!0===i&&!0===n)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");if(!0===i){var r=this.options.hierarchical.sortMethod;"hubsize"===r?this._determineLevelsByHubsize():"directed"===r?this._determineLevelsDirected():"custom"===r&&this._determineLevelsCustomCallback()}for(var o in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,o)&&this.hierarchical.ensureLevel(o);var s=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(s),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var e=this,t=!1,n={},i=function(t,n){var i=e.hierarchical.trees;for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&i[r]===t&&e.direction.shift(r,n)},r=function t(n,i){if(!i[n.id]&&(i[n.id]=!0,e.hierarchical.childrenReference[n.id])){var r=e.hierarchical.childrenReference[n.id];if(r.length>0)for(var o=0;o<r.length;o++)t(e.body.nodes[r[o]],i)}},o=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e9,i=1e9,r=1e9,o=1e9,s=-1e9;for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var c=e.body.nodes[a],l=e.hierarchical.levels[c.id],h=e.direction.getPosition(c),d=e._getSpaceAroundNode(c,t),u=AB(d,2),p=u[0],f=u[1];i=Math.min(p,i),r=Math.min(f,r),l<=n&&(o=Math.min(h,o),s=Math.max(h,s))}return[o,s,i,r]},s=function(t,n){var i=e.hierarchical.getMaxLevel(t.id),r=e.hierarchical.getMaxLevel(n.id);return Math.min(i,r)},a=function(t,n,i){for(var r=e.hierarchical,o=0;o<n.length;o++){var s=r.distributionOrdering[n[o]];if(s.length>1)for(var a=0;a<s.length-1;a++){var c=s[a],l=s[a+1];r.hasSameParent(c,l)&&r.inSameSubNetwork(c,l)&&t(c,l,i)}}},c=function(n,i){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=e.direction.getPosition(n),l=e.direction.getPosition(i),h=Math.abs(l-c),d=e.options.hierarchical.nodeSpacing;if(h>d){var u={},p={};r(n,u),r(i,p);var f=s(n,i),m=o(u,f),g=o(p,f),v=m[1],y=g[0],b=g[2],_=Math.abs(v-y);if(_>d){var w=v-y+d;w<-b+d&&(w=-b+d),w<0&&(e._shiftBlock(i.id,w),t=!0,!0===a&&e._centerParent(i))}}},l=function(i,s){for(var a=s.id,c=s.edges,l=e.hierarchical.levels[s.id],h=e.options.hierarchical.levelSeparation*e.options.hierarchical.levelSeparation,d={},u=[],p=0;p<c.length;p++){var f=c[p];if(f.toId!=f.fromId){var m=f.toId==a?f.from:f.to;d[c[p].id]=m,e.hierarchical.levels[m.id]<l&&u.push(f)}}var g=function(t,n){for(var i=0,r=0;r<n.length;r++)if(void 0!==d[n[r].id]){var o=e.direction.getPosition(d[n[r].id])-t;i+=o/Math.sqrt(o*o+h)}return i},v=function(t,n){for(var i=0,r=0;r<n.length;r++)if(void 0!==d[n[r].id]){var o=e.direction.getPosition(d[n[r].id])-t;i-=h*Math.pow(o*o+h,-1.5)}return i},y=function(t,n){for(var i=e.direction.getPosition(s),r={},o=0;o<t;o++){var a=g(i,n),c=v(i,n);if(void 0!==r[i-=Math.max(-40,Math.min(40,Math.round(a/c)))])break;r[i]=o}return i},b=y(i,u);!function(i){var a=e.direction.getPosition(s);if(void 0===n[s.id]){var c={};r(s,c),n[s.id]=c}var l=o(n[s.id]),h=l[2],d=i-a,u=0;d>0?u=Math.min(d,l[3]-e.options.hierarchical.nodeSpacing):d<0&&(u=-Math.min(-d,h-e.options.hierarchical.nodeSpacing)),0!=u&&(e._shiftBlock(s.id,u),t=!0)}(b),function(n){var i=e.direction.getPosition(s),r=e._getSpaceAroundNode(s),o=AB(r,2),a=o[0],c=n-i,l=i;c>0?l=Math.min(i+(o[1]-e.options.hierarchical.nodeSpacing),n):c<0&&(l=Math.max(i-(a-e.options.hierarchical.nodeSpacing),n)),l!==i&&(e.direction.setPosition(s,l),t=!0)}(b=y(i,c))};!0===this.options.hierarchical.blockShifting&&(function(n){var i=e.hierarchical.getLevels();i=tB(i).call(i);for(var r=0;r<5&&(t=!1,a(c,i,!0),!0===t);r++);}(),function(){for(var t in e.body.nodes)Object.prototype.hasOwnProperty.call(e.body.nodes,t)&&e._centerParent(e.body.nodes[t])}()),!0===this.options.hierarchical.edgeMinimization&&function(n){var i=e.hierarchical.getLevels();i=tB(i).call(i);for(var r=0;r<20;r++){t=!1;for(var o=0;o<i.length;o++)for(var s=e.hierarchical.distributionOrdering[i[o]],a=0;a<s.length;a++)l(1e3,s[a]);if(!0!==t)break}}(),!0===this.options.hierarchical.parentCentralization&&function(){var t=e.hierarchical.getLevels();t=tB(t).call(t);for(var n=0;n<t.length;n++)for(var i=e.hierarchical.distributionOrdering[t[n]],r=0;r<i.length;r++)e._centerParent(i[r])}(),function(){for(var t=function(){for(var t=[],n=0;n<e.hierarchical.numTrees();n++)t.push(e.direction.getTreeSize(n));return t}(),n=0,r=0;r<t.length-1;r++)i(r+1,n+=t[r].max-t[r+1].min+e.options.hierarchical.treeSpacing)}()}},{key:"_getSpaceAroundNode",value:function(e,t){var n=!0;void 0===t&&(n=!1);var i=this.hierarchical.levels[e.id];if(void 0!==i){var r=this.hierarchical.distributionIndex[e.id],o=this.direction.getPosition(e),s=this.hierarchical.distributionOrdering[i],a=1e9,c=1e9;if(0!==r){var l=s[r-1];(!0===n&&void 0===t[l.id]||!1===n)&&(a=o-this.direction.getPosition(l))}if(r!=s.length-1){var h=s[r+1];if(!0===n&&void 0===t[h.id]||!1===n){var d=this.direction.getPosition(h);c=Math.min(c,d-o)}}return[a,c]}return[0,0]}},{key:"_centerParent",value:function(e){if(this.hierarchical.parentReference[e.id])for(var t=this.hierarchical.parentReference[e.id],n=0;n<t.length;n++){var i=t[n],r=this.body.nodes[i],o=this.hierarchical.childrenReference[i];if(void 0!==o){var s=this._getCenterPosition(o),a=this.direction.getPosition(r),c=this._getSpaceAroundNode(r),l=AB(c,2),h=l[0],d=l[1],u=a-s;(u<0&&Math.abs(u)<d-this.options.hierarchical.nodeSpacing||u>0&&Math.abs(u)<h-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(r,s)}}}},{key:"_placeNodesByHierarchy",value:function(e){for(var t in this.positionedNodes={},e)if(Object.prototype.hasOwnProperty.call(e,t)){var n,i=NB(e[t]);i=this._indexArrayToNodes(i),x$(n=this.direction).call(n,i);for(var r=0,o=0;o<i.length;o++){var s=i[o];if(void 0===this.positionedNodes[s.id]){var a=this.options.hierarchical.nodeSpacing,c=a*r;r>0&&(c=this.direction.getPosition(i[o-1])+a),this.direction.setPosition(s,c,t),this._validatePositionAndContinue(s,t,c),r++}}}}},{key:"_placeBranchNodes",value:function(e,t){var n,i=this.hierarchical.childrenReference[e];if(void 0!==i){for(var r=[],o=0;o<i.length;o++)r.push(this.body.nodes[i[o]]);x$(n=this.direction).call(n,r);for(var s=0;s<r.length;s++){var a=r[s],c=this.hierarchical.levels[a.id];if(!(c>t&&void 0===this.positionedNodes[a.id]))return;var l,h=this.options.hierarchical.nodeSpacing;l=0===s?this.direction.getPosition(this.body.nodes[e]):this.direction.getPosition(r[s-1])+h,this.direction.setPosition(a,l,c),this._validatePositionAndContinue(a,c,l)}var d=this._getCenterPosition(r);this.direction.setPosition(this.body.nodes[e],d,t)}}},{key:"_validatePositionAndContinue",value:function(e,t,n){if(this.hierarchical.isTree){if(void 0!==this.lastNodeOnLevel[t]){var i=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[t]]);if(n-i<this.options.hierarchical.nodeSpacing){var r=i+this.options.hierarchical.nodeSpacing-n,o=this._findCommonParent(this.lastNodeOnLevel[t],e.id);this._shiftBlock(o.withChild,r)}}this.lastNodeOnLevel[t]=e.id,this.positionedNodes[e.id]=!0,this._placeBranchNodes(e.id,t)}}},{key:"_indexArrayToNodes",value:function(e){for(var t=[],n=0;n<e.length;n++)t.push(this.body.nodes[e[n]]);return t}},{key:"_getDistribution",value:function(){var e,t,n={};for(e in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,e)){var i=void 0===this.hierarchical.levels[e]?0:this.hierarchical.levels[e];this.direction.fix(t=this.body.nodes[e],i),void 0===n[i]&&(n[i]={}),n[i][e]=t}return n}},{key:"_getActiveEdges",value:function(e){var t=this,n=[];return WV(e.edges,function(e){var i;-1!==cj(i=t.body.edgeIndices).call(i,e.id)&&n.push(e)}),n}},{key:"_getHubSizes",value:function(){var e=this,t={};WV(this.body.nodeIndices,function(n){var i=e._getActiveEdges(e.body.nodes[n]).length;t[i]=!0});var n=[];return WV(t,function(e){n.push(Number(e))}),x$(E$).call(E$,n,function(e,t){return t-e}),n}},{key:"_determineLevelsByHubsize",value:function(){for(var e=this,t=function(t,n){e.hierarchical.levelDownstream(t,n)},n=this._getHubSizes(),i=function(i){var r=n[i];if(0===r)return"break";WV(e.body.nodeIndices,function(n){r===e._getActiveEdges(e.body.nodes[n]).length&&e._crawlNetwork(t,n)})},r=0;r<n.length&&"break"!==i(r);++r);}},{key:"_determineLevelsCustomCallback",value:function(){var e=this;this._crawlNetwork(function(t,n,i){var r=e.hierarchical.levels[t.id];void 0===r&&(r=e.hierarchical.levels[t.id]=1e5);var o=(wq.cloneOptions(t,"node"),wq.cloneOptions(n,"node"),void wq.cloneOptions(i,"edge"));e.hierarchical.levels[n.id]=r+o}),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function(){var e,t=this,n=v$(e=this.body.nodeIndices).call(e,function(e,n){return e.set(n,t.body.nodes[n]),e},new cU);this.hierarchical.levels="roots"===this.options.hierarchical.shakeTowards?function(e){return B$(function(t){var n,i;return F$(n=Rj(i=t.edges).call(i,function(t){return e.has(t.toId)})).call(n,function(e){return e.from===t})},function(e,t){return t<e},"to",e)}(n):function(e){return B$(function(t){var n,i;return F$(n=Rj(i=t.edges).call(i,function(t){return e.has(t.toId)})).call(n,function(e){return e.to===t})},function(e,t){return t>e},"from",e)}(n),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function(){var e=this;this._crawlNetwork(function(t,n){e.hierarchical.levels[n.id]>e.hierarchical.levels[t.id]&&e.hierarchical.addRelation(t.id,n.id)}),this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},n=arguments.length>1?arguments[1]:void 0,i={},r=function n(r,o){if(void 0===i[r.id]){var s;e.hierarchical.setTreeIndex(r,o),i[r.id]=!0;for(var a=e._getActiveEdges(r),c=0;c<a.length;c++){var l=a[c];!0===l.connected&&r.id!=(s=l.toId==r.id?l.from:l.to).id&&(t(r,s,l),n(s,o))}}};if(void 0===n)for(var o=0,s=0;s<this.body.nodeIndices.length;s++){var a=this.body.nodeIndices[s];if(void 0===i[a]){var c=this.body.nodes[a];r(c,o),o+=1}}else{var l=this.body.nodes[n];if(void 0===l)return void console.error("Node not found:",n);r(l)}}},{key:"_shiftBlock",value:function(e,t){var n=this,i={};!function e(r){if(!i[r]){i[r]=!0,n.direction.shift(r,t);var o=n.hierarchical.childrenReference[r];if(void 0!==o)for(var s=0;s<o.length;s++)e(o[s])}}(e)}},{key:"_findCommonParent",value:function(e,t){var n=this,i={};return function e(t,i){var r=n.hierarchical.parentReference[i];if(void 0!==r)for(var o=0;o<r.length;o++){var s=r[o];t[s]=!0,e(t,s)}}(i,e),function e(t,i){var r=n.hierarchical.parentReference[i];if(void 0!==r)for(var o=0;o<r.length;o++){var s=r[o];if(void 0!==t[s])return{foundParent:s,withChild:i};var a=e(t,s);if(null!==a.foundParent)return a}return{foundParent:null,withChild:i}}(i,t)}},{key:"setDirectionStrategy",value:function(){this.direction="UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?new P$(this):new R$(this)}},{key:"_getCenterPosition",value:function(e){for(var t=1e9,n=-1e9,i=0;i<e.length;i++){var r=this.direction.getPosition(void 0!==e[i].id?e[i]:this.body.nodes[e[i]]);t=Math.min(t,r),n=Math.max(n,r)}return.5*(t+n)}}]),e}();function H$(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var U$=function(){function e(t,n,i,r){var o,s,a=this;LL(this,e),this.body=t,this.canvas=n,this.selectionHandler=i,this.interactionHandler=r,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},AM(this.options,this.defaultOptions),this.body.emitter.on("destroy",function(){a._clean()}),this.body.emitter.on("_dataChanged",dM(o=this._restore).call(o,this)),this.body.emitter.on("_resetData",dM(s=this._restore).call(s,this))}return zL(e,[{key:"_restore",value:function(){!1!==this.inMode&&(!0===this.options.initiallyActive?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(e,t,n){void 0!==t&&(this.options.locale=void 0!==t.locale?t.locale:n.locale,this.options.locales=void 0!==t.locales?t.locales:n.locales),void 0!==e&&("boolean"==typeof e?this.options.enabled=e:(this.options.enabled=!0,zV(this.options,e)),!0===this.options.initiallyActive&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){!0===this.editMode?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},!0===this.guiEnabled){var e,t;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var n=this.selectionHandler.getSelectedNodeCount(),i=this.selectionHandler.getSelectedEdgeCount(),r=n+i,o=this.options.locales[this.options.locale],s=!1;!1!==this.options.addNode&&(this._createAddNodeButton(o),s=!0),!1!==this.options.addEdge&&(!0===s?this._createSeperator(1):s=!0,this._createAddEdgeButton(o)),1===n&&"function"==typeof this.options.editNode?(!0===s?this._createSeperator(2):s=!0,this._createEditNodeButton(o)):1===i&&0===n&&!1!==this.options.editEdge&&(!0===s?this._createSeperator(3):s=!0,this._createEditEdgeButton(o)),0!==r&&(n>0&&!1!==this.options.deleteNode||0===n&&!1!==this.options.deleteEdge)&&(!0===s&&this._createSeperator(4),this._createDeleteButton(o)),this._bindElementEvents(this.closeDiv,dM(e=this.toggleEditMode).call(e,this)),this._temporaryBindEvent("select",dM(t=this.showManipulatorToolbar).call(t,this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){var e;if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addNode",!0===this.guiEnabled){var t,n=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(n),this._createSeperator(),this._createDescription(n.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,dM(t=this.toggleEditMode).call(t,this))}this._temporaryBindEvent("click",dM(e=this._performAddNode).call(e,this))}},{key:"editNode",value:function(){var e=this;!0!==this.editMode&&this.enableEditMode(),this._clean();var t=this.selectionHandler.getSelectedNodes()[0];if(void 0!==t){if(this.inMode="editNode","function"!=typeof this.options.editNode)throw new Error("No function has been configured to handle the editing of nodes.");if(!0!==t.isCluster){var n=zV({},t.options,!1);if(n.x=t.x,n.y=t.y,2!==this.options.editNode.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(n,function(t){null!=t&&"editNode"===e.inMode&&e.body.data.nodes.getDataSet().update(t),e.showManipulatorToolbar()})}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){var e,t,n,i,r;if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addEdge",!0===this.guiEnabled){var o,s=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(s),this._createSeperator(),this._createDescription(s.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,dM(o=this.toggleEditMode).call(o,this))}this._temporaryBindUI("onTouch",dM(e=this._handleConnect).call(e,this)),this._temporaryBindUI("onDragEnd",dM(t=this._finishConnect).call(t,this)),this._temporaryBindUI("onDrag",dM(n=this._dragControlNode).call(n,this)),this._temporaryBindUI("onRelease",dM(i=this._finishConnect).call(i,this)),this._temporaryBindUI("onDragStart",dM(r=this._dragStartEdge).call(r,this)),this._temporaryBindUI("onHold",function(){})}},{key:"editEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="editEdge","object"!==WB(this.options.editEdge)||"function"!=typeof this.options.editEdge.editWithoutDrag||(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],void 0===this.edgeBeingEditedId)){if(!0===this.guiEnabled){var e,t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,dM(e=this.toggleEditMode).call(e,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],void 0!==this.edgeBeingEditedId){var n,i,r,o,s=this.body.edges[this.edgeBeingEditedId],a=this._getNewTargetNode(s.from.x,s.from.y),c=this._getNewTargetNode(s.to.x,s.to.y);this.temporaryIds.nodes.push(a.id),this.temporaryIds.nodes.push(c.id),this.body.nodes[a.id]=a,this.body.nodeIndices.push(a.id),this.body.nodes[c.id]=c,this.body.nodeIndices.push(c.id),this._temporaryBindUI("onTouch",dM(n=this._controlNodeTouch).call(n,this)),this._temporaryBindUI("onTap",function(){}),this._temporaryBindUI("onHold",function(){}),this._temporaryBindUI("onDragStart",dM(i=this._controlNodeDragStart).call(i,this)),this._temporaryBindUI("onDrag",dM(r=this._controlNodeDrag).call(r,this)),this._temporaryBindUI("onDragEnd",dM(o=this._controlNodeDragEnd).call(o,this)),this._temporaryBindUI("onMouseMove",function(){}),this._temporaryBindEvent("beforeDrawing",function(e){var t=s.edgeType.findBorderPositions(e);!1===a.selected&&(a.x=t.from.x,a.y=t.from.y),!1===c.selected&&(c.x=t.to.x,c.y=t.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}else{var l=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(l.from.id,l.to.id)}}},{key:"deleteSelected",value:function(){var e=this;!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="delete";var t=this.selectionHandler.getSelectedNodeIds(),n=this.selectionHandler.getSelectedEdgeIds(),i=void 0;if(t.length>0){for(var r=0;r<t.length;r++)if(!0===this.body.nodes[t[r]].isCluster)return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);"function"==typeof this.options.deleteNode&&(i=this.options.deleteNode)}else n.length>0&&"function"==typeof this.options.deleteEdge&&(i=this.options.deleteEdge);if("function"==typeof i){var o={nodes:t,edges:n};if(2!==i.length)throw new Error("The function for delete does not support two arguments (data, callback)");i(o,function(t){null!=t&&"delete"===e.inMode?(e.body.data.edges.getDataSet().remove(t.edges),e.body.data.nodes.getDataSet().remove(t.nodes),e.body.emitter.emit("startSimulation"),e.showManipulatorToolbar()):(e.body.emitter.emit("startSimulation"),e.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().remove(n),this.body.data.nodes.getDataSet().remove(t),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){!0===this.options.enabled?(this.guiEnabled=!0,this._createWrappers(),!1===this.editMode?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){var e,t;void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.manipulationDiv.style.display=!0===this.editMode?"block":"none",this.canvas.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editModeDiv.style.display=!0===this.editMode?"none":"block",this.canvas.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv&&(this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",null!==(e=null===(t=this.options.locales[this.options.locale])||void 0===t?void 0:t.close)&&void 0!==e?e:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:"_getNewTargetNode",value:function(e,t){var n=zV({},this.options.controlNodeStyle);n.id="targetNode"+_q(),n.hidden=!1,n.physics=!1,n.x=e,n.y=t;var i=this.body.functions.createNode(n);return i.shape.boundingBox={left:e,right:e,top:t,bottom:t},i}},{key:"_createEditButton",value:function(){var e;this._clean(),this.manipulationDOM={},DV(this.editModeDiv);var t=this._createButton("editMode","vis-edit vis-edit-mode",this.options.locales[this.options.locale].edit||this.options.locales.en.edit);this.editModeDiv.appendChild(t),this._bindElementEvents(t,dM(e=this.toggleEditMode).call(e,this))}},{key:"_clean",value:function(){this.inMode=!1,!0===this.guiEnabled&&(DV(this.editModeDiv),DV(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanupDOMEventListeners",value:function(){var e,t,n=function(e,t){var n;if(void 0===KB||null==lL(e)){if(HB(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return H$(e,void 0);var i=qB(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?wL(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?H$(e,void 0):void 0}}(e))){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=cL(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}(Kj(e=this._domEventListenerCleanupQueue).call(e,0));try{for(n.s();!(t=n.n()).done;)(0,t.value)()}catch(i){n.e(i)}finally{n.f()}}},{key:"_removeManipulationDOM",value:function(){this._clean(),DV(this.manipulationDiv),DV(this.editModeDiv),DV(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}},{key:"_createAddNodeButton",value:function(e){var t,n=this._createButton("addNode","vis-add",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,dM(t=this.addNodeMode).call(t,this))}},{key:"_createAddEdgeButton",value:function(e){var t,n=this._createButton("addEdge","vis-connect",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,dM(t=this.addEdgeMode).call(t,this))}},{key:"_createEditNodeButton",value:function(e){var t,n=this._createButton("editNode","vis-edit",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,dM(t=this.editNode).call(t,this))}},{key:"_createEditEdgeButton",value:function(e){var t,n=this._createButton("editEdge","vis-edit",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,dM(t=this.editEdgeMode).call(t,this))}},{key:"_createDeleteButton",value:function(e){var t,n=this._createButton("delete",this.options.rtl?"vis-delete-rtl":"vis-delete",e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,dM(t=this.deleteSelected).call(t,this))}},{key:"_createBackButton",value:function(e){var t,n=this._createButton("back","vis-back",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,dM(t=this.showManipulatorToolbar).call(t,this))}},{key:"_createButton",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"vis-label";return this.manipulationDOM[e+"Div"]=document.createElement("button"),this.manipulationDOM[e+"Div"].className="vis-button "+t,this.manipulationDOM[e+"Label"]=document.createElement("div"),this.manipulationDOM[e+"Label"].className=i,this.manipulationDOM[e+"Label"].innerText=n,this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]),this.manipulationDOM[e+"Div"]}},{key:"_createDescription",value:function(e){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=e,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}},{key:"_temporaryBindEvent",value:function(e,t){this.temporaryEventFunctions.push({event:e,boundFunction:t}),this.body.emitter.on(e,t)}},{key:"_temporaryBindUI",value:function(e,t){if(void 0===this.body.eventListeners[e])throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+FL(NB(this.body.eventListeners)));this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=t}},{key:"_unbindTemporaryUIs",value:function(){for(var e in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var e=0;e<this.temporaryEventFunctions.length;e++)this.body.emitter.off(this.temporaryEventFunctions[e].event,this.temporaryEventFunctions[e].boundFunction);this.temporaryEventFunctions=[]}},{key:"_bindElementEvents",value:function(e,t){var n=new uH(e,{});Tq(n,t),this._domEventListenerCleanupQueue.push(function(){n.destroy()});var i=function(e){var n=e.keyCode,i=e.key;"Enter"!==i&&" "!==i&&13!==n&&32!==n||t()};e.addEventListener("keyup",i,!1),this._domEventListenerCleanupQueue.push(function(){e.removeEventListener("keyup",i,!1)})}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var e=0;e<this.temporaryIds.edges.length;e++){var t;this.body.edges[this.temporaryIds.edges[e]].disconnect(),delete this.body.edges[this.temporaryIds.edges[e]];var n,i=cj(t=this.body.edgeIndices).call(t,this.temporaryIds.edges[e]);-1!==i&&Kj(n=this.body.edgeIndices).call(n,i,1)}for(var r=0;r<this.temporaryIds.nodes.length;r++){var o;delete this.body.nodes[this.temporaryIds.nodes[r]];var s,a=cj(o=this.body.nodeIndices).call(o,this.temporaryIds.nodes[r]);-1!==a&&Kj(s=this.body.nodeIndices).call(s,a,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=AM({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(){var e=this.selectionHandler._pointerToPositionObject(this.lastTouch),t=this.body.nodes[this.temporaryIds.nodes[0]],n=this.body.nodes[this.temporaryIds.nodes[1]],i=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var r=t.isOverlappingWith(e),o=n.isOverlappingWith(e);!0===r?(this.selectedControlNode=t,i.edgeType.from=t):!0===o&&(this.selectedControlNode=n,i.edgeType.to=n),void 0!==this.selectedControlNode&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(e){this.body.emitter.emit("disablePhysics");var t=this.body.functions.getPointer(e.center),n=this.canvas.DOMtoCanvas(t);void 0!==this.selectedControlNode?(this.selectedControlNode.x=n.x,this.selectedControlNode.y=n.y):this.interactionHandler.onDrag(e),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(e){var t=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(t),i=this.body.edges[this.edgeBeingEditedId];if(void 0!==this.selectedControlNode){this.selectionHandler.unselectAll();for(var r=this.selectionHandler._getAllNodesOverlappingWith(n),o=void 0,s=r.length-1;s>=0;s--)if(r[s]!==this.selectedControlNode.id){o=this.body.nodes[r[s]];break}void 0!==o&&void 0!==this.selectedControlNode?!0===o.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.selectedControlNode.id===this.body.nodes[this.temporaryIds.nodes[0]].id?this._performEditEdge(o.id,i.to.id):this._performEditEdge(i.from.id,o.id):(i.updateEdgeType(),this.body.emitter.emit("restorePhysics")),this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(e){if((new Date).valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=AM({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;var t=this.selectionHandler.getNodeAt(this.lastTouch);if(void 0!==t)if(!0===t.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var n=this._getNewTargetNode(t.x,t.y);this.body.nodes[n.id]=n,this.body.nodeIndices.push(n.id);var i=this.body.functions.createEdge({id:"connectionEdge"+_q(),from:t.id,to:n.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[i.id]=i,this.body.edgeIndices.push(i.id),this.temporaryIds.nodes.push(n.id),this.temporaryIds.edges.push(i.id)}this.touchTime=(new Date).valueOf()}}},{key:"_dragControlNode",value:function(e){var t=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(t),i=void 0;void 0!==this.temporaryIds.edges[0]&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var r=this.selectionHandler._getAllNodesOverlappingWith(n),o=void 0,s=r.length-1;s>=0;s--){var a;if(-1===cj(a=this.temporaryIds.nodes).call(a,r[s])){o=this.body.nodes[r[s]];break}}if(e.controlEdge={from:i,to:o?o.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",e,t),void 0!==this.temporaryIds.nodes[0]){var c=this.body.nodes[this.temporaryIds.nodes[0]];c.x=this.canvas._XconvertDOMtoCanvas(t.x),c.y=this.canvas._YconvertDOMtoCanvas(t.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(e)}},{key:"_finishConnect",value:function(e){var t=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(t),i=void 0;void 0!==this.temporaryIds.edges[0]&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var r=this.selectionHandler._getAllNodesOverlappingWith(n),o=void 0,s=r.length-1;s>=0;s--){var a;if(-1===cj(a=this.temporaryIds.nodes).call(a,r[s])){o=this.body.nodes[r[s]];break}}this._cleanupTemporaryNodesAndEdges(),void 0!==o&&(!0===o.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):void 0!==this.body.nodes[i]&&void 0!==this.body.nodes[o.id]&&this._performAddEdge(i,o.id)),e.controlEdge={from:i,to:o?o.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",e,t),this.body.emitter.emit("_redraw")}},{key:"_dragStartEdge",value:function(e){this.selectionHandler.generateClickEvent("dragStart",e,this.lastTouch,void 0,!0)}},{key:"_performAddNode",value:function(e){var t=this,n={id:_q(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if("function"==typeof this.options.addNode){if(2!==this.options.addNode.length)throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");this.options.addNode(n,function(e){null!=e&&"addNode"===t.inMode&&t.body.data.nodes.getDataSet().add(e),t.showManipulatorToolbar()})}else this.body.data.nodes.getDataSet().add(n),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(e,t){var n=this,i={from:e,to:t};if("function"==typeof this.options.addEdge){if(2!==this.options.addEdge.length)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(i,function(e){null!=e&&"addEdge"===n.inMode&&(n.body.data.edges.getDataSet().add(e),n.selectionHandler.unselectAll(),n.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().add(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(e,t){var n=this,i={id:this.edgeBeingEditedId,from:e,to:t,label:this.body.data.edges.get(this.edgeBeingEditedId).label},r=this.options.editEdge;if("object"===WB(r)&&(r=r.editWithoutDrag),"function"==typeof r){if(2!==r.length)throw new Error("The function for edit does not support two arguments (data, callback)");r(i,function(e){null==e||"editEdge"!==n.inMode?(n.body.edges[i.id].updateEdgeType(),n.body.emitter.emit("_redraw"),n.showManipulatorToolbar()):(n.body.data.edges.getDataSet().update(e),n.selectionHandler.unselectAll(),n.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().update(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),e}(),W$="string",q$="boolean",$$="number",G$="object",Y$=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],X$={borderWidth:{number:$$},borderWidthSelected:{number:$$,undefined:"undefined"},brokenImage:{string:W$,undefined:"undefined"},chosen:{label:{boolean:q$,function:"function"},node:{boolean:q$,function:"function"},__type__:{object:G$,boolean:q$}},color:{border:{string:W$},background:{string:W$},highlight:{border:{string:W$},background:{string:W$},__type__:{object:G$,string:W$}},hover:{border:{string:W$},background:{string:W$},__type__:{object:G$,string:W$}},__type__:{object:G$,string:W$}},opacity:{number:$$,undefined:"undefined"},fixed:{x:{boolean:q$},y:{boolean:q$},__type__:{object:G$,boolean:q$}},font:{align:{string:W$},color:{string:W$},size:{number:$$},face:{string:W$},background:{string:W$},strokeWidth:{number:$$},strokeColor:{string:W$},vadjust:{number:$$},multi:{boolean:q$,string:W$},bold:{color:{string:W$},size:{number:$$},face:{string:W$},mod:{string:W$},vadjust:{number:$$},__type__:{object:G$,string:W$}},boldital:{color:{string:W$},size:{number:$$},face:{string:W$},mod:{string:W$},vadjust:{number:$$},__type__:{object:G$,string:W$}},ital:{color:{string:W$},size:{number:$$},face:{string:W$},mod:{string:W$},vadjust:{number:$$},__type__:{object:G$,string:W$}},mono:{color:{string:W$},size:{number:$$},face:{string:W$},mod:{string:W$},vadjust:{number:$$},__type__:{object:G$,string:W$}},__type__:{object:G$,string:W$}},group:{string:W$,number:$$,undefined:"undefined"},heightConstraint:{minimum:{number:$$},valign:{string:W$},__type__:{object:G$,boolean:q$,number:$$}},hidden:{boolean:q$},icon:{face:{string:W$},code:{string:W$},size:{number:$$},color:{string:W$},weight:{string:W$,number:$$},__type__:{object:G$}},id:{string:W$,number:$$},image:{selected:{string:W$,undefined:"undefined"},unselected:{string:W$,undefined:"undefined"},__type__:{object:G$,string:W$}},imagePadding:{top:{number:$$},right:{number:$$},bottom:{number:$$},left:{number:$$},__type__:{object:G$,number:$$}},label:{string:W$,undefined:"undefined"},labelHighlightBold:{boolean:q$},level:{number:$$,undefined:"undefined"},margin:{top:{number:$$},right:{number:$$},bottom:{number:$$},left:{number:$$},__type__:{object:G$,number:$$}},mass:{number:$$},physics:{boolean:q$},scaling:{min:{number:$$},max:{number:$$},label:{enabled:{boolean:q$},min:{number:$$},max:{number:$$},maxVisible:{number:$$},drawThreshold:{number:$$},__type__:{object:G$,boolean:q$}},customScalingFunction:{function:"function"},__type__:{object:G$}},shadow:{enabled:{boolean:q$},color:{string:W$},size:{number:$$},x:{number:$$},y:{number:$$},__type__:{object:G$,boolean:q$}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:q$,array:"array"},borderRadius:{number:$$},interpolation:{boolean:q$},useImageSize:{boolean:q$},useBorderWithImage:{boolean:q$},coordinateOrigin:{string:["center","top-left"]},__type__:{object:G$}},size:{number:$$},title:{string:W$,dom:"dom",undefined:"undefined"},value:{number:$$,undefined:"undefined"},widthConstraint:{minimum:{number:$$},maximum:{number:$$},__type__:{object:G$,boolean:q$,number:$$}},x:{number:$$},y:{number:$$},__type__:{object:G$}},K$={configure:{enabled:{boolean:q$},filter:{boolean:q$,string:W$,array:"array",function:"function"},container:{dom:"dom"},showButton:{boolean:q$},__type__:{object:G$,boolean:q$,string:W$,array:"array",function:"function"}},edges:{arrows:{to:{enabled:{boolean:q$},scaleFactor:{number:$$},type:{string:Y$},imageHeight:{number:$$},imageWidth:{number:$$},src:{string:W$},__type__:{object:G$,boolean:q$}},middle:{enabled:{boolean:q$},scaleFactor:{number:$$},type:{string:Y$},imageWidth:{number:$$},imageHeight:{number:$$},src:{string:W$},__type__:{object:G$,boolean:q$}},from:{enabled:{boolean:q$},scaleFactor:{number:$$},type:{string:Y$},imageWidth:{number:$$},imageHeight:{number:$$},src:{string:W$},__type__:{object:G$,boolean:q$}},__type__:{string:["from","to","middle"],object:G$}},endPointOffset:{from:{number:$$},to:{number:$$},__type__:{object:G$,number:$$}},arrowStrikethrough:{boolean:q$},background:{enabled:{boolean:q$},color:{string:W$},size:{number:$$},dashes:{boolean:q$,array:"array"},__type__:{object:G$,boolean:q$}},chosen:{label:{boolean:q$,function:"function"},edge:{boolean:q$,function:"function"},__type__:{object:G$,boolean:q$}},color:{color:{string:W$},highlight:{string:W$},hover:{string:W$},inherit:{string:["from","to","both"],boolean:q$},opacity:{number:$$},__type__:{object:G$,string:W$}},dashes:{boolean:q$,array:"array"},font:{color:{string:W$},size:{number:$$},face:{string:W$},background:{string:W$},strokeWidth:{number:$$},strokeColor:{string:W$},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:$$},multi:{boolean:q$,string:W$},bold:{color:{string:W$},size:{number:$$},face:{string:W$},mod:{string:W$},vadjust:{number:$$},__type__:{object:G$,string:W$}},boldital:{color:{string:W$},size:{number:$$},face:{string:W$},mod:{string:W$},vadjust:{number:$$},__type__:{object:G$,string:W$}},ital:{color:{string:W$},size:{number:$$},face:{string:W$},mod:{string:W$},vadjust:{number:$$},__type__:{object:G$,string:W$}},mono:{color:{string:W$},size:{number:$$},face:{string:W$},mod:{string:W$},vadjust:{number:$$},__type__:{object:G$,string:W$}},__type__:{object:G$,string:W$}},hidden:{boolean:q$},hoverWidth:{function:"function",number:$$},label:{string:W$,undefined:"undefined"},labelHighlightBold:{boolean:q$},length:{number:$$,undefined:"undefined"},physics:{boolean:q$},scaling:{min:{number:$$},max:{number:$$},label:{enabled:{boolean:q$},min:{number:$$},max:{number:$$},maxVisible:{number:$$},drawThreshold:{number:$$},__type__:{object:G$,boolean:q$}},customScalingFunction:{function:"function"},__type__:{object:G$}},selectionWidth:{function:"function",number:$$},selfReferenceSize:{number:$$},selfReference:{size:{number:$$},angle:{number:$$},renderBehindTheNode:{boolean:q$},__type__:{object:G$}},shadow:{enabled:{boolean:q$},color:{string:W$},size:{number:$$},x:{number:$$},y:{number:$$},__type__:{object:G$,boolean:q$}},smooth:{enabled:{boolean:q$},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:$$},forceDirection:{string:["horizontal","vertical","none"],boolean:q$},__type__:{object:G$,boolean:q$}},title:{string:W$,undefined:"undefined"},width:{number:$$},widthConstraint:{maximum:{number:$$},__type__:{object:G$,boolean:q$,number:$$}},value:{number:$$,undefined:"undefined"},__type__:{object:G$}},groups:{useDefaultGroups:{boolean:q$},__any__:X$,__type__:{object:G$}},interaction:{dragNodes:{boolean:q$},dragView:{boolean:q$},hideEdgesOnDrag:{boolean:q$},hideEdgesOnZoom:{boolean:q$},hideNodesOnDrag:{boolean:q$},hover:{boolean:q$},keyboard:{enabled:{boolean:q$},speed:{x:{number:$$},y:{number:$$},zoom:{number:$$},__type__:{object:G$}},bindToWindow:{boolean:q$},__type__:{object:G$,boolean:q$}},multiselect:{boolean:q$},navigationButtons:{boolean:q$},selectable:{boolean:q$},selectConnectedEdges:{boolean:q$},hoverConnectedEdges:{boolean:q$},tooltipDelay:{number:$$},zoomView:{boolean:q$},zoomSpeed:{number:$$},__type__:{object:G$}},layout:{randomSeed:{undefined:"undefined",number:$$,string:W$},improvedLayout:{boolean:q$},clusterThreshold:{number:$$},hierarchical:{enabled:{boolean:q$},levelSeparation:{number:$$},nodeSpacing:{number:$$},treeSpacing:{number:$$},blockShifting:{boolean:q$},edgeMinimization:{boolean:q$},parentCentralization:{boolean:q$},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:G$,boolean:q$}},__type__:{object:G$}},manipulation:{enabled:{boolean:q$},initiallyActive:{boolean:q$},addNode:{boolean:q$,function:"function"},addEdge:{boolean:q$,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:G$,boolean:q$,function:"function"}},deleteNode:{boolean:q$,function:"function"},deleteEdge:{boolean:q$,function:"function"},controlNodeStyle:X$,__type__:{object:G$,boolean:q$}},nodes:X$,physics:{enabled:{boolean:q$},barnesHut:{theta:{number:$$},gravitationalConstant:{number:$$},centralGravity:{number:$$},springLength:{number:$$},springConstant:{number:$$},damping:{number:$$},avoidOverlap:{number:$$},__type__:{object:G$}},forceAtlas2Based:{theta:{number:$$},gravitationalConstant:{number:$$},centralGravity:{number:$$},springLength:{number:$$},springConstant:{number:$$},damping:{number:$$},avoidOverlap:{number:$$},__type__:{object:G$}},repulsion:{centralGravity:{number:$$},springLength:{number:$$},springConstant:{number:$$},nodeDistance:{number:$$},damping:{number:$$},__type__:{object:G$}},hierarchicalRepulsion:{centralGravity:{number:$$},springLength:{number:$$},springConstant:{number:$$},nodeDistance:{number:$$},damping:{number:$$},avoidOverlap:{number:$$},__type__:{object:G$}},maxVelocity:{number:$$},minVelocity:{number:$$},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:q$},iterations:{number:$$},updateInterval:{number:$$},onlyDynamicEdges:{boolean:q$},fit:{boolean:q$},__type__:{object:G$,boolean:q$}},timestep:{number:$$},adaptiveTimestep:{boolean:q$},wind:{x:{number:$$},y:{number:$$},__type__:{object:G$}},__type__:{object:G$,boolean:q$}},autoResize:{boolean:q$},clickToUse:{boolean:q$},locale:{string:W$},locales:{__any__:{any:"any"},__type__:{object:G$}},height:{string:W$},width:{string:W$},__type__:{object:G$}},Z$={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},Q$=function(e,t,n){var i;return!(!Uj(e).call(e,"physics")||!Uj(i=Z$.physics.solver).call(i,t)||n.physics.solver===t||"wind"===t)},J$=function(){function e(){LL(this,e)}return zL(e,[{key:"getDistances",value:function(e,t,n){for(var i={},r=e.edges,o=0;o<t.length;o++){var s={};i[t[o]]=s;for(var a=0;a<t.length;a++)s[t[a]]=o==a?0:1e9}for(var c=0;c<n.length;c++){var l=r[n[c]];!0===l.connected&&void 0!==i[l.fromId]&&void 0!==i[l.toId]&&(i[l.fromId][l.toId]=1,i[l.toId][l.fromId]=1)}for(var h=t.length,d=0;d<h;d++)for(var u=t[d],p=i[u],f=0;f<h-1;f++)for(var m=t[f],g=i[m],v=f+1;v<h;v++){var y=t[v],b=i[y],_=Math.min(g[y],g[u]+p[y]);g[y]=_,b[m]=_}return i}}]),e}(),eG=function(){function e(t,n,i){LL(this,e),this.body=t,this.springLength=n,this.springConstant=i,this.distanceSolver=new J$}return zL(e,[{key:"setOptions",value:function(e){e&&(e.springLength&&(this.springLength=e.springLength),e.springConstant&&(this.springConstant=e.springConstant))}},{key:"solve",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.distanceSolver.getDistances(this.body,e,t);this._createL_matrix(i),this._createK_matrix(i),this._createE_matrix();for(var r=.01,o=1,s=0,a=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),c=5,l=1e9,h=0,d=0,u=0,p=0,f=0;l>r&&s<a;){s+=1;var m=this._getHighestEnergyNode(n),g=AB(m,4);for(h=g[0],d=g[2],u=g[3],p=l=g[1],f=0;p>o&&f<c;){f+=1,this._moveNode(h,d,u);var v=this._getEnergy(h),y=AB(v,3);p=y[0],d=y[1],u=y[2]}}}},{key:"_getHighestEnergyNode",value:function(e){for(var t=this.body.nodeIndices,n=this.body.nodes,i=0,r=t[0],o=0,s=0,a=0;a<t.length;a++){var c=t[a];if(!0!==n[c].predefinedPosition||!0===n[c].isCluster&&!0===e||!0!==n[c].options.fixed.x||!0!==n[c].options.fixed.y){var l=this._getEnergy(c),h=AB(l,3),d=h[0];i<d&&(i=d,r=c,o=h[1],s=h[2])}}return[r,i,o,s]}},{key:"_getEnergy",value:function(e){var t=AB(this.E_sums[e],2),n=t[0],i=t[1];return[Math.sqrt(Math.pow(n,2)+Math.pow(i,2)),n,i]}},{key:"_moveNode",value:function(e,t,n){for(var i=this.body.nodeIndices,r=this.body.nodes,o=0,s=0,a=0,c=r[e].x,l=r[e].y,h=this.K_matrix[e],d=this.L_matrix[e],u=0;u<i.length;u++){var p=i[u];if(p!==e){var f=r[p].x,m=r[p].y,g=h[p],v=d[p],y=1/Math.pow(Math.pow(c-f,2)+Math.pow(l-m,2),1.5);o+=g*(1-v*Math.pow(l-m,2)*y),s+=g*(v*(c-f)*(l-m)*y),a+=g*(1-v*Math.pow(c-f,2)*y)}}var b=(t/o+n/s)/(s/o-a/s);r[e].x+=-(s*b+t)/o,r[e].y+=b,this._updateE_matrix(e)}},{key:"_createL_matrix",value:function(e){var t=this.body.nodeIndices,n=this.springLength;this.L_matrix=[];for(var i=0;i<t.length;i++){this.L_matrix[t[i]]={};for(var r=0;r<t.length;r++)this.L_matrix[t[i]][t[r]]=n*e[t[i]][t[r]]}}},{key:"_createK_matrix",value:function(e){var t=this.body.nodeIndices,n=this.springConstant;this.K_matrix=[];for(var i=0;i<t.length;i++){this.K_matrix[t[i]]={};for(var r=0;r<t.length;r++)this.K_matrix[t[i]][t[r]]=n*Math.pow(e[t[i]][t[r]],-2)}}},{key:"_createE_matrix",value:function(){var e=this.body.nodeIndices,t=this.body.nodes;this.E_matrix={},this.E_sums={};for(var n=0;n<e.length;n++)this.E_matrix[e[n]]=[];for(var i=0;i<e.length;i++){for(var r=e[i],o=t[r].x,s=t[r].y,a=0,c=0,l=i;l<e.length;l++){var h=e[l];if(h!==r){var d=t[h].x,u=t[h].y,p=1/Math.sqrt(Math.pow(o-d,2)+Math.pow(s-u,2));this.E_matrix[r][l]=[this.K_matrix[r][h]*(o-d-this.L_matrix[r][h]*(o-d)*p),this.K_matrix[r][h]*(s-u-this.L_matrix[r][h]*(s-u)*p)],this.E_matrix[h][i]=this.E_matrix[r][l],a+=this.E_matrix[r][l][0],c+=this.E_matrix[r][l][1]}}this.E_sums[r]=[a,c]}}},{key:"_updateE_matrix",value:function(e){for(var t=this.body.nodeIndices,n=this.body.nodes,i=this.E_matrix[e],r=this.K_matrix[e],o=this.L_matrix[e],s=n[e].x,a=n[e].y,c=0,l=0,h=0;h<t.length;h++){var d=t[h];if(d!==e){var u=i[h],p=u[0],f=u[1],m=n[d].x,g=n[d].y,v=1/Math.sqrt(Math.pow(s-m,2)+Math.pow(a-g,2)),y=r[d]*(s-m-o[d]*(s-m)*v),b=r[d]*(a-g-o[d]*(a-g)*v);i[h]=[y,b],c+=y,l+=b;var _=this.E_sums[d];_[0]+=y-p,_[1]+=b-f}}this.E_sums[e]=[c,l]}}]),e}();function tG(e,t,n){var i,r,o,s,a=this;if(!(this instanceof tG))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:HH,clickToUse:!1},AM(this.options,this.defaultOptions),this.body={container:e,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:dM(i=this.on).call(i,this),off:dM(r=this.off).call(r,this),emit:dM(o=this.emit).call(o,this),once:dM(s=this.once).call(s,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new WH(function(){return a.body.emitter.emit("_requestRedraw")}),this.groups=new lU,this.canvas=new Rq(this.body),this.selectionHandler=new c$(this.body,this.canvas),this.interactionHandler=new Nq(this.body,this.canvas,this.selectionHandler),this.view=new Aq(this.body,this.canvas),this.renderer=new Eq(this.body,this.canvas),this.physics=new pq(this.body),this.layoutEngine=new V$(this.body),this.clustering=new Sq(this.body),this.manipulation=new U$(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new CW(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new rq(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new eG(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(n),this.setData(t)}BM(tG.prototype),tG.prototype.setOptions=function(e){var t=this;if(null===e&&(e=void 0),void 0!==e){if(!0===fH.validate(e,K$)&&console.error("%cErrors have been found in the supplied options object.","background: #FFeeee; color: #dd0000"),jV(["locale","locales","clickToUse"],this.options,e),void 0!==e.locale&&(e.locale=function(e,t){try{var n=t.split(/[-_ /]/,2),i=AB(n,2),r=i[0],o=i[1],s=null!=r?r.toLowerCase():null,a=null!=o?o.toUpperCase():null;if(s&&a){var c,l=s+"-"+a;if(Object.prototype.hasOwnProperty.call(e,l))return l;console.warn(XB(c="Unknown variant ".concat(a," of language ")).call(c,s,"."))}if(s){var h=s;if(Object.prototype.hasOwnProperty.call(e,h))return h;console.warn("Unknown language ".concat(s))}return console.warn("Unknown locale ".concat(t,", falling back to English.")),"en"}catch(aK){return console.error(aK),console.warn("Unexpected error while normalizing locale ".concat(t,", falling back to English.")),"en"}}(e.locales||this.options.locales,e.locale)),e=this.layoutEngine.setOptions(e.layout,e),this.canvas.setOptions(e),this.groups.setOptions(e.groups),this.nodesHandler.setOptions(e.nodes),this.edgesHandler.setOptions(e.edges),this.physics.setOptions(e.physics),this.manipulation.setOptions(e.manipulation,e,this.options),this.interactionHandler.setOptions(e.interaction),this.renderer.setOptions(e.interaction),this.selectionHandler.setOptions(e.interaction),void 0!==e.groups&&this.body.emitter.emit("refreshNodes"),"configure"in e&&(this.configurator||(this.configurator=new dH(this,this.body.container,Z$,this.canvas.pixelRatio,Q$)),this.configurator.setOptions(e.configure)),this.configurator&&!0===this.configurator.options.enabled){var n={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};zV(n.nodes,this.nodesHandler.options),zV(n.edges,this.edgesHandler.options),zV(n.layout,this.layoutEngine.options),zV(n.interaction,this.selectionHandler.options),zV(n.interaction,this.renderer.options),zV(n.interaction,this.interactionHandler.options),zV(n.manipulation,this.manipulation.options),zV(n.physics,this.physics.options),zV(n.global,this.canvas.options),zV(n.global,this.options),this.configurator.setModuleOptions(n)}void 0!==e.clickToUse?!0===e.clickToUse?void 0===this.activator&&(this.activator=new hH(this.canvas.frame),this.activator.on("change",function(){t.body.emitter.emit("activate")})):(void 0!==this.activator&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},tG.prototype._updateVisibleIndices=function(){var e=this.body.nodes,t=this.body.edges;for(var n in this.body.nodeIndices=[],this.body.edgeIndices=[],e)Object.prototype.hasOwnProperty.call(e,n)&&(this.clustering._isClusteredNode(n)||!1!==e[n].options.hidden||this.body.nodeIndices.push(e[n].id));for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var r=t[i],o=e[r.fromId],s=e[r.toId],a=void 0!==o&&void 0!==s;!this.clustering._isClusteredEdge(i)&&!1===r.options.hidden&&a&&!1===o.options.hidden&&!1===s.options.hidden&&this.body.edgeIndices.push(r.id)}},tG.prototype.bindEventListeners=function(){var e=this;this.body.emitter.on("_dataChanged",function(){e.edgesHandler._updateState(),e.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",function(){e.clustering._updateState(),e._updateVisibleIndices(),e._updateValueRange(e.body.nodes),e._updateValueRange(e.body.edges),e.body.emitter.emit("startSimulation"),e.body.emitter.emit("_requestRedraw")})},tG.prototype.setData=function(e){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),e&&e.dot&&(e.nodes||e.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(e&&e.options),e&&e.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var t=function(e){var t,n=function(e){return yH=e,function(){var e={};if(bH=0,_H=yH.charAt(0),AH(),"strict"===wH&&(e.strict=!0,AH()),"graph"!==wH&&"digraph"!==wH||(e.type=wH,AH()),2===CH&&(e.id=wH,AH()),"{"!=wH)throw jH("Angle bracket { expected");if(AH(),DH(e),"}"!=wH)throw jH("Angle bracket } expected");if(AH(),""!==wH)throw jH("End of file expected");return AH(),delete e.node,delete e.edge,delete e.graph,e}()}(e),i={nodes:[],edges:[],options:{}};if(n.nodes&&lB(t=n.nodes).call(t,function(e){var t={id:e.id,label:String(e.label||e.id)};OH(t,VH(e.attr,mH)),t.image&&(t.shape="image"),i.nodes.push(t)}),n.edges){var r,o=function(e){var t={from:e.from,to:e.to};return OH(t,VH(e.attr,gH)),null==t.arrows&&"->"===e.type&&(t.arrows="to"),t};lB(r=n.edges).call(r,function(e){var t,n,r,s,a,c,l;t=e.from instanceof Object?e.from.nodes:{id:e.from},n=e.to instanceof Object?e.to.nodes:{id:e.to},e.from instanceof Object&&e.from.edges&&lB(r=e.from.edges).call(r,function(e){var t=o(e);i.edges.push(t)}),a=n,c=function(t,n){var r=IH(i,t.id,n.id,e.type,e.attr),s=o(r);i.edges.push(s)},HB(s=t)?lB(s).call(s,function(e){HB(a)?lB(a).call(a,function(t){c(e,t)}):c(e,a)}):HB(a)?lB(a).call(a,function(e){c(s,e)}):c(s,a),e.to instanceof Object&&e.to.edges&&lB(l=e.to.edges).call(l,function(e){var t=o(e);i.edges.push(t)})})}return n.attr&&(i.options=n.attr),i}(e.dot);this.setData(t)}else if(e&&e.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var n=(o={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}},a=VB(s=(i=e.gephi).edges).call(s,function(e){var t={from:e.source,id:e.id,to:e.target};return null!=e.attributes&&(t.attributes=e.attributes),null!=e.label&&(t.label=e.label),null!=e.attributes&&null!=e.attributes.title&&(t.title=e.attributes.title),"Directed"===e.type&&(t.arrows="to"),e.color&&!1===o.edges.inheritColor&&(t.color=e.color),t}),{nodes:VB(r=i.nodes).call(r,function(e){var t={id:e.id,fixed:o.nodes.fixed&&null!=e.x&&null!=e.y};return null!=e.attributes&&(t.attributes=e.attributes),null!=e.label&&(t.label=e.label),null!=e.size&&(t.size=e.size),null!=e.attributes&&null!=e.attributes.title&&(t.title=e.attributes.title),null!=e.title&&(t.title=e.title),null!=e.x&&(t.x=e.x),null!=e.y&&(t.y=e.y),null!=e.color&&(t.color=!0===o.nodes.parseColor?e.color:{background:e.color,border:e.color,highlight:{background:e.color,border:e.color},hover:{background:e.color,border:e.color}}),t}),edges:a});this.setData(n)}else this.nodesHandler.setData(e&&e.nodes,!0),this.edgesHandler.setData(e&&e.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics");var i,r,o,s,a},tG.prototype.destroy=function(){for(var e in this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images,this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,e)&&delete this.body.nodes[e];for(var t in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,t)&&delete this.body.edges[t];DV(this.body.container)},tG.prototype._updateValueRange=function(e){var t,n=void 0,i=void 0,r=0;for(t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var o=e[t].getValue();void 0!==o&&(n=void 0===n?o:Math.min(o,n),i=void 0===i?o:Math.max(o,i),r+=o)}if(void 0!==n&&void 0!==i)for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&e[t].setValueRange(n,i,r)},tG.prototype.isActive=function(){return!this.activator||this.activator.active},tG.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},tG.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},tG.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},tG.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},tG.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},tG.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},tG.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},tG.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},tG.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},tG.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},tG.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)},tG.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)},tG.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)},tG.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)},tG.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)},tG.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},tG.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},tG.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},tG.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},tG.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},tG.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},tG.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},tG.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},tG.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},tG.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},tG.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},tG.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)},tG.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},tG.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},tG.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},tG.prototype.getConnectedNodes=function(e){return void 0!==this.body.nodes[e]?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},tG.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},tG.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},tG.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},tG.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},tG.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},tG.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},tG.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)},tG.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)},tG.prototype.getNodeAt=function(){var e=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return void 0!==e&&void 0!==e.id?e.id:e},tG.prototype.getEdgeAt=function(){var e=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return void 0!==e&&void 0!==e.id?e.id:e},tG.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},tG.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},tG.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.redraw()},tG.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},tG.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},tG.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},tG.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},tG.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},tG.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},tG.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},tG.prototype.getOptionsFromConfigurator=function(){var e={};return this.configurator&&(e=this.configurator.getOptions.apply(this.configurator)),e};const nG=["networkContainer"];let iG=(()=>{class e{constructor(e,t){this.audioService=e,this.graphService=t,this.expectedNodes=1,this.data={nodes:new pD([{id:"Table",font:{size:48},label:"Table",shape:"ellipse",fixed:{x:!0,y:!0},x:0,y:0}]),edges:new pD([])},this.options={nodes:{shape:"hexagon",font:{color:"black"}},autoResize:!0,physics:{enabled:!0,forceAtlas2Based:{springLength:0,springConstant:0},minVelocity:.75,solver:"forceAtlas2Based",timestep:.34,stabilization:{enabled:!0,iterations:1e3,fit:!0}},layout:{randomSeed:25},interaction:{hover:!1}},this.network=null}ngAfterViewInit(){this.network=new tG(this.networkContainer.nativeElement,this.data,this.options),this.network.on("dragEnd",e=>{e.nodes.length>0&&"Table"!==e.nodes[0]&&(e.nodes[0]===this.rootId?this.data.nodes.forEach(e=>{e.id!==this.rootId&&"Table"!==e.id&&this.updateDistanceToRoot(e.id)}):this.updateDistanceToRoot(e.nodes[0]))}),this.graphService.setNumberOfExpectedNodesSubject.subscribe(e=>{this.expectedNodes=e}),this.graphService.addNodeSubject.subscribe(e=>{this.data.nodes.length-1>=this.expectedNodes&&this.network.once("stabilized",e=>{this.network.setOptions({physics:{enabled:!1}}),this.data.nodes.forEach(e=>{"Table"!==e.id&&e.id!==this.rootId&&this.updateDistanceToRoot(e.id)})}),this.network.setOptions({physics:{enabled:!0}}),e.shape="hexagon",this.data.nodes.add(e)}),this.graphService.removeNodeSubject.subscribe(e=>{this.data.nodes.remove(e)})}updateDistanceToRoot(e){const t=this.network.getPosition(e),n=this.network.getPosition(this.rootId),i=this.network.getPosition("Table"),r=[t.x-i.x,t.y-i.y],o=[n.x-i.x,n.y-i.y],s=this.dist(o,[0,0]),a=Math.acos(o[1]/s),c=this.rotateClockwise(o[0],o[1],a);this.rotateCounterClockwise(o[0],o[1],a);let l=null;l=c[0]<1e-4?this.rotateClockwise(r[0],r[1],a):this.rotateCounterClockwise(r[0],r[1],a),this.audioService.updatePosition({userId:e,position:{x:l[0],y:l[1],z:0}})}dist(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))}rotateClockwise(e,t,n){return[Math.cos(n)*e+Math.sin(n)*t,-Math.sin(n)*e+Math.cos(n)*t]}rotateCounterClockwise(e,t,n){return[Math.cos(n)*e-Math.sin(n)*t,Math.sin(n)*e+Math.cos(n)*t]}}return e.\u0275fac=function(t){return new(t||e)(Io(Sy),Io(Dy))},e.\u0275cmp=Ze({type:e,selectors:[["ms-graph"]],viewQuery:function(e,t){if(1&e&&Za(nG,!0),2&e){let e;Ka(e=nc())&&(t.networkContainer=e.first)}},inputs:{rootId:"rootId"},decls:3,vars:0,consts:[["id","network"],["networkContainer",""]],template:function(e,t){1&e&&(vs(0,"Graph Positioning\n"),Lo(1,"div",0,1))},styles:["#network[_ngcontent-%COMP%]{background-color:#999;width:100%;height:300px}"]}),e})();const rG=["client"],oG=["people"];function sG(e,t){}let aG=(()=>{class e{constructor(e,t,n,i,r,o,s){this.audioService=e,this.graphService=t,this.transportService=n,this.socket=i,this.resolver=r,this.route=o,this.router=s,this.device=null,this.rtpCapabilities=null,this.roomId=null,this.userName=null,this.localProducerTransport=null,this.localConsumerTransport=null,this.localConsumers={},this.consumerVideos={},this.socket.connect(),this.device=new My.Device,this.roomId=this.route.snapshot.paramMap.get("roomId"),this.userName=this.route.snapshot.queryParamMap.get("userName"),i.emit("joinRoom",{roomId:this.roomId,userName:this.userName})}beforeunloadHandler(e){window.onbeforeunload=null,this.cleanup()}ngOnInit(){this.socket.on("newProducer",e=>Qp(this,void 0,void 0,function*(){null!=this.localConsumerTransport&&this.transportService.createConsumer({roomId:this.roomId,destUserName:this.userName,sourceUserName:e.sourceUserName,kind:e.producer.kind,rtpCapabilities:this.rtpCapabilities})})),this.socket.on("newConsumers",e=>{this.graphService.setNumberOfExpectedNodes(e.length),e.forEach(e=>Qp(this,void 0,void 0,function*(){const t=e.sourceUserName;t in this.localConsumers||(this.localConsumers[t]={}),this.localConsumers[t][e.kind]=yield this.localConsumerTransport.consume({id:e.consumerId,producerId:e.producerId,kind:e.kind,rtpParameters:e.rtpParameters}),yield this.transportService.resumeConsumer({roomId:this.roomId,sourceUserName:t,destUserName:this.userName,kind:e.kind});const{track:n}=this.localConsumers[t][e.kind];if("audio"===n.kind){yield this.audioService.addSourceNode(t,n);const e=this.audioService.getUpdatedTracks();this.client.nativeElement.srcObject.addTrack(e),this.graphService.addNode({id:t,label:t})}else{const e=new MediaStream;e.addTrack(n);const i=this.resolver.resolveComponentFactory(zS),r=this.people.createComponent(i);r.instance.stream=e,r.instance.volume=.5,r.instance.name=t,this.consumerVideos[t]=r}}))}),this.socket.on("removedProducer",e=>Qp(this,void 0,void 0,function*(){const t={roomId:this.roomId,userName:this.userName,removedUserName:e.userName};yield this.transportService.removeConsumer(t),this.localConsumers[e.userName].video.close(),this.localConsumers[e.userName].audio.close(),delete this.localConsumers[e.userName],this.graphService.removeNode(e.userName),this.people.remove(this.people.indexOf(this.consumerVideos[e.userName].hostView)),delete this.consumerVideos[e.userName],this.audioService.removeSourceNode(e.userName)})),this.joinRoom()}ngOnDestroy(){}retrieveRtpCapabilities(e){this.transportService.getRouterRtpCapabilities(e).then(e=>Qp(this,void 0,void 0,function*(){yield this.device.load({routerRtpCapabilities:e}),this.rtpCapabilities=e}))}joinRoom(){return Qp(this,void 0,void 0,function*(){if(null===this.roomId)throw new Error("Invalid Room!");yield this.retrieveRtpCapabilities(this.roomId),yield this.audioService.initialize(),yield this.createTransports(),yield this.produceMedia(),this.getOtherUsersMedia()})}createTransports(){return Qp(this,void 0,void 0,function*(){const e=yield this.transportService.createProducerTransport({roomId:this.roomId,userName:this.userName});this.localProducerTransport=yield this.device.createSendTransport(e),this.localProducerTransport.on("connect",({dtlsParameters:e},t,n)=>Qp(this,void 0,void 0,function*(){try{yield this.transportService.connectProducerTransport({roomId:this.roomId,userName:this.userName,dtlsParameters:e}),t()}catch(aK){n(aK)}})),this.localProducerTransport.on("produce",(e,t,n)=>Qp(this,void 0,void 0,function*(){try{const n=yield this.transportService.createProducer({roomId:this.roomId,userName:this.userName,kind:e.kind,rtpParameters:e.rtpParameters,appData:e.appData});t({id:n.id})}catch(aK){n(aK)}})),this.graphService.addNode({id:this.userName,label:"You"});const t=yield this.transportService.createConsumerTransport({roomId:this.roomId,userName:this.userName});this.localConsumerTransport=yield this.device.createRecvTransport(t),this.localConsumerTransport.on("connect",({dtlsParameters:e},t,n)=>Qp(this,void 0,void 0,function*(){try{yield this.transportService.connectConsumerTransport({roomId:this.roomId,userName:this.userName,dtlsParameters:e}),t()}catch(aK){n(aK)}}))})}produceMedia(){return Qp(this,void 0,void 0,function*(){yield this.produceVideo(),yield this.produceAudio()})}getOtherUsersMedia(){return Qp(this,void 0,void 0,function*(){yield this.transportService.createBatchConsumers({roomId:this.roomId,userName:this.userName,kind:"video",rtpCapabilities:this.rtpCapabilities}),yield this.transportService.createBatchConsumers({roomId:this.roomId,userName:this.userName,kind:"audio",rtpCapabilities:this.rtpCapabilities})})}leaveRoom(){return Qp(this,void 0,void 0,function*(){yield this.cleanup(),this.router.navigate(["/login"])})}produceVideo(){return Qp(this,void 0,void 0,function*(){const e=yield navigator.mediaDevices.getUserMedia({video:{width:320,height:240}}),t=e.getVideoTracks()[0];yield this.localProducerTransport.produce({track:t}),this.client.nativeElement.srcObject=e})}produceAudio(){return Qp(this,void 0,void 0,function*(){const e=(yield navigator.mediaDevices.getUserMedia({audio:{channelCount:2}})).getAudioTracks()[0];yield this.localProducerTransport.produce({track:e})})}cleanup(){this.transportService.cleanup({roomId:this.roomId,userName:this.userName}),this.localProducerTransport.close(),this.localConsumerTransport.close(),this.socket.disconnect()}}return e.\u0275fac=function(t){return new(t||e)(Io(Sy),Io(Dy),Io(Ay),Io(Iy),Io(js),Io(pu),Io(Ap))},e.\u0275cmp=Ze({type:e,selectors:[["ms-room"]],viewQuery:function(e,t){if(1&e&&(Za(rG,!0),Za(oG,!0,Sa)),2&e){let e;Ka(e=nc())&&(t.client=e.first),Ka(e=nc())&&(t.people=e.first)}},hostBindings:function(e,t){1&e&&Uo("beforeunload",function(e){return t.beforeunloadHandler(e)},!1,yi)},features:[Ns([Iy,Ay,Sy,Dy])],decls:15,vars:2,consts:[[1,"container"],[1,"row","top-buffer"],[1,"col-sm"],["type","text","readonly","",1,"form-control",3,"value"],["autoplay","true",1,"top-buffer"],["client",""],[3,"rootId"],[1,"row","top-buffer","justify-content-center"],["people",""],[1,"btn","btn-primary",3,"click"]],template:function(e,t){1&e&&(No(0,"div",0),No(1,"div",1),No(2,"div",2),vs(3," Meeting ID: "),Lo(4,"input",3),Lo(5,"video",4,5),Fo(),No(7,"div",2),Lo(8,"ms-graph",6),Fo(),Fo(),No(9,"div",7),Ro(10,sG,0,0,"ng-template",null,8,sc),Fo(),No(12,"div",1),No(13,"button",9),Uo("click",function(){return t.leaveRoom()}),vs(14,"Leave Meeting"),Fo(),Fo(),Fo()),2&e&&(or(4),Ko("value",t.roomId),or(4),Do("rootId",t.userName))},directives:[iG],styles:[".top-buffer[_ngcontent-%COMP%]{margin-top:20px}"]}),e})();class cG{}class lG{}class hG{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(e=>{const t=e.indexOf(":");if(t>0){const n=e.slice(0,t),i=n.toLowerCase(),r=e.slice(t+1).trim();this.maybeSetNormalizedName(n,i),this.headers.has(i)?this.headers.get(i).push(r):this.headers.set(i,[r])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let n=e[t];const i=t.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(i,n),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof hG?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new hG;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof hG?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...n),this.headers.set(t,i);break;case"d":const r=e.value;if(r){let e=this.headers.get(t);if(!e)return;e=e.filter(e=>-1===r.indexOf(e)),0===e.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class dG{encodeKey(e){return uG(e)}encodeValue(e){return uG(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}function uG(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class pG{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new dG,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){const n=new Map;return e.length>0&&e.split("&").forEach(e=>{const i=e.indexOf("="),[r,o]=-1==i?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,i)),t.decodeValue(e.slice(i+1))],s=n.get(r)||[];s.push(o),n.set(r,s)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const n=e.fromObject[t];this.map.set(t,Array.isArray(n)?n:[n])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(e=>t+"="+this.encoder.encodeValue(e)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new pG({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat([e]),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(e.value),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[];const n=t.indexOf(e.value);-1!==n&&t.splice(n,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}function fG(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function mG(e){return"undefined"!=typeof Blob&&e instanceof Blob}function gG(e){return"undefined"!=typeof FormData&&e instanceof FormData}class vG{constructor(e,t,n,i){let r;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,r=i):r=n,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.params&&(this.params=r.params)),this.headers||(this.headers=new hG),this.params){const e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{const n=t.indexOf("?");this.urlWithParams=t+(-1===n?"?":n<t.length-1?"&":"")+e}}else this.params=new pG,this.urlWithParams=t}serializeBody(){return null===this.body?null:fG(this.body)||mG(this.body)||gG(this.body)||"string"==typeof this.body?this.body:this.body instanceof pG?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||gG(this.body)?null:mG(this.body)?this.body.type||null:fG(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof pG?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(e={}){const t=e.method||this.method,n=e.url||this.url,i=e.responseType||this.responseType,r=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,s=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let a=e.headers||this.headers,c=e.params||this.params;return void 0!==e.setHeaders&&(a=Object.keys(e.setHeaders).reduce((t,n)=>t.set(n,e.setHeaders[n]),a)),e.setParams&&(c=Object.keys(e.setParams).reduce((t,n)=>t.set(n,e.setParams[n]),c)),new vG(t,n,r,{params:c,headers:a,reportProgress:s,responseType:i,withCredentials:o})}}var yG=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}({});class bG{constructor(e,t=200,n="OK"){this.headers=e.headers||new hG,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class _G extends bG{constructor(e={}){super(e),this.type=yG.ResponseHeader}clone(e={}){return new _G({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class wG extends bG{constructor(e={}){super(e),this.type=yG.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new wG({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class CG extends bG{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(e.url||"(unknown url)"):`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function SG(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let kG=(()=>{class e{constructor(e){this.handler=e}request(e,t,n={}){let i;if(e instanceof vG)i=e;else{let r=void 0;r=n.headers instanceof hG?n.headers:new hG(n.headers);let o=void 0;n.params&&(o=n.params instanceof pG?n.params:new pG({fromObject:n.params})),i=new vG(e,t,void 0!==n.body?n.body:null,{headers:r,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const r=fh(i).pipe(ed(e=>this.handler.handle(e)));if(e instanceof vG||"events"===n.observe)return r;const o=r.pipe(Oh(e=>e instanceof wG));switch(n.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return o.pipe(E(e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return o.pipe(E(e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return o.pipe(E(e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return o.pipe(E(e=>e.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new pG).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,n={}){return this.request("PATCH",e,SG(n,t))}post(e,t,n={}){return this.request("POST",e,SG(n,t))}put(e,t,n={}){return this.request("PUT",e,SG(n,t))}}return e.\u0275fac=function(t){return new(t||e)(yt(cG))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();class xG{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const EG=new be("HTTP_INTERCEPTORS");let OG=(()=>{class e{intercept(e,t){return t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const TG=/^\)\]\}',?\n/;class PG{}let RG=(()=>{class e{constructor(){}build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),IG=(()=>{class e{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new y(t=>{const n=this.xhrFactory.build();if(n.open(e.method,e.urlWithParams),e.withCredentials&&(n.withCredentials=!0),e.headers.forEach((e,t)=>n.setRequestHeader(e,t.join(","))),e.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const t=e.detectContentTypeHeader();null!==t&&n.setRequestHeader("Content-Type",t)}if(e.responseType){const t=e.responseType.toLowerCase();n.responseType="json"!==t?t:"text"}const i=e.serializeBody();let r=null;const o=()=>{if(null!==r)return r;const t=1223===n.status?204:n.status,i=n.statusText||"OK",o=new hG(n.getAllResponseHeaders()),s=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(n)||e.url;return r=new _G({headers:o,status:t,statusText:i,url:s}),r},s=()=>{let{headers:i,status:r,statusText:s,url:a}=o(),c=null;204!==r&&(c=void 0===n.response?n.responseText:n.response),0===r&&(r=c?200:0);let l=r>=200&&r<300;if("json"===e.responseType&&"string"==typeof c){const e=c;c=c.replace(TG,"");try{c=""!==c?JSON.parse(c):null}catch(aK){c=e,l&&(l=!1,c={error:aK,text:c})}}l?(t.next(new wG({body:c,headers:i,status:r,statusText:s,url:a||void 0})),t.complete()):t.error(new CG({error:c,headers:i,status:r,statusText:s,url:a||void 0}))},a=e=>{const{url:i}=o(),r=new CG({error:e,status:n.status||0,statusText:n.statusText||"Unknown Error",url:i||void 0});t.error(r)};let c=!1;const l=i=>{c||(t.next(o()),c=!0);let r={type:yG.DownloadProgress,loaded:i.loaded};i.lengthComputable&&(r.total=i.total),"text"===e.responseType&&n.responseText&&(r.partialText=n.responseText),t.next(r)},h=e=>{let n={type:yG.UploadProgress,loaded:e.loaded};e.lengthComputable&&(n.total=e.total),t.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),e.reportProgress&&(n.addEventListener("progress",l),null!==i&&n.upload&&n.upload.addEventListener("progress",h)),n.send(i),t.next({type:yG.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",s),e.reportProgress&&(n.removeEventListener("progress",l),null!==i&&n.upload&&n.upload.removeEventListener("progress",h)),n.readyState!==n.DONE&&n.abort()}})}}return e.\u0275fac=function(t){return new(t||e)(yt(PG))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const AG=new be("XSRF_COOKIE_NAME"),DG=new be("XSRF_HEADER_NAME");class MG{}let NG=(()=>{class e{constructor(e,t,n){this.doc=e,this.platform=t,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=El(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return e.\u0275fac=function(t){return new(t||e)(yt(ol),yt(pc),yt(AG))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),FG=(()=>{class e{constructor(e,t){this.tokenService=e,this.headerName=t}intercept(e,t){const n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);const i=this.tokenService.getToken();return null===i||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,i)})),t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(yt(MG),yt(DG))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),LG=(()=>{class e{constructor(e,t){this.backend=e,this.injector=t,this.chain=null}handle(e){if(null===this.chain){const e=this.injector.get(EG,[]);this.chain=e.reduceRight((e,t)=>new xG(e,t),this.backend)}return this.chain.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(yt(lG),yt(go))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),jG=(()=>{class e{static disable(){return{ngModule:e,providers:[{provide:FG,useClass:OG}]}}static withOptions(t={}){return{ngModule:e,providers:[t.cookieName?{provide:AG,useValue:t.cookieName}:[],t.headerName?{provide:DG,useValue:t.headerName}:[]]}}}return e.\u0275mod=tt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)},providers:[FG,{provide:EG,useExisting:FG,multi:!0},{provide:MG,useClass:NG},{provide:AG,useValue:"XSRF-TOKEN"},{provide:DG,useValue:"X-XSRF-TOKEN"}]}),e})(),BG=(()=>{class e{}return e.\u0275mod=tt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)},providers:[kG,{provide:cG,useClass:LG},IG,{provide:lG,useExisting:IG},RG,{provide:PG,useExisting:RG}],imports:[[jG.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),e})(),zG=(()=>{class e{constructor(e){this.http=e,this.rootURL="https://spatialsoup.com:3000"}createRoom(){return this.http.get(this.rootURL+"/createRoom")}validateRoomCredentials(e,t){const n=(new pG).set("roomId",t).set("userName",e);return this.http.get(this.rootURL+"/validateRoomCredentials",{params:n})}}return e.\u0275fac=function(t){return new(t||e)(yt(kG))},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function VG(e,t,n,r){return i(n)&&(r=n,n=void 0),r?VG(e,t,n).pipe(E(e=>c(e)?r(...e):r(e))):new y(i=>{HG(e,t,function(e){i.next(arguments.length>1?Array.prototype.slice.call(arguments):e)},i,n)})}function HG(e,t,n,i,r){let o;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){const i=e;e.addEventListener(t,n,r),o=()=>i.removeEventListener(t,n,r)}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){const i=e;e.on(t,n),o=()=>i.off(t,n)}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e)){const i=e;e.addListener(t,n),o=()=>i.removeListener(t,n)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let o=0,s=e.length;o<s;o++)HG(e[o],t,n,i,r)}i.add(o)}function UG(e){return t=>t.lift(new WG(e))}class WG{constructor(e){this.notifier=e}call(e,t){const n=new qG(e),i=B(this.notifier,new L(n));return i&&!n.seenValue?(n.add(i),t.subscribe(n)):n}}class qG extends j{constructor(e){super(e),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}const $G=["underline"],GG=["connectionContainer"],YG=["inputContainer"],XG=["label"];function KG(e,t){1&e&&(jo(0),No(1,"div",14),Lo(2,"div",15),Lo(3,"div",16),Lo(4,"div",17),Fo(),No(5,"div",18),Lo(6,"div",15),Lo(7,"div",16),Lo(8,"div",17),Fo(),Bo())}function ZG(e,t){1&e&&(No(0,"div",19),Xo(1,1),Fo())}function QG(e,t){if(1&e&&(jo(0),Xo(1,2),No(2,"span"),vs(3),Fo(),Bo()),2&e){const e=$o(2);or(3),ys(e._control.placeholder)}}function JG(e,t){1&e&&Xo(0,3,["*ngSwitchCase","true"])}function eY(e,t){1&e&&(No(0,"span",23),vs(1," *"),Fo())}function tY(e,t){if(1&e){const e=zo();No(0,"label",20,21),Uo("cdkObserveContent",function(){return qt(e),$o().updateOutlineGap()}),Ro(2,QG,4,1,"ng-container",12),Ro(3,JG,1,0,"ng-content",12),Ro(4,eY,2,0,"span",22),Fo()}if(2&e){const e=$o();ss("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),Do("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),To("for",e._control.id)("aria-owns",e._control.id),or(2),Do("ngSwitchCase",!1),or(1),Do("ngSwitchCase",!0),or(1),Do("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function nY(e,t){1&e&&(No(0,"div",24),Xo(1,4),Fo())}function iY(e,t){if(1&e&&(No(0,"div",25,26),Lo(2,"span",27),Fo()),2&e){const e=$o();or(2),ss("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function rY(e,t){1&e&&(No(0,"div"),Xo(1,5),Fo()),2&e&&Do("@transitionMessages",$o()._subscriptAnimationState)}function oY(e,t){if(1&e&&(No(0,"div",31),vs(1),Fo()),2&e){const e=$o(2);Do("id",e._hintLabelId),or(1),ys(e.hintLabel)}}function sY(e,t){if(1&e&&(No(0,"div",28),Ro(1,oY,2,2,"div",29),Xo(2,6),Lo(3,"div",30),Xo(4,7),Fo()),2&e){const e=$o();Do("@transitionMessages",e._subscriptAnimationState),or(1),Do("ngIf",e.hintLabel)}}const aY=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],cY=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],lY=new be("MatError"),hY={transitionMessages:Fy("transitionMessages",[zy("enter",By({opacity:1,transform:"translateY(0%)"})),Vy("void => enter",[By({opacity:0,transform:"translateY(-100%)"}),Ly("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let dY=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=it({type:e}),e})();const uY=new be("MatHint");let pY=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=it({type:e,selectors:[["mat-label"]]}),e})(),fY=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=it({type:e,selectors:[["mat-placeholder"]]}),e})();const mY=new be("MatPrefix"),gY=new be("MatSuffix");let vY=0;class yY{constructor(e){this._elementRef=e}}const bY=Aw(yY,"primary"),_Y=new be("MAT_FORM_FIELD_DEFAULT_OPTIONS"),wY=new be("MatFormField");let CY=(()=>{class e extends bY{constructor(e,t,n,i,r,o,s,a){super(e),this._elementRef=e,this._changeDetectorRef=t,this._dir=i,this._defaults=r,this._platform=o,this._ngZone=s,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new S,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+vY++,this._labelId="mat-form-field-label-"+vY++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==a,this.appearance=r&&r.appearance?r.appearance:"legacy",this._hideRequiredMarker=!(!r||null==r.hideRequiredMarker)&&r.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const t=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&t!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=nw(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add("mat-form-field-type-"+e.controlType),e.stateChanges.pipe(Yh(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(UG(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(UG(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),q(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Yh(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Yh(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(UG(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const t=this._control?this._control.ngControl:null;return t&&t[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,VG(this._label.nativeElement,"transitionend").pipe(Wh(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const t=this._hintChildren?this._hintChildren.find(e=>"start"===e.align):null,n=this._hintChildren?this._hintChildren.find(e=>"end"===e.align):null;t?e.push(t.id):this._hintLabel&&e.push(this._hintLabelId),n&&e.push(n.id)}else this._errorChildren&&e.push(...this._errorChildren.map(e=>e.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!e||!e.children.length||!e.textContent.trim())return;if(!this._platform.isBrowser)return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let t=0,n=0;const i=this._connectionContainerRef.nativeElement,r=i.querySelectorAll(".mat-form-field-outline-start"),o=i.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const r=i.getBoundingClientRect();if(0===r.width&&0===r.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const o=this._getStartEnd(r),s=e.children,a=this._getStartEnd(s[0].getBoundingClientRect());let c=0;for(let e=0;e<s.length;e++)c+=s[e].offsetWidth;t=Math.abs(a-o)-5,n=c>0?.75*c+10:0}for(let s=0;s<r.length;s++)r[s].style.width=t+"px";for(let s=0;s<o.length;s++)o[s].style.width=n+"px";this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const t=e.getRootNode();return t&&t!==e}return document.documentElement.contains(e)}}return e.\u0275fac=function(t){return new(t||e)(Io(Hs),Io(da),Io(Hs),Io(Cw,8),Io(_Y,8),Io(B_),Io(Tc),Io(M_,8))},e.\u0275cmp=Ze({type:e,selectors:[["mat-form-field"]],contentQueries:function(e,t,n){if(1&e&&(Ja(n,dY,!0),ec(n,dY,!0),Ja(n,pY,!0),ec(n,pY,!0),Ja(n,fY,!0),Ja(n,lY,!0),Ja(n,uY,!0),Ja(n,mY,!0),Ja(n,gY,!0)),2&e){let e;Ka(e=nc())&&(t._controlNonStatic=e.first),Ka(e=nc())&&(t._controlStatic=e.first),Ka(e=nc())&&(t._labelChildNonStatic=e.first),Ka(e=nc())&&(t._labelChildStatic=e.first),Ka(e=nc())&&(t._placeholderChild=e.first),Ka(e=nc())&&(t._errorChildren=e),Ka(e=nc())&&(t._hintChildren=e),Ka(e=nc())&&(t._prefixChildren=e),Ka(e=nc())&&(t._suffixChildren=e)}},viewQuery:function(e,t){if(1&e&&(Za($G,!0),n=GG,!0,Qa(Wt(),Ut(),n,true,undefined,!0),Za(YG,!0),Za(XG,!0)),2&e){let e;Ka(e=nc())&&(t.underlineRef=e.first),Ka(e=nc())&&(t._connectionContainerRef=e.first),Ka(e=nc())&&(t._inputContainerRef=e.first),Ka(e=nc())&&(t._label=e.first)}var n},hostAttrs:[1,"mat-form-field"],hostVars:44,hostBindings:function(e,t){2&e&&ss("mat-form-field-appearance-standard","standard"==t.appearance)("mat-form-field-appearance-fill","fill"==t.appearance)("mat-form-field-appearance-outline","outline"==t.appearance)("mat-form-field-appearance-legacy","legacy"==t.appearance)("mat-form-field-invalid",t._control.errorState)("mat-form-field-can-float",t._canLabelFloat())("mat-form-field-should-float",t._shouldLabelFloat())("mat-form-field-has-label",t._hasFloatingLabel())("mat-form-field-hide-placeholder",t._hideControlPlaceholder())("mat-form-field-disabled",t._control.disabled)("mat-form-field-autofilled",t._control.autofilled)("mat-focused",t._control.focused)("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)("ng-untouched",t._shouldForward("untouched"))("ng-touched",t._shouldForward("touched"))("ng-pristine",t._shouldForward("pristine"))("ng-dirty",t._shouldForward("dirty"))("ng-valid",t._shouldForward("valid"))("ng-invalid",t._shouldForward("invalid"))("ng-pending",t._shouldForward("pending"))("_mat-animation-noopable",!t._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[Ns([{provide:wY,useExisting:e}]),yo],ngContentSelectors:cY,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,t){1&e&&(Yo(aY),No(0,"div",0),No(1,"div",1,2),Uo("click",function(e){return t._control.onContainerClick&&t._control.onContainerClick(e)}),Ro(3,KG,9,0,"ng-container",3),Ro(4,ZG,2,0,"div",4),No(5,"div",5,6),Xo(7),No(8,"span",7),Ro(9,tY,5,16,"label",8),Fo(),Fo(),Ro(10,nY,2,0,"div",9),Fo(),Ro(11,iY,3,4,"div",10),No(12,"div",11),Ro(13,rY,2,1,"div",12),Ro(14,sY,5,2,"div",13),Fo(),Fo()),2&e&&(or(3),Do("ngIf","outline"==t.appearance),or(1),Do("ngIf",t._prefixChildren.length),or(5),Do("ngIf",t._hasFloatingLabel()),or(1),Do("ngIf",t._suffixChildren.length),or(1),Do("ngIf","outline"!=t.appearance),or(1),Do("ngSwitch",t._getDisplayedMessages()),or(1),Do("ngSwitchCase","error"),or(1),Do("ngSwitchCase","hint"))},directives:[Tl,Al,Dl,lw],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[hY.transitionMessages]},changeDetection:0}),e})(),SY=(()=>{class e{}return e.\u0275mod=tt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)},imports:[[Fl,Rw,hw],Rw]}),e})();class kY{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new xY(e,this.durationSelector))}}class xY extends j{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){if(this.value=e,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:t}=this;n=t(e)}catch(t){return this.destination.error(t)}const i=B(n,new L(this));!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:e,hasValue:t,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),t&&(this.value=void 0,this.hasValue=!1,this.destination.next(e))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function EY(e){return!c(e)&&e-parseFloat(e)+1>=0}function OY(e){const{index:t,period:n,subscriber:i}=e;if(i.next(t),!i.closed){if(-1===n)return i.complete();e.index=t+1,this.schedule(e,n)}}function TY(e,t=Z_){return n=()=>function(e=0,t,n){let i=-1;return EY(t)?i=Number(t)<1?1:Number(t):x(t)&&(n=t),x(n)||(n=Z_),new y(t=>{const r=EY(e)?e:+e-n.now();return n.schedule(OY,r,{index:0,period:i,subscriber:t})})}(e,t),function(e){return e.lift(new kY(n))};var n}const PY=q_({passive:!0});let RY=(()=>{class e{constructor(e,t){this._platform=e,this._ngZone=t,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Sh;const t=sw(e),n=this._monitoredElements.get(t);if(n)return n.subject;const i=new S,r="cdk-text-field-autofilled",o=e=>{"cdk-text-field-autofill-start"!==e.animationName||t.classList.contains(r)?"cdk-text-field-autofill-end"===e.animationName&&t.classList.contains(r)&&(t.classList.remove(r),this._ngZone.run(()=>i.next({target:e.target,isAutofilled:!1}))):(t.classList.add(r),this._ngZone.run(()=>i.next({target:e.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{t.addEventListener("animationstart",o,PY),t.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(t,{subject:i,unlisten:()=>{t.removeEventListener("animationstart",o,PY)}}),i}stopMonitoring(e){const t=sw(e),n=this._monitoredElements.get(t);n&&(n.unlisten(),n.subject.complete(),t.classList.remove("cdk-text-field-autofill-monitored"),t.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(t))}ngOnDestroy(){this._monitoredElements.forEach((e,t)=>this.stopMonitoring(t))}}return e.\u0275fac=function(t){return new(t||e)(yt(B_),yt(Tc))},e.\u0275prov=he({factory:function(){return new e(yt(B_),yt(Tc))},token:e,providedIn:"root"}),e})(),IY=(()=>{class e{}return e.\u0275mod=tt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)},imports:[[z_]]}),e})();const AY=new be("MAT_INPUT_VALUE_ACCESSOR"),DY=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let MY=0;class NY{constructor(e,t,n,i){this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=n,this.ngControl=i}}const FY=Nw(NY);let LY=(()=>{class e extends FY{constructor(e,t,n,i,r,o,s,a,c,l){super(o,i,r,n),this._elementRef=e,this._platform=t,this.ngControl=n,this._autofillMonitor=a,this._formField=l,this._uid="mat-input-"+MY++,this.focused=!1,this.stateChanges=new S,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(e=>H_().has(e));const h=this._elementRef.nativeElement,d=h.nodeName.toLowerCase();this._inputValueAccessor=s||h,this._previousNativeValue=this.value,this.id=this.id,t.IOS&&c.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",e=>{let t=e.target;t.value||t.selectionStart||t.selectionEnd||(t.setSelectionRange(1,1),t.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===d,this._isTextarea="textarea"===d,this._isNativeSelect&&(this.controlType=h.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=nw(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required}set required(e){this._required=nw(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&H_().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=nw(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e===this.focused||this.readonly&&e||(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,t;const n=(null===(t=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===t?void 0:t.call(e))?null:this.placeholder;if(n!==this._previousPlaceholder){const e=this._elementRef.nativeElement;this._previousPlaceholder=n,n?e.setAttribute("placeholder",n):e.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){DY.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,t=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&t&&t.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return e.\u0275fac=function(t){return new(t||e)(Io(Hs),Io(B_),Io(HC,10),Io(wS,8),Io(ES,8),Io(Fw),Io(AY,10),Io(RY),Io(Tc),Io(wY,8))},e.\u0275dir=it({type:e,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(e,t){1&e&&Uo("focus",function(){return t._focusChanged(!0)})("blur",function(){return t._focusChanged(!1)})("input",function(){return t._onInput()}),2&e&&(_s("disabled",t.disabled)("required",t.required),To("id",t.id)("data-placeholder",t.placeholder)("readonly",t.readonly&&!t._isNativeSelect||null)("aria-invalid",t.errorState)("aria-required",t.required.toString()),ss("mat-input-server",t._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[Ns([{provide:dY,useExisting:e}]),yo,xn]}),e})(),jY=(()=>{class e{}return e.\u0275mod=tt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)},providers:[Fw],imports:[[IY,SY,Rw],IY,SY]}),e})();class BY{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new zY(e,this.compare,this.keySelector))}}class zY extends f{constructor(e,t,n){super(e),this.keySelector=n,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:n}=this;t=n?n(e):e}catch(i){return this.destination.error(i)}let n=!1;if(this.hasKey)try{const{compare:e}=this;n=e(this.key,t)}catch(i){return this.destination.error(i)}else this.hasKey=!0;n||(this.key=t,this.destination.next(e))}}class VY{constructor(e=!1,t,n=!0){this._multiple=e,this._emitChanges=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new S,t&&t.length&&(e?t.forEach(e=>this._markSelected(e)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...e){this._verifyValueAssignment(e),e.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(e){this.isSelected(e)?this.deselect(e):this.select(e)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(e){return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}}let HY=(()=>{class e{constructor(e,t,n){this._ngZone=e,this._platform=t,this._scrolled=new S,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const t=this.scrollContainers.get(e);t&&(t.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new y(t=>{this._globalSubscription||this._addGlobalListener();const n=e>0?this._scrolled.pipe(TY(e)).subscribe(t):this._scrolled.subscribe(t);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):fh()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,t)=>this.deregister(t)),this._scrolled.complete()}ancestorScrolled(e,t){const n=this.getAncestorScrollContainers(e);return this.scrolled(t).pipe(Oh(e=>!e||n.indexOf(e)>-1))}getAncestorScrollContainers(e){const t=[];return this.scrollContainers.forEach((n,i)=>{this._scrollableContainsElement(i,e)&&t.push(i)}),t}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,t){let n=t.nativeElement,i=e.getElementRef().nativeElement;do{if(n==i)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>VG(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return e.\u0275fac=function(t){return new(t||e)(yt(Tc),yt(B_),yt(ol,8))},e.\u0275prov=he({factory:function(){return new e(yt(Tc),yt(B_),yt(ol,8))},token:e,providedIn:"root"}),e})(),UY=(()=>{class e{constructor(e,t,n){this._platform=e,this._change=new S,this._changeListener=e=>{this._change.next(e)},this._document=n,t.runOutsideAngular(()=>{if(e.isBrowser){const e=this._getWindow();e.addEventListener("resize",this._changeListener),e.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:t,height:n}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+n,right:e.left+t,height:n,width:t}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,t=this._getWindow(),n=e.documentElement,i=n.getBoundingClientRect();return{top:-i.top||e.body.scrollTop||t.scrollY||n.scrollTop||0,left:-i.left||e.body.scrollLeft||t.scrollX||n.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(TY(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return e.\u0275fac=function(t){return new(t||e)(yt(B_),yt(Tc),yt(ol,8))},e.\u0275prov=he({factory:function(){return new e(yt(B_),yt(Tc),yt(ol,8))},token:e,providedIn:"root"}),e})(),WY=(()=>{class e{}return e.\u0275mod=tt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)}}),e})(),qY=(()=>{class e{}return e.\u0275mod=tt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)},imports:[[Sw,z_,WY],Sw,WY]}),e})();class $Y{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class GY extends $Y{constructor(e,t,n,i){super(),this.component=e,this.viewContainerRef=t,this.injector=n,this.componentFactoryResolver=i}}class YY extends $Y{constructor(e,t,n){super(),this.templateRef=e,this.viewContainerRef=t,this.context=n}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class XY extends $Y{constructor(e){super(),this.element=e instanceof Hs?e.nativeElement:e}}class KY extends class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof GY?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof YY?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof XY?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(e,t,n,i,r){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=n,this._defaultInjector=i,this.attachDomPortal=e=>{const t=e.element,n=this._document.createComment("dom-portal");t.parentNode.insertBefore(n,t),this.outletElement.appendChild(t),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(t,n)})},this._document=r}attachComponentPortal(e){const t=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let n;return e.viewContainerRef?(n=e.viewContainerRef.createComponent(t,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=t.create(e.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),n}attachTemplatePortal(e){let t=e.viewContainerRef,n=t.createEmbeddedView(e.templateRef,e.context);return n.rootNodes.forEach(e=>this.outletElement.appendChild(e)),n.detectChanges(),this.setDisposeFn(()=>{let e=t.indexOf(n);-1!==e&&t.remove(e)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let ZY=(()=>{class e{}return e.\u0275mod=tt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)}}),e})();class QY{constructor(e,t){this.predicate=e,this.inclusive=t}call(e,t){return t.subscribe(new JY(e,this.predicate,this.inclusive))}}class JY extends f{constructor(e,t,n){super(e),this.predicate=t,this.inclusive=n,this.index=0}_next(e){const t=this.destination;let n;try{n=this.predicate(e,this.index++)}catch(i){return void t.error(i)}this.nextOrComplete(e,n)}nextOrComplete(e,t){const n=this.destination;Boolean(t)?n.next(e):(this.inclusive&&n.next(e),n.complete())}}class eX{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=ow(-this._previousScrollPosition.left),e.style.top=ow(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,t=e.style,n=this._document.body.style,i=t.scrollBehavior||"",r=n.scrollBehavior||"";this._isEnabled=!1,t.left=this._previousHTMLStyles.left,t.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),t.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),t.scrollBehavior=i,n.scrollBehavior=r}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,t=this._viewportRuler.getViewportSize();return e.scrollHeight>t.height||e.scrollWidth>t.width}}class tX{constructor(e,t,n,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=n,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class nX{enable(){}disable(){}attach(){}}function iX(e,t){return t.some(t=>e.bottom<t.top||e.top>t.bottom||e.right<t.left||e.left>t.right)}function rX(e,t){return t.some(t=>e.top<t.top||e.bottom>t.bottom||e.left<t.left||e.right>t.right)}class oX{constructor(e,t,n,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=n,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:t,height:n}=this._viewportRuler.getViewportSize();iX(e,[{width:t,height:n,bottom:n,right:t,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let sX=(()=>{class e{constructor(e,t,n,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=n,this.noop=()=>new nX,this.close=e=>new tX(this._scrollDispatcher,this._ngZone,this._viewportRuler,e),this.block=()=>new eX(this._viewportRuler,this._document),this.reposition=e=>new oX(this._scrollDispatcher,this._viewportRuler,this._ngZone,e),this._document=i}}return e.\u0275fac=function(t){return new(t||e)(yt(HY),yt(UY),yt(Tc),yt(ol))},e.\u0275prov=he({factory:function(){return new e(yt(HY),yt(UY),yt(Tc),yt(ol))},token:e,providedIn:"root"}),e})();class aX{constructor(e){if(this.scrollStrategy=new nX,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const n of t)void 0!==e[n]&&(this[n]=e[n])}}}class cX{constructor(e,t,n,i,r){this.offsetX=n,this.offsetY=i,this.panelClass=r,this.originX=e.originX,this.originY=e.originY,this.overlayX=t.overlayX,this.overlayY=t.overlayY}}class lX{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let hX=(()=>{class e{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const t=this._attachedOverlays.indexOf(e);t>-1&&this._attachedOverlays.splice(t,1),0===this._attachedOverlays.length&&this.detach()}}return e.\u0275fac=function(t){return new(t||e)(yt(ol))},e.\u0275prov=he({factory:function(){return new e(yt(ol))},token:e,providedIn:"root"}),e})(),dX=(()=>{class e extends hX{constructor(e){super(e),this._keydownListener=e=>{const t=this._attachedOverlays;for(let n=t.length-1;n>-1;n--)if(t[n]._keydownEvents.observers.length>0){t[n]._keydownEvents.next(e);break}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return e.\u0275fac=function(t){return new(t||e)(yt(ol))},e.\u0275prov=he({factory:function(){return new e(yt(ol))},token:e,providedIn:"root"}),e})(),uX=(()=>{class e extends hX{constructor(e,t){super(e),this._platform=t,this._cursorStyleIsSet=!1,this._clickListener=e=>{const t=e.composedPath?e.composedPath()[0]:e.target,n=this._attachedOverlays.slice();for(let i=n.length-1;i>-1;i--){const r=n[i];if(!(r._outsidePointerEvents.observers.length<1)&&r.hasAttached()){if(r.overlayElement.contains(t))break;r._outsidePointerEvents.next(e)}}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("click",this._clickListener,!0),this._document.body.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=this._document.body.style.cursor,this._document.body.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("click",this._clickListener,!0),this._document.body.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}}return e.\u0275fac=function(t){return new(t||e)(yt(ol),yt(B_))},e.\u0275prov=he({factory:function(){return new e(yt(ol),yt(B_))},token:e,providedIn:"root"}),e})();const pX=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let fX=(()=>{class e{constructor(e,t){this._platform=t,this._document=e}ngOnDestroy(){const e=this._containerElement;e&&e.parentNode&&e.parentNode.removeChild(e)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){if(this._platform.isBrowser||pX){const e=this._document.querySelectorAll('.cdk-overlay-container[platform="server"], .cdk-overlay-container[platform="test"]');for(let t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t])}const e=this._document.createElement("div");e.classList.add("cdk-overlay-container"),pX?e.setAttribute("platform","test"):this._platform.isBrowser||e.setAttribute("platform","server"),this._document.body.appendChild(e),this._containerElement=e}}return e.\u0275fac=function(t){return new(t||e)(yt(ol),yt(B_))},e.\u0275prov=he({factory:function(){return new e(yt(ol),yt(B_))},token:e,providedIn:"root"}),e})();class mX{constructor(e,t,n,i,r,o,s,a,c){this._portalOutlet=e,this._host=t,this._pane=n,this._config=i,this._ngZone=r,this._keyboardDispatcher=o,this._document=s,this._location=a,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new S,this._attachments=new S,this._detachments=new S,this._locationChanges=d.EMPTY,this._backdropClickHandler=e=>this._backdropClick.next(e),this._keydownEvents=new S,this._outsidePointerEvents=new S,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Wh(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=ow(this._config.width),e.height=ow(this._config.height),e.minWidth=ow(this._config.minWidth),e.minHeight=ow(this._config.minHeight),e.maxWidth=ow(this._config.maxWidth),e.maxHeight=ow(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"auto":"none"}_attachBackdrop(){this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e,t=this._backdropElement;if(!t)return;let n=()=>{t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",n),t.parentNode&&t.parentNode.removeChild(t)),this._backdropElement==t&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(t,this._config.backdropClass,!1),clearTimeout(e)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",n)}),t.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(e,t,n){const i=e.classList;rw(t).forEach(e=>{e&&(n?i.add(e):i.remove(e))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(UG(q(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}}const gX=/([A-Za-z%]+)$/;class vX{constructor(e,t,n,i,r){this._viewportRuler=t,this._document=n,this._platform=i,this._overlayContainer=r,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new S,this._resizeSubscription=d.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const e=this._originRect,t=this._overlayRect,n=this._viewportRect,i=[];let r;for(let o of this._preferredPositions){let s=this._getOriginPoint(e,o),a=this._getOverlayPoint(s,t,o),c=this._getOverlayFit(a,t,n,o);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(o,s);this._canFitWithFlexibleDimensions(c,a,n)?i.push({position:o,origin:s,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(s,o)}):(!r||r.overlayFit.visibleArea<c.visibleArea)&&(r={overlayFit:c,overlayPoint:a,originPoint:s,position:o,overlayRect:t})}if(i.length){let e=null,t=-1;for(const n of i){const i=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);i>t&&(t=i,e=n)}return this._isPushed=!1,void this._applyPosition(e.position,e.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(r.position,r.originPoint);this._applyPosition(r.position,r.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&yX(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t){let n,i;if("center"==t.originX)n=e.left+e.width/2;else{const i=this._isRtl()?e.right:e.left,r=this._isRtl()?e.left:e.right;n="start"==t.originX?i:r}return i="center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom,{x:n,y:i}}_getOverlayPoint(e,t,n){let i,r;return i="center"==n.overlayX?-t.width/2:"start"===n.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,r="center"==n.overlayY?-t.height/2:"top"==n.overlayY?0:-t.height,{x:e.x+i,y:e.y+r}}_getOverlayFit(e,t,n,i){let{x:r,y:o}=e,s=this._getOffset(i,"x"),a=this._getOffset(i,"y");s&&(r+=s),a&&(o+=a);let c=0-o,l=o+t.height-n.height,h=this._subtractOverflows(t.width,0-r,r+t.width-n.width),d=this._subtractOverflows(t.height,c,l),u=h*d;return{visibleArea:u,isCompletelyWithinViewport:t.width*t.height===u,fitsInViewportVertically:d===t.height,fitsInViewportHorizontally:h==t.width}}_canFitWithFlexibleDimensions(e,t,n){if(this._hasFlexibleDimensions){const i=n.bottom-t.y,r=n.right-t.x,o=bX(this._overlayRef.getConfig().minHeight),s=bX(this._overlayRef.getConfig().minWidth),a=e.fitsInViewportHorizontally||null!=s&&s<=r;return(e.fitsInViewportVertically||null!=o&&o<=i)&&a}return!1}_pushOverlayOnScreen(e,t,n){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=this._viewportRect,r=Math.max(e.x+t.width-i.width,0),o=Math.max(e.y+t.height-i.height,0),s=Math.max(i.top-n.top-e.y,0),a=Math.max(i.left-n.left-e.x,0);let c=0,l=0;return c=t.width<=i.width?a||-r:e.x<this._viewportMargin?i.left-n.left-e.x:0,l=t.height<=i.height?s||-o:e.y<this._viewportMargin?i.top-n.top-e.y:0,this._previousPushAmount={x:c,y:l},{x:e.x+c,y:e.y+l}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const t=this._getScrollVisibility(),n=new lX(e,t);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,i=e.overlayY;n="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let r=0;r<t.length;r++)t[r].style.transformOrigin=`${n} ${i}`}_calculateBoundingBoxRect(e,t){const n=this._viewportRect,i=this._isRtl();let r,o,s,a,c,l;if("top"===t.overlayY)o=e.y,r=n.height-o+this._viewportMargin;else if("bottom"===t.overlayY)s=n.height-e.y+2*this._viewportMargin,r=n.height-s+this._viewportMargin;else{const t=Math.min(n.bottom-e.y+n.top,e.y),i=this._lastBoundingBoxSize.height;r=2*t,o=e.y-t,r>i&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-i/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)l=n.width-e.x+this._viewportMargin,a=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)c=e.x,a=n.right-e.x;else{const t=Math.min(n.right-e.x+n.left,e.x),i=this._lastBoundingBoxSize.width;a=2*t,c=e.x-t,a>i&&!this._isInitialRender&&!this._growAfterOpen&&(c=e.x-i/2)}return{top:o,left:c,bottom:s,right:l,width:a,height:r}}_setBoundingBoxStyles(e,t){const n=this._calculateBoundingBoxRect(e,t);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const e=this._overlayRef.getConfig().maxHeight,r=this._overlayRef.getConfig().maxWidth;i.height=ow(n.height),i.top=ow(n.top),i.bottom=ow(n.bottom),i.width=ow(n.width),i.left=ow(n.left),i.right=ow(n.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",e&&(i.maxHeight=ow(e)),r&&(i.maxWidth=ow(r))}this._lastBoundingBoxSize=n,yX(this._boundingBox.style,i)}_resetBoundingBoxStyles(){yX(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){yX(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const n={},i=this._hasExactPosition(),r=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){const i=this._viewportRuler.getViewportScrollPosition();yX(n,this._getExactOverlayY(t,e,i)),yX(n,this._getExactOverlayX(t,e,i))}else n.position="static";let s="",a=this._getOffset(t,"x"),c=this._getOffset(t,"y");a&&(s+=`translateX(${a}px) `),c&&(s+=`translateY(${c}px)`),n.transform=s.trim(),o.maxHeight&&(i?n.maxHeight=ow(o.maxHeight):r&&(n.maxHeight="")),o.maxWidth&&(i?n.maxWidth=ow(o.maxWidth):r&&(n.maxWidth="")),yX(this._pane.style,n)}_getExactOverlayY(e,t,n){let i={top:"",bottom:""},r=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n));let o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return r.y-=o,"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(r.y+this._overlayRect.height)+"px":i.top=ow(r.y),i}_getExactOverlayX(e,t,n){let i,r={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),i=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===i?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=ow(o.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),n=this._scrollables.map(e=>e.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:rX(e,n),isOriginOutsideView:iX(e,n),isOverlayClipped:rX(t,n),isOverlayOutsideView:iX(t,n)}}_subtractOverflows(e,...t){return t.reduce((e,t)=>e-Math.max(t,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+e-this._viewportMargin,bottom:n.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&rw(e).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof Hs)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,n=e.height||0;return{top:e.y,bottom:e.y+n,left:e.x,right:e.x+t,height:n,width:t}}}function yX(e,t){for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function bX(e){if("number"!=typeof e&&null!=e){const[t,n]=e.split(gX);return n&&"px"!==n?null:parseFloat(t)}return e||null}class _X{constructor(e,t,n,i,r,o,s){this._preferredPositions=[],this._positionStrategy=new vX(n,i,r,o,s).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(e,t),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(e){this._overlayRef=e,this._positionStrategy.attach(e),this._direction&&(e.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(e){this._positionStrategy.withScrollableContainers(e)}withFallbackPosition(e,t,n,i){const r=new cX(e,t,n,i);return this._preferredPositions.push(r),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(e){return this._overlayRef?this._overlayRef.setDirection(e):this._direction=e,this}withOffsetX(e){return this._positionStrategy.withDefaultOffsetX(e),this}withOffsetY(e){return this._positionStrategy.withDefaultOffsetY(e),this}withLockedPosition(e){return this._positionStrategy.withLockedPosition(e),this}withPositions(e){return this._preferredPositions=e.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(e){return this._positionStrategy.setOrigin(e),this}}class wX{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:i,height:r,maxWidth:o,maxHeight:s}=n,a=!("100%"!==i&&"100vw"!==i||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==r&&"100vh"!==r||s&&"100%"!==s&&"100vh"!==s);e.position=this._cssPosition,e.marginLeft=a?"0":this._leftOffset,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,a?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,n=t.style;t.classList.remove("cdk-global-overlay-wrapper"),n.justifyContent=n.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let CX=(()=>{class e{constructor(e,t,n,i){this._viewportRuler=e,this._document=t,this._platform=n,this._overlayContainer=i}global(){return new wX}connectedTo(e,t,n){return new _X(t,n,e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(e){return new vX(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return e.\u0275fac=function(t){return new(t||e)(yt(UY),yt(ol),yt(B_),yt(fX))},e.\u0275prov=he({factory:function(){return new e(yt(UY),yt(ol),yt(B_),yt(fX))},token:e,providedIn:"root"}),e})(),SX=0,kX=(()=>{class e{constructor(e,t,n,i,r,o,s,a,c,l,h){this.scrollStrategies=e,this._overlayContainer=t,this._componentFactoryResolver=n,this._positionBuilder=i,this._keyboardDispatcher=r,this._injector=o,this._ngZone=s,this._document=a,this._directionality=c,this._location=l,this._outsideClickDispatcher=h}create(e){const t=this._createHostElement(),n=this._createPaneElement(t),i=this._createPortalOutlet(n),r=new aX(e);return r.direction=r.direction||this._directionality.value,new mX(i,t,n,r,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const t=this._document.createElement("div");return t.id="cdk-overlay-"+SX++,t.classList.add("cdk-overlay-pane"),e.appendChild(t),t}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Gc)),new KY(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return e.\u0275fac=function(t){return new(t||e)(yt(sX),yt(fX),yt(js),yt(CX),yt(dX),yt(go),yt(Tc),yt(ol),yt(Cw),yt(_l),yt(uX))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const xX=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],EX=new be("cdk-connected-overlay-scroll-strategy");let OX=(()=>{class e{constructor(e){this.elementRef=e}}return e.\u0275fac=function(t){return new(t||e)(Io(Hs))},e.\u0275dir=it({type:e,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),e})(),TX=(()=>{class e{constructor(e,t,n,i,r){this._overlay=e,this._dir=r,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=d.EMPTY,this._attachSubscription=d.EMPTY,this._detachSubscription=d.EMPTY,this._positionSubscription=d.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new ja,this.positionChange=new ja,this.attach=new ja,this.detach=new ja,this.overlayKeydown=new ja,this.overlayOutsideClick=new ja,this._templatePortal=new YY(t,n),this._scrollStrategyFactory=i,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=nw(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=nw(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=nw(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=nw(e)}get push(){return this._push}set push(e){this._push=nw(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){this.positions&&this.positions.length||(this.positions=xX);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(e=>{this.overlayKeydown.next(e),27!==e.keyCode||this.disableClose||$_(e)||(e.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(e=>{this.overlayOutsideClick.next(e)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),t=new aX({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(t.width=this.width),(this.height||0===this.height)&&(t.height=this.height),(this.minWidth||0===this.minWidth)&&(t.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(t.minHeight=this.minHeight),this.backdropClass&&(t.backdropClass=this.backdropClass),this.panelClass&&(t.panelClass=this.panelClass),t}_updatePositionStrategy(e){const t=this.positions.map(e=>({originX:e.originX,originY:e.originY,overlayX:e.overlayX,overlayY:e.overlayY,offsetX:e.offsetX||this.offsetX,offsetY:e.offsetY||this.offsetY,panelClass:e.panelClass||void 0}));return e.setOrigin(this.origin.elementRef).withPositions(t).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(e),e}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(e,t=!1){return n=>n.lift(new QY(e,t))}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(Io(kX),Io(ga),Io(Sa),Io(EX),Io(Cw,8))},e.\u0275dir=it({type:e,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[xn]}),e})();const PX={provide:EX,deps:[kX],useFactory:function(e){return()=>e.scrollStrategies.reposition()}};let RX=(()=>{class e{}return e.\u0275mod=tt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)},providers:[kX,PX],imports:[[Sw,ZY,qY],qY]}),e})();const IX=["trigger"],AX=["panel"];function DX(e,t){if(1&e&&(No(0,"span",8),vs(1),Fo()),2&e){const e=$o();or(1),ys(e.placeholder||"\xa0")}}function MX(e,t){if(1&e&&(No(0,"span"),vs(1),Fo()),2&e){const e=$o(2);or(1),ys(e.triggerValue||"\xa0")}}function NX(e,t){1&e&&Xo(0,0,["*ngSwitchCase","true"])}function FX(e,t){1&e&&(No(0,"span",9),Ro(1,MX,2,1,"span",10),Ro(2,NX,1,0,"ng-content",11),Fo()),2&e&&(Do("ngSwitch",!!$o().customTrigger),or(2),Do("ngSwitchCase",!0))}function LX(e,t){if(1&e){const e=zo();No(0,"div",12),No(1,"div",13,14),Uo("@transformPanel.done",function(t){return qt(e),$o()._panelDoneAnimatingStream.next(t.toState)})("keydown",function(t){return qt(e),$o()._handleKeydown(t)}),Xo(3,1),Fo(),Fo()}if(2&e){const e=$o();Do("@transformPanelWrap",void 0),or(1),n="mat-select-panel ",i=e._getPanelTheme(),r="",function(e,t,n,i){const r=Wt(),o=en(2);r.firstUpdatePass&&hs(r,null,o,!0);const s=Ut();if(n!==rr&&Oo(s,o,n)){const i=r.data[fn()];if(gs(i,!0)&&!ls(r,o)){let e=i.classesWithoutHost;null!==e&&(n=ae(e,n||"")),Mo(r,i,s,n,!0)}else!function(e,t,n,i,r,o,s,a){r===rr&&(r=Qo);let c=0,l=0,h=0<r.length?r[0]:null,d=0<o.length?o[0]:null;for(;null!==h||null!==d;){const s=c<r.length?r[c+1]:void 0,u=l<o.length?o[l+1]:void 0;let p=null,f=void 0;h===d?(c+=2,l+=2,s!==u&&(p=d,f=u)):null===d||null!==h&&h<d?(c+=2,p=h):(l+=2,p=d,f=u),null!==p&&ps(e,t,n,i,p,f,!0,a),h=c<r.length?r[c]:null,d=l<o.length?o[l]:null}}(r,i,s,s[11],s[o+1],s[o+1]=function(e,t,n){if(null==n||""===n)return Qo;const i=[],r=vn(n);if(Array.isArray(r))for(let o=0;o<r.length;o++)e(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&e(i,o,r[o]);else"string"==typeof r&&t(i,r);return i}(e,t,n),0,o)}}(Le,as,Po(Ut(),n,i,r)),os("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),Do("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),To("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}var n,i,r}const jX=[[["mat-select-trigger"]],"*"],BX=["mat-select-trigger","*"],zX={transformPanelWrap:Fy("transformPanelWrap",[Vy("* => void",Uy("@transformPanel",[Hy()],{optional:!0}))]),transformPanel:Fy("transformPanel",[zy("void",By({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),zy("showing",By({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),zy("showing-multiple",By({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Vy("void => *",Ly("120ms cubic-bezier(0, 0, 0.2, 1)")),Vy("* => void",Ly("100ms 25ms linear",By({opacity:0})))])};let VX=0;const HX=new be("mat-select-scroll-strategy"),UX=new be("MAT_SELECT_CONFIG"),WX={provide:HX,deps:[kX],useFactory:function(e){return()=>e.scrollStrategies.reposition()}};class qX{constructor(e,t){this.source=e,this.value=t}}class $X{constructor(e,t,n,i,r){this._elementRef=e,this._defaultErrorStateMatcher=t,this._parentForm=n,this._parentFormGroup=i,this.ngControl=r}}const GX=Dw(Mw(Iw(Nw($X)))),YX=new be("MatSelectTrigger");let XX=(()=>{class e extends GX{constructor(e,t,n,i,r,o,s,a,c,l,h,d,u,p){var f,m,g,v,y;super(r,i,s,a,l),this._viewportRuler=e,this._changeDetectorRef=t,this._ngZone=n,this._dir=o,this._parentFormField=c,this.ngControl=l,this._liveAnnouncer=u,this._defaultOptions=p,this._panelOpen=!1,this._compareWith=(e,t)=>e===t,this._uid="mat-select-"+VX++,this._triggerAriaLabelledBy=null,this._destroy=new S,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+VX++,this._panelDoneAnimatingStream=new S,this._overlayPanelClass=(null===(f=this._defaultOptions)||void 0===f?void 0:f.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._required=!1,this._multiple=!1,this._disableOptionCentering=null!==(g=null===(m=this._defaultOptions)||void 0===m?void 0:m.disableOptionCentering)&&void 0!==g&&g,this.ariaLabel="",this._typeaheadDebounceInterval=null!==(y=null===(v=this._defaultOptions)||void 0===v?void 0:v.typeaheadDebounceInterval)&&void 0!==y?y:0,this.optionSelectionChanges=xh(()=>{const e=this.options;return e?e.changes.pipe(Yh(e),Vh(()=>q(...e.map(e=>e.onSelectionChange)))):this._ngZone.onStable.pipe(Wh(1),Vh(()=>this.optionSelectionChanges))}),this.openedChange=new ja,this._openedStream=this.openedChange.pipe(Oh(e=>e),E(()=>{})),this._closedStream=this.openedChange.pipe(Oh(e=>!e),E(()=>{})),this.selectionChange=new ja,this.valueChange=new ja,this.ngControl&&(this.ngControl.valueAccessor=this),this._scrollStrategyFactory=d,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(h)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required}set required(e){this._required=nw(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=nw(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=nw(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){e!==this._value&&(this.options&&this._setSelectionByValue(e),this._value=e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=iw(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new VY(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(e=>e.lift(new BY(void 0,void 0)),UG(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(UG(this._destroy)).subscribe(e=>{e.added.forEach(e=>e.select()),e.removed.forEach(e=>e.deselect())}),this.options.changes.pipe(Yh(null),UG(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby();if(e!==this._triggerAriaLabelledBy){const t=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?t.setAttribute("aria-labelledby",e):t.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(e){e.disabled&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this.value=e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(e=>e.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const t=e.keyCode,n=40===t||38===t||37===t||39===t,i=13===t||32===t,r=this._keyManager;if(!r.isTyping()&&i&&!$_(e)||(this.multiple||e.altKey)&&n)e.preventDefault(),this.open();else if(!this.multiple){const t=this.selected;r.onKeydown(e);const n=this.selected;n&&t!==n&&this._liveAnnouncer.announce(n.viewValue,1e4)}}_handleOpenKeydown(e){const t=this._keyManager,n=e.keyCode,i=40===n||38===n,r=t.isTyping();if(i&&e.altKey)e.preventDefault(),this.close();else if(r||13!==n&&32!==n||!t.activeItem||$_(e))if(!r&&this._multiple&&65===n&&e.ctrlKey){e.preventDefault();const t=this.options.some(e=>!e.disabled&&!e.selected);this.options.forEach(e=>{e.disabled||(t?e.select():e.deselect())})}else{const n=t.activeItemIndex;t.onKeydown(e),this._multiple&&i&&e.shiftKey&&t.activeItem&&t.activeItemIndex!==n&&t.activeItem._selectViaInteraction()}else e.preventDefault(),t.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this.overlayDir.positionChange.pipe(Wh(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?"mat-"+this._parentFormField.color:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(e=>e.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(e=>this._selectValue(e)),this._sortValues();else{const t=this._selectValue(e);t?this._keyManager.updateActiveItem(t):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(e){const t=this.options.find(t=>{try{return null!=t.value&&this._compareWith(t.value,e)}catch(aK){return!1}});return t&&this._selectionModel.select(t),t}_initKeyManager(){this._keyManager=new dw(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(UG(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(UG(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):this._panelOpen||this.multiple||!this._keyManager.activeItem||this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=q(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(UG(e)).subscribe(e=>{this._onSelect(e.source,e.isUserInput),e.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),q(...this.options.map(e=>e._stateChanges)).pipe(UG(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,t){const n=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(n!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),t&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),t&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),n!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((t,n)=>this.sortComparator?this.sortComparator(t,n,e):e.indexOf(t)-e.indexOf(n)),this.stateChanges.next()}}_propagateChanges(e){let t=null;t=this.multiple?this.selected.map(e=>e.value):this.selected?this.selected.value:e,this._value=t,this.valueChange.emit(t),this._onChange(t),this.selectionChange.emit(this._getChangeEvent(t)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var e;return!this._panelOpen&&!this.disabled&&(null===(e=this.options)||void 0===e?void 0:e.length)>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._getLabelId();return this.ariaLabelledby?e+" "+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getLabelId(){var e;return(null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId())||""}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let e=this._getLabelId()+" "+this._valueId;return this.ariaLabelledby&&(e+=" "+this.ariaLabelledby),e}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty}}return e.\u0275fac=function(t){return new(t||e)(Io(UY),Io(da),Io(Tc),Io(Fw),Io(Hs),Io(Cw,8),Io(wS,8),Io(ES,8),Io(wY,8),Io(HC,10),Ao("tabindex"),Io(HX),Io(fw),Io(UX,8))},e.\u0275dir=it({type:e,viewQuery:function(e,t){if(1&e&&(Za(IX,!0),Za(AX,!0),Za(TX,!0)),2&e){let e;Ka(e=nc())&&(t.trigger=e.first),Ka(e=nc())&&(t.panel=e.first),Ka(e=nc())&&(t.overlayDir=e.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],id:"id",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",typeaheadDebounceInterval:"typeaheadDebounceInterval",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[yo,xn]}),e})(),KX=(()=>{class e extends XX{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,t,n){const i=this._getItemHeight();return Math.min(Math.max(0,i*e-t+i/2),n)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(UG(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(Wh(1)).subscribe(()=>{this._triggerFontSize&&this.overlayDir.overlayRef&&this.overlayDir.overlayRef.overlayElement&&(this.overlayDir.overlayRef.overlayElement.style.fontSize=this._triggerFontSize+"px")}))}_scrollOptionIntoView(e){const t=oC(e,this.options,this.optionGroups),n=this._getItemHeight();var i,r,o;this.panel.nativeElement.scrollTop=(r=n,(i=(e+t)*n)<(o=this.panel.nativeElement.scrollTop)?i:i+r>o+256?Math.max(0,i-256+r):o)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this.overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new qX(this,e)}_calculateOverlayOffsetX(){const e=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),t=this._viewportRuler.getViewportSize(),n=this._isRtl(),i=this.multiple?56:32;let r;if(this.multiple)r=40;else{let e=this._selectionModel.selected[0]||this.options.first;r=e&&e.group?32:16}n||(r*=-1);const o=0-(e.left+r-(n?i:0)),s=e.right+r-t.width+(n?0:i);o>0?r+=o+8:s>0&&(r-=s+8),this.overlayDir.offsetX=Math.round(r),this.overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,t,n){const i=this._getItemHeight(),r=(i-this._triggerRect.height)/2,o=Math.floor(256/i);let s;return this.disableOptionCentering?0:(s=0===this._scrollTop?e*i:this._scrollTop===n?(e-(this._getItemCount()-o))*i+(i-(this._getItemCount()*i-256)%i):t-i/2,Math.round(-1*s-r))}_checkOverlayWithinViewport(e){const t=this._getItemHeight(),n=this._viewportRuler.getViewportSize(),i=this._triggerRect.top-8,r=n.height-this._triggerRect.bottom-8,o=Math.abs(this._offsetY),s=Math.min(this._getItemCount()*t,256)-o-this._triggerRect.height;s>r?this._adjustPanelUp(s,r):o>i?this._adjustPanelDown(o,i,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,t){const n=Math.round(e-t);this._scrollTop-=n,this._offsetY-=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,t,n){const i=Math.round(e-t);if(this._scrollTop+=i,this._offsetY+=i,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=n)return this._scrollTop=n,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),t=this._getItemCount(),n=Math.min(t*e,256),i=t*e-n;let r;r=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),r+=oC(r,this.options,this.optionGroups);const o=n/2;this._scrollTop=this._calculateOverlayScroll(r,o,i),this._offsetY=this._calculateOverlayOffsetY(r,o,i),this._checkOverlayWithinViewport(i)}_getOriginBasedOnOption(){const e=this._getItemHeight(),t=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-t+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return e.\u0275fac=function(t){return ZX(t||e)},e.\u0275cmp=Ze({type:e,selectors:[["mat-select"]],contentQueries:function(e,t,n){if(1&e&&(Ja(n,YX,!0),Ja(n,rC,!0),Ja(n,Jw,!0)),2&e){let e;Ka(e=nc())&&(t.customTrigger=e.first),Ka(e=nc())&&(t.options=e),Ka(e=nc())&&(t.optionGroups=e)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(e,t){1&e&&Uo("keydown",function(e){return t._handleKeydown(e)})("focus",function(){return t._onFocus()})("blur",function(){return t._onBlur()}),2&e&&(To("id",t.id)("tabindex",t.tabIndex)("aria-controls",t.panelOpen?t.id+"-panel":null)("aria-expanded",t.panelOpen)("aria-label",t.ariaLabel||null)("aria-required",t.required.toString())("aria-disabled",t.disabled.toString())("aria-invalid",t.errorState)("aria-describedby",t._ariaDescribedby||null)("aria-activedescendant",t._getAriaActiveDescendant()),ss("mat-select-disabled",t.disabled)("mat-select-invalid",t.errorState)("mat-select-required",t.required)("mat-select-empty",t.empty)("mat-select-multiple",t.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[Ns([{provide:dY,useExisting:e},{provide:nC,useExisting:e}]),yo],ngContentSelectors:BX,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder"],[1,"mat-select-value-text",3,"ngSwitch"],[4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,t){if(1&e&&(Yo(jX),No(0,"div",0,1),Uo("click",function(){return t.toggle()}),No(3,"div",2),Ro(4,DX,2,1,"span",3),Ro(5,FX,3,2,"span",4),Fo(),No(6,"div",5),Lo(7,"div",6),Fo(),Fo(),Ro(8,LX,4,14,"ng-template",7),Uo("backdropClick",function(){return t.close()})("attach",function(){return t._onAttached()})("detach",function(){return t.close()})),2&e){const e=Vt.lFrame.contextLView[21];To("aria-owns",t.panelOpen?t.id+"-panel":null),or(3),Do("ngSwitch",t.empty),To("id",t._valueId),or(1),Do("ngSwitchCase",!0),or(1),Do("ngSwitchCase",!1),or(3),Do("cdkConnectedOverlayPanelClass",t._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",t._scrollStrategy)("cdkConnectedOverlayOrigin",e)("cdkConnectedOverlayOpen",t.panelOpen)("cdkConnectedOverlayPositions",t._positions)("cdkConnectedOverlayMinWidth",null==t._triggerRect?null:t._triggerRect.width)("cdkConnectedOverlayOffsetY",t._offsetY)}},directives:[OX,Al,Dl,TX,Ml,Ol],styles:[".mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}\n"],encapsulation:2,data:{animation:[zX.transformPanelWrap,zX.transformPanel]},changeDetection:0}),e})();const ZX=di(KX);let QX=(()=>{class e{}return e.\u0275mod=tt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)},providers:[WX],imports:[[Fl,RX,sC,Rw],WY,SY,sC,Rw]}),e})();function JX(e,t){if(1&e){const e=zo();No(0,"div",1),No(1,"button",9),Uo("click",function(){return qt(e),$o().createMeeting()}),vs(2,"Create Meeting"),Fo(),Fo()}}function eK(e,t){if(1&e){const e=zo();No(0,"div",1),No(1,"mat-form-field",3),No(2,"mat-label"),vs(3,"Meeting Id:"),Fo(),No(4,"input",10),Uo("ngModelChange",function(t){return qt(e),$o().roomId=t}),Fo(),Fo(),Fo()}if(2&e){const e=$o();or(4),Do("ngModel",e.roomId)}}function tK(e,t){if(1&e){const e=zo();No(0,"div",1),No(1,"button",9),Uo("click",function(){return qt(e),$o().joinMeeting()}),vs(2,"Join Meeting"),Fo(),Fo()}}const nK=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:(()=>{class e{constructor(e,t){this.router=e,this.roomService=t,this.roomId=null,this.userName=null,this.createMeetingSelected=null}createMeeting(){null!=this.userName&&""!==this.userName&&this.roomService.createRoom().subscribe(e=>{this.roomId=e.roomId,this.router.navigate(["/rooms",this.roomId],{queryParams:{userName:this.userName}})})}joinMeeting(){null!=this.userName&&""!==this.userName&&this.roomService.validateRoomCredentials(this.userName,this.roomId).subscribe(e=>{e.roomExists&&!e.nameExists&&this.router.navigate(["/rooms",this.roomId],{queryParams:{userName:this.userName}})})}changeType(e){this.createMeetingSelected="Create Meeting"===e}}return e.\u0275fac=function(t){return new(t||e)(Io(Ap),Io(zG))},e.\u0275cmp=Ze({type:e,selectors:[["ms-login"]],decls:21,vars:4,consts:[[1,"container","center_div"],[1,"row"],[1,"col"],["appearance","fill"],["matInput","","type","text","placeholder","A cool name!",3,"ngModel","ngModelChange"],["class","row",4,"ngIf"],["required","",3,"selectionChange"],["value","Create Meeting"],["value","Join Meeting"],["type","submit",1,"btn","btn-primary",3,"click"],["matInput","","type","text","placeholder","Enter Meeting Id",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(No(0,"div",0),No(1,"div",1),No(2,"div",2),No(3,"div",1),No(4,"mat-form-field",3),No(5,"mat-label"),vs(6,"Name"),Fo(),No(7,"input",4),Uo("ngModelChange",function(e){return t.userName=e}),Fo(),Fo(),Fo(),Ro(8,JX,3,0,"div",5),Ro(9,eK,5,1,"div",5),Ro(10,tK,3,0,"div",5),Fo(),Fo(),Lo(11,"hr"),No(12,"div",1),No(13,"mat-form-field",3),No(14,"mat-label"),vs(15,"Select Create/Join Meeting Here"),Fo(),No(16,"mat-select",6),Uo("selectionChange",function(e){return t.changeType(e.value)}),No(17,"mat-option",7),vs(18,"Create Meeting"),Fo(),No(19,"mat-option",8),vs(20,"Join Meeting"),Fo(),Fo(),Fo(),Fo(),Fo()),2&e&&(or(7),Do("ngModel",t.userName),or(1),Do("ngIf",null!=t.createMeetingSelected&&t.createMeetingSelected),or(1),Do("ngIf",null!=t.createMeetingSelected&&!t.createMeetingSelected),or(1),Do("ngIf",null!=t.createMeetingSelected&&!t.createMeetingSelected))},directives:[CY,pY,LY,CC,UC,kS,Tl,KX,rC],styles:[".center_div[_ngcontent-%COMP%]{margin:0 auto;width:40%}"]}),e})()},{path:"rooms/:roomId",component:aG}];let iK=(()=>{class e{}return e.\u0275mod=tt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)},imports:[[Up.forRoot(nK,{relativeLinkResolution:"legacy"})],Up]}),e})(),rK=(()=>{class e{constructor(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(e,t){1&e&&Lo(0,"router-outlet")},directives:[Dp],styles:[""]}),e})(),oK=(()=>{class e{}return e.\u0275mod=tt({type:e,bootstrap:[rK]}),e.\u0275inj=de({factory:function(t){return new(t||e)},providers:[zG],imports:[[ph,iK,BG,Ry,L_,TS,jS,jY,SY,QX,mC]]}),e})();(function(){if(bn)throw new Error("Cannot enable prod mode after platform setup.");yn=!1})(),dh().bootstrapModule(oK).catch(e=>console.error(e))},zn8P:function(e,t){function n(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0]]]);